(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Q0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tm={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function mS(){if(J_)return Rl;J_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Rl.Fragment=t,Rl.jsx=n,Rl.jsxs=n,Rl}var tv;function pS(){return tv||(tv=1,tm.exports=mS()),tm.exports}var ot=pS(),em={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function gS(){if(ev)return Ct;ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,$={};function P(x,nt,ht){this.props=x,this.context=nt,this.refs=$,this.updater=ht||N}P.prototype.isReactComponent={},P.prototype.setState=function(x,nt){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,nt,"setState")},P.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function q(){}q.prototype=P.prototype;function F(x,nt,ht){this.props=x,this.context=nt,this.refs=$,this.updater=ht||N}var G=F.prototype=new q;G.constructor=F,M(G,P.prototype),G.isPureReactComponent=!0;var et=Array.isArray,rt={H:null,A:null,T:null,S:null},ft=Object.prototype.hasOwnProperty;function O(x,nt,ht,lt,ut,Dt){return ht=Dt.ref,{$$typeof:r,type:x,key:nt,ref:ht!==void 0?ht:null,props:Dt}}function w(x,nt){return O(x.type,nt,void 0,void 0,void 0,x.props)}function S(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function C(x){var nt={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ht){return nt[ht]})}var k=/\/+/g;function U(x,nt){return typeof x=="object"&&x!==null&&x.key!=null?C(""+x.key):nt.toString(36)}function D(){}function ne(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(nt){x.status==="pending"&&(x.status="fulfilled",x.value=nt)},function(nt){x.status==="pending"&&(x.status="rejected",x.reason=nt)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function te(x,nt,ht,lt,ut){var Dt=typeof x;(Dt==="undefined"||Dt==="boolean")&&(x=null);var It=!1;if(x===null)It=!0;else switch(Dt){case"bigint":case"string":case"number":It=!0;break;case"object":switch(x.$$typeof){case r:case t:It=!0;break;case E:return It=x._init,te(It(x._payload),nt,ht,lt,ut)}}if(It)return ut=ut(x),It=lt===""?"."+U(x,0):lt,et(ut)?(ht="",It!=null&&(ht=It.replace(k,"$&/")+"/"),te(ut,nt,ht,"",function(le){return le})):ut!=null&&(S(ut)&&(ut=w(ut,ht+(ut.key==null||x&&x.key===ut.key?"":(""+ut.key).replace(k,"$&/")+"/")+It)),nt.push(ut)),1;It=0;var ge=lt===""?".":lt+":";if(et(x))for(var Ht=0;Ht<x.length;Ht++)lt=x[Ht],Dt=ge+U(lt,Ht),It+=te(lt,nt,ht,Dt,ut);else if(Ht=R(x),typeof Ht=="function")for(x=Ht.call(x),Ht=0;!(lt=x.next()).done;)lt=lt.value,Dt=ge+U(lt,Ht++),It+=te(lt,nt,ht,Dt,ut);else if(Dt==="object"){if(typeof x.then=="function")return te(ne(x),nt,ht,lt,ut);throw nt=String(x),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return It}function st(x,nt,ht){if(x==null)return x;var lt=[],ut=0;return te(x,lt,"","",function(Dt){return nt.call(ht,Dt,ut++)}),lt}function gt(x){if(x._status===-1){var nt=x._result;nt=nt(),nt.then(function(ht){(x._status===0||x._status===-1)&&(x._status=1,x._result=ht)},function(ht){(x._status===0||x._status===-1)&&(x._status=2,x._result=ht)}),x._status===-1&&(x._status=0,x._result=nt)}if(x._status===1)return x._result.default;throw x._result}var J=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function bt(){}return Ct.Children={map:st,forEach:function(x,nt,ht){st(x,function(){nt.apply(this,arguments)},ht)},count:function(x){var nt=0;return st(x,function(){nt++}),nt},toArray:function(x){return st(x,function(nt){return nt})||[]},only:function(x){if(!S(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ct.Component=P,Ct.Fragment=n,Ct.Profiler=o,Ct.PureComponent=F,Ct.StrictMode=s,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,Ct.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ct.cache=function(x){return function(){return x.apply(null,arguments)}},Ct.cloneElement=function(x,nt,ht){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var lt=M({},x.props),ut=x.key,Dt=void 0;if(nt!=null)for(It in nt.ref!==void 0&&(Dt=void 0),nt.key!==void 0&&(ut=""+nt.key),nt)!ft.call(nt,It)||It==="key"||It==="__self"||It==="__source"||It==="ref"&&nt.ref===void 0||(lt[It]=nt[It]);var It=arguments.length-2;if(It===1)lt.children=ht;else if(1<It){for(var ge=Array(It),Ht=0;Ht<It;Ht++)ge[Ht]=arguments[Ht+2];lt.children=ge}return O(x.type,ut,void 0,void 0,Dt,lt)},Ct.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ct.createElement=function(x,nt,ht){var lt,ut={},Dt=null;if(nt!=null)for(lt in nt.key!==void 0&&(Dt=""+nt.key),nt)ft.call(nt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ut[lt]=nt[lt]);var It=arguments.length-2;if(It===1)ut.children=ht;else if(1<It){for(var ge=Array(It),Ht=0;Ht<It;Ht++)ge[Ht]=arguments[Ht+2];ut.children=ge}if(x&&x.defaultProps)for(lt in It=x.defaultProps,It)ut[lt]===void 0&&(ut[lt]=It[lt]);return O(x,Dt,void 0,void 0,null,ut)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(x){return{$$typeof:m,render:x}},Ct.isValidElement=S,Ct.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:gt}},Ct.memo=function(x,nt){return{$$typeof:g,type:x,compare:nt===void 0?null:nt}},Ct.startTransition=function(x){var nt=rt.T,ht={};rt.T=ht;try{var lt=x(),ut=rt.S;ut!==null&&ut(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(bt,J)}catch(Dt){J(Dt)}finally{rt.T=nt}},Ct.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},Ct.use=function(x){return rt.H.use(x)},Ct.useActionState=function(x,nt,ht){return rt.H.useActionState(x,nt,ht)},Ct.useCallback=function(x,nt){return rt.H.useCallback(x,nt)},Ct.useContext=function(x){return rt.H.useContext(x)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(x,nt){return rt.H.useDeferredValue(x,nt)},Ct.useEffect=function(x,nt){return rt.H.useEffect(x,nt)},Ct.useId=function(){return rt.H.useId()},Ct.useImperativeHandle=function(x,nt,ht){return rt.H.useImperativeHandle(x,nt,ht)},Ct.useInsertionEffect=function(x,nt){return rt.H.useInsertionEffect(x,nt)},Ct.useLayoutEffect=function(x,nt){return rt.H.useLayoutEffect(x,nt)},Ct.useMemo=function(x,nt){return rt.H.useMemo(x,nt)},Ct.useOptimistic=function(x,nt){return rt.H.useOptimistic(x,nt)},Ct.useReducer=function(x,nt,ht){return rt.H.useReducer(x,nt,ht)},Ct.useRef=function(x){return rt.H.useRef(x)},Ct.useState=function(x){return rt.H.useState(x)},Ct.useSyncExternalStore=function(x,nt,ht){return rt.H.useSyncExternalStore(x,nt,ht)},Ct.useTransition=function(){return rt.H.useTransition()},Ct.version="19.0.0",Ct}var nv;function Jm(){return nv||(nv=1,em.exports=gS()),em.exports}var j=Jm();const Jt=Q0(j);var nm={exports:{}},Il={},im={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function yS(){return iv||(iv=1,function(r){function t(st,gt){var J=st.length;st.push(gt);t:for(;0<J;){var bt=J-1>>>1,x=st[bt];if(0<o(x,gt))st[bt]=gt,st[J]=x,J=bt;else break t}}function n(st){return st.length===0?null:st[0]}function s(st){if(st.length===0)return null;var gt=st[0],J=st.pop();if(J!==gt){st[0]=J;t:for(var bt=0,x=st.length,nt=x>>>1;bt<nt;){var ht=2*(bt+1)-1,lt=st[ht],ut=ht+1,Dt=st[ut];if(0>o(lt,J))ut<x&&0>o(Dt,lt)?(st[bt]=Dt,st[ut]=J,bt=ut):(st[bt]=lt,st[ht]=J,bt=ht);else if(ut<x&&0>o(Dt,J))st[bt]=Dt,st[ut]=J,bt=ut;else break t}}return gt}function o(st,gt){var J=st.sortIndex-gt.sortIndex;return J!==0?J:st.id-gt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,R=3,N=!1,M=!1,$=!1,P=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function G(st){for(var gt=n(g);gt!==null;){if(gt.callback===null)s(g);else if(gt.startTime<=st)s(g),gt.sortIndex=gt.expirationTime,t(p,gt);else break;gt=n(g)}}function et(st){if($=!1,G(st),!M)if(n(p)!==null)M=!0,ne();else{var gt=n(g);gt!==null&&te(et,gt.startTime-st)}}var rt=!1,ft=-1,O=5,w=-1;function S(){return!(r.unstable_now()-w<O)}function C(){if(rt){var st=r.unstable_now();w=st;var gt=!0;try{t:{M=!1,$&&($=!1,q(ft),ft=-1),N=!0;var J=R;try{e:{for(G(st),A=n(p);A!==null&&!(A.expirationTime>st&&S());){var bt=A.callback;if(typeof bt=="function"){A.callback=null,R=A.priorityLevel;var x=bt(A.expirationTime<=st);if(st=r.unstable_now(),typeof x=="function"){A.callback=x,G(st),gt=!0;break e}A===n(p)&&s(p),G(st)}else s(p);A=n(p)}if(A!==null)gt=!0;else{var nt=n(g);nt!==null&&te(et,nt.startTime-st),gt=!1}}break t}finally{A=null,R=J,N=!1}gt=void 0}}finally{gt?k():rt=!1}}}var k;if(typeof F=="function")k=function(){F(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=C,k=function(){D.postMessage(null)}}else k=function(){P(C,0)};function ne(){rt||(rt=!0,k())}function te(st,gt){ft=P(function(){st(r.unstable_now())},gt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(st){st.callback=null},r.unstable_continueExecution=function(){M||N||(M=!0,ne())},r.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<st?Math.floor(1e3/st):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(st){switch(R){case 1:case 2:case 3:var gt=3;break;default:gt=R}var J=R;R=gt;try{return st()}finally{R=J}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(st,gt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var J=R;R=st;try{return gt()}finally{R=J}},r.unstable_scheduleCallback=function(st,gt,J){var bt=r.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?bt+J:bt):J=bt,st){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=J+x,st={id:E++,callback:gt,priorityLevel:st,startTime:J,expirationTime:x,sortIndex:-1},J>bt?(st.sortIndex=J,t(g,st),n(p)===null&&st===n(g)&&($?(q(ft),ft=-1):$=!0,te(et,J-bt))):(st.sortIndex=x,t(p,st),M||N||(M=!0,ne())),st},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(st){var gt=R;return function(){var J=R;R=gt;try{return st.apply(this,arguments)}finally{R=J}}}}(rm)),rm}var rv;function _S(){return rv||(rv=1,im.exports=yS()),im.exports}var sm={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function vS(){if(sv)return Qe;sv=1;var r=Jm();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Qe.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qe.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qe.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:R,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qe.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qe.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qe.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qe.requestFormReset=function(p){s.d.r(p)},Qe.unstable_batchedUpdates=function(p,g){return p(g)},Qe.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.0.0",Qe}var av;function ES(){if(av)return sm.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sm.exports=vS(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function TS(){if(ov)return Il;ov=1;var r=_S(),t=Jm(),n=ES();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),et=Symbol.for("react.memo_cache_sentinel"),rt=Symbol.iterator;function ft(e){return e===null||typeof e!="object"?null:(e=rt&&e[rt]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case N:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case M:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return i=e.displayName||null,i!==null?i:w(e.type)||"Memo";case F:i=e._payload,e=e._init;try{return w(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,k,U;function D(e){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+e+U}var ne=!1;function te(e,i){if(!e||ne)return"";ne=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Y){var K=Y}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(Y){K=Y}e.call(tt.prototype)}}else{try{throw Error()}catch(Y){K=Y}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),L=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===L.length)for(l=I.length-1,h=L.length-1;1<=l&&0<=h&&I[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==L[h]){var X=`
`+I[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=h);break}}}finally{ne=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?D(a):""}function st(e){switch(e.tag){case 26:case 27:case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function gt(e){try{var i="";do i+=st(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function J(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function bt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function x(e){if(J(e)!==e)throw Error(s(188))}function nt(e){var i=e.alternate;if(!i){if(i=J(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return x(h),e;if(d===l)return x(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function ht(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=ht(e),i!==null)return i;e=e.sibling}return null}var lt=Array.isArray,ut=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Dt={pending:!1,data:null,method:null,action:null},It=[],ge=-1;function Ht(e){return{current:e}}function le(e){0>ge||(e.current=It[ge],It[ge]=null,ge--)}function Kt(e,i){ge++,It[ge]=e.current,e.current=i}var Je=Ht(null),Ai=Ht(null),Tn=Ht(null),lr=Ht(null);function ur(e,i){switch(Kt(Tn,i),Kt(Ai,e),Kt(Je,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?C_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=C_(e),i=D_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}le(Je),Kt(Je,i)}function Si(){le(Je),le(Ai),le(Tn)}function To(e){e.memoizedState!==null&&Kt(lr,e);var i=Je.current,a=D_(i,e.type);i!==a&&(Kt(Ai,e),Kt(Je,a))}function la(e){Ai.current===e&&(le(Je),le(Ai)),lr.current===e&&(le(lr),Tl._currentValue=Dt)}var ua=Object.prototype.hasOwnProperty,ds=r.unstable_scheduleCallback,ca=r.unstable_cancelCallback,ef=r.unstable_shouldYield,bo=r.unstable_requestPaint,on=r.unstable_now,mu=r.unstable_getCurrentPriorityLevel,Te=r.unstable_ImmediatePriority,Oe=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,pu=r.unstable_LowPriority,Ao=r.unstable_IdlePriority,nf=r.log,ms=r.unstable_setDisableYieldValue,cr=null,$e=null;function So(e){if($e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(cr,e,void 0,(e.current.flags&128)===128)}catch{}}function Yn(e){if(typeof nf=="function"&&ms(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(cr,e)}catch{}}var tn=Math.clz32?Math.clz32:yu,wo=Math.log,gu=Math.LN2;function yu(e){return e>>>=0,e===0?32:31-(wo(e)/gu|0)|0}var Xn=128,hr=4194304;function zn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bn(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=zn(a):(d&=T,d!==0?l=zn(d):e||(v=T&~v,v!==0&&(l=zn(v))))):(T=a&~h,T!==0?l=zn(T):d!==0?l=zn(d):e||(v=a&~v,v!==0&&(l=zn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function fr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function ha(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var e=Xn;return Xn<<=1,(Xn&4194176)===0&&(Xn=128),e}function dr(){var e=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),e}function fa(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function de(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _u(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var X=31-tn(a),tt=1<<X;T[X]=0,I[X]=-1;var K=L[X];if(K!==null)for(L[X]=null,X=0;X<K.length;X++){var Y=K[X];Y!==null&&(Y.lane&=-536870913)}a&=~tt}l!==0&&mr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function mr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-tn(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function pr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-tn(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function vu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Eu(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function gr(e,i){var a=ut.p;try{return ut.p=e,i()}finally{ut.p=a}}var Wn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Wn,be="__reactProps$"+Wn,Ri="__reactContainer$"+Wn,ps="__reactEvents$"+Wn,da="__reactListeners$"+Wn,Zn="__reactHandles$"+Wn,Io="__reactResources$"+Wn,yr="__reactMarker$"+Wn;function gs(e){delete e[Ne],delete e[be],delete e[ps],delete e[da],delete e[Zn]}function Bn(e){var i=e[Ne];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ri]||a[Ne]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=x_(e);e!==null;){if(a=e[Ne])return a;e=x_(e)}return i}e=a,a=e.parentNode}return null}function Ii(e){if(e=e[Ne]||e[Ri]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function _r(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function vr(e){var i=e[Io];return i||(i=e[Io]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ie(e){e[yr]=!0}var Co=new Set,ma={};function fn(e,i){ln(e,i),ln(e+"Capture",i)}function ln(e,i){for(ma[e]=i,e=0;e<i.length;e++)Co.add(i[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function Tu(e){return ua.call(Oo,e)?!0:ua.call(Do,e)?!1:rf.test(e)?Oo[e]=!0:(Do[e]=!0,!1)}function Er(e,i,a){if(Tu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Tr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function An(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bu(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sf(e){var i=bu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ys(e){e._valueTracker||(e._valueTracker=sf(e))}function No(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=bu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ci=/[\n"\\]/g;function ue(e){return e.replace(Ci,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function br(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+en(i)):e.value!==""+en(i)&&(e.value=""+en(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?ga(e,v,en(i)):a!=null?ga(e,v,en(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+en(T):e.removeAttribute("name")}function _s(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+en(a):"",i=i!=null?""+en(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function ga(e,i,a){i==="number"&&pa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function jt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+en(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function vs(e,i,a){if(i!=null&&(i=""+en(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+en(a):""}function Ar(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=en(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var af=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||af.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Au(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&xo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&xo(e,d,i[d])}function ko(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jn(e){return lf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wn=null;function ya(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,Oi=null;function Ni(e){var i=Ii(e);if(i&&(e=i.stateNode)){var a=e[be]||null;t:switch(e=i.stateNode,i.type){case"input":if(br(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ue(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[be]||null;if(!h)throw Error(s(90));br(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&No(l)}break t;case"textarea":vs(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&jt(e,!!a.multiple,i,!1)}}}var Mo=!1;function Su(e,i,a){if(Mo)return e(i,a);Mo=!0;try{var l=e(i);return l}finally{if(Mo=!1,(Di!==null||Oi!==null)&&(pc(),Di&&(i=Di,e=Oi,Oi=Di=null,Ni(i),e)))for(i=0;i<e.length;i++)Ni(e[i])}}function Es(e,i){var a=e.stateNode;if(a===null)return null;var l=a[be]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Rn=!1;if(dn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Rn=!1}var ti=null,Sr=null,xi=null;function Vo(){if(xi)return xi;var e,i=Sr,a=i.length,l,h="value"in ti?ti.value:ti.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return xi=h.slice(e,1<l?1-l:void 0)}function ei(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Po(){return!1}function xe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ni:Po,this.isPropagationStopped=Po,this}return C(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),i}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=xe(Gt),bs=C({},Gt,{view:0,detail:0}),wu=xe(bs),va,Ea,ii,As=C({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(va=e.screenX-ii.screenX,Ea=e.screenY-ii.screenY):Ea=va=0,ii=e),va)},movementY:function(e){return"movementY"in e?e.movementY:Ea}}),In=xe(As),Ru=C({},As,{dataTransfer:0}),uf=xe(Ru),Ss=C({},bs,{relatedTarget:0}),Ta=xe(Ss),Lo=C({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=xe(Lo),Iu=C({},Gt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Aa=xe(Iu),cf=C({},Gt,{data:0}),Uo=xe(cf),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Du[e])?!!i[e]:!1}function Rs(){return zo}var Ou=C({},bs,{key:function(e){if(e.key){var i=ws[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sa=xe(Ou),Nu=C({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=xe(Nu),ki=C({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),xu=xe(ki),ku=C({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=xe(ku),Vu=C({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=xe(Vu),nn=C({},Gt,{newState:0,oldState:0}),Pu=xe(nn),Lu=[9,13,27,32],ri=dn&&"CompositionEvent"in window,c=null;dn&&"documentMode"in document&&(c=document.documentMode);var y=dn&&"TextEvent"in window&&!c,_=dn&&(!ri||c&&8<c&&11>=c),b=" ",B=!1;function Q(e,i){switch(e){case"keyup":return Lu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function Ae(e,i){switch(e){case"compositionend":return at(i);case"keypress":return i.which!==32?null:(B=!0,b);case"textInput":return e=i.data,e===b&&B?null:e;default:return null}}function Ut(e,i){if(Lt)return e==="compositionend"||!ri&&Q(e,i)?(e=Vo(),xi=Sr=ti=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ke[e.type]:i==="textarea"}function Mi(e,i,a,l){Di?Oi?Oi.push(l):Oi=[l]:Di=l,i=Ec(i,"onChange"),0<i.length&&(a=new _a("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var ze=null,si=null;function Ho(e){A_(e,0)}function Uu(e){var i=_r(e);if(No(i))return e}function Zp(e,i){if(e==="change")return i}var Jp=!1;if(dn){var hf;if(dn){var ff="oninput"in document;if(!ff){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),ff=typeof tg.oninput=="function"}hf=ff}else hf=!1;Jp=hf&&(!document.documentMode||9<document.documentMode)}function eg(){ze&&(ze.detachEvent("onpropertychange",ng),si=ze=null)}function ng(e){if(e.propertyName==="value"&&Uu(si)){var i=[];Mi(i,si,e,ya(e)),Su(Ho,i)}}function Fb(e,i,a){e==="focusin"?(eg(),ze=i,si=a,ze.attachEvent("onpropertychange",ng)):e==="focusout"&&eg()}function Gb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uu(si)}function $b(e,i){if(e==="click")return Uu(i)}function Kb(e,i){if(e==="input"||e==="change")return Uu(i)}function Qb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var mn=typeof Object.is=="function"?Object.is:Qb;function jo(e,i){if(mn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ua.call(i,h)||!mn(e[h],i[h]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rg(e,i){var a=ig(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ig(a)}}function sg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?sg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=pa(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=pa(e.document)}return i}function df(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Yb(e,i){var a=ag(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&sg(i.ownerDocument.documentElement,i)){if(l!==null&&df(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=rg(i,d);var v=rg(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Xb=dn&&"documentMode"in document&&11>=document.documentMode,Ra=null,mf=null,qo=null,pf=!1;function og(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ra==null||Ra!==pa(l)||(l=Ra,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),qo&&jo(qo,l)||(qo=l,l=Ec(mf,"onSelect"),0<l.length&&(i=new _a("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ra)))}function Is(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ia={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},gf={},lg={};dn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Cs(e){if(gf[e])return gf[e];if(!Ia[e])return e;var i=Ia[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in lg)return gf[e]=i[a];return e}var ug=Cs("animationend"),cg=Cs("animationiteration"),hg=Cs("animationstart"),Wb=Cs("transitionrun"),Zb=Cs("transitionstart"),Jb=Cs("transitioncancel"),fg=Cs("transitionend"),dg=new Map,mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Hn(e,i){dg.set(e,i),fn(i,[e])}var Cn=[],Ca=0,yf=0;function zu(){for(var e=Ca,i=yf=Ca=0;i<e;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&pg(a,h,d)}}function Bu(e,i,a,l){Cn[Ca++]=e,Cn[Ca++]=i,Cn[Ca++]=a,Cn[Ca++]=l,yf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function _f(e,i,a,l){return Bu(e,i,a,l),Hu(e)}function wr(e,i){return Bu(e,null,null,i),Hu(e)}function pg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-tn(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function Hu(e){if(50<ml)throw ml=0,Sd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Da={},gg=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=gg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:gt(i)},gg.set(e,i),i)}return{value:e,source:i,stack:gt(i)}}var Oa=[],Na=0,ju=null,qu=0,On=[],Nn=0,Ds=null,Vi=1,Pi="";function Os(e,i){Oa[Na++]=qu,Oa[Na++]=ju,ju=e,qu=i}function yg(e,i,a){On[Nn++]=Vi,On[Nn++]=Pi,On[Nn++]=Ds,Ds=e;var l=Vi;e=Pi;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var d=32-tn(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vi=1<<32-tn(i)+h|a<<h|l,Pi=d+e}else Vi=1<<d|a<<h|l,Pi=e}function vf(e){e.return!==null&&(Os(e,1),yg(e,1,0))}function Ef(e){for(;e===ju;)ju=Oa[--Na],Oa[Na]=null,qu=Oa[--Na],Oa[Na]=null;for(;e===Ds;)Ds=On[--Nn],On[Nn]=null,Pi=On[--Nn],On[Nn]=null,Vi=On[--Nn],On[Nn]=null}var rn=null,Be=null,qt=!1,jn=null,ai=!1,Tf=Error(s(519));function Ns(e){var i=Error(s(418,""));throw $o(Dn(i,e)),Tf}function _g(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ne]=e,i[be]=l,a){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Pt(gl[a],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Pt("invalid",i),_s(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ys(i);break;case"select":Pt("invalid",i);break;case"textarea":Pt("invalid",i),Ar(i,l.value,l.defaultValue,l.children),ys(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||I_(i.textContent,a)?(l.popover!=null&&(Pt("beforetoggle",i),Pt("toggle",i)),l.onScroll!=null&&Pt("scroll",i),l.onScrollEnd!=null&&Pt("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||Ns(e)}function vg(e){for(rn=e.return;rn;)switch(rn.tag){case 3:case 27:ai=!0;return;case 5:case 13:ai=!1;return;default:rn=rn.return}}function Fo(e){if(e!==rn)return!1;if(!qt)return vg(e),qt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Hd(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Be&&Ns(e),vg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Be=Fn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Be=null}}else Be=rn?Fn(e.stateNode.nextSibling):null;return!0}function Go(){Be=rn=null,qt=!1}function $o(e){jn===null?jn=[e]:jn.push(e)}var Ko=Error(s(460)),Eg=Error(s(474)),bf={then:function(){}};function Tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fu(){}function bg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Fu,Fu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Ko?Error(s(483)):e;default:if(typeof i.status=="string")i.then(Fu,Fu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Ko?Error(s(483)):e}throw Qo=i,Ko}}var Qo=null;function Ag(){if(Qo===null)throw Error(s(459));var e=Qo;return Qo=null,e}var xa=null,Yo=0;function Gu(e){var i=Yo;return Yo+=1,xa===null&&(xa=[]),bg(xa,e,i)}function Xo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function $u(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Sg(e){var i=e._init;return i(e._payload)}function wg(e){function i(z,V){if(e){var H=z.deletions;H===null?(z.deletions=[V],z.flags|=16):H.push(V)}}function a(z,V){if(!e)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=Lr(z,V),z.index=0,z.sibling=null,z}function d(z,V,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<V?(z.flags|=33554434,V):H):(z.flags|=33554434,V)):(z.flags|=1048576,V)}function v(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function T(z,V,H,W){return V===null||V.tag!==6?(V=gd(H,z.mode,W),V.return=z,V):(V=h(V,H),V.return=z,V)}function I(z,V,H,W){var dt=H.type;return dt===p?X(z,V,H.props.children,W,H.key):V!==null&&(V.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===F&&Sg(dt)===V.type)?(V=h(V,H.props),Xo(V,H),V.return=z,V):(V=cc(H.type,H.key,H.props,null,z.mode,W),Xo(V,H),V.return=z,V)}function L(z,V,H,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=yd(H,z.mode,W),V.return=z,V):(V=h(V,H.children||[]),V.return=z,V)}function X(z,V,H,W,dt){return V===null||V.tag!==7?(V=Hs(H,z.mode,W,dt),V.return=z,V):(V=h(V,H),V.return=z,V)}function tt(z,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=gd(""+V,z.mode,H),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return H=cc(V.type,V.key,V.props,null,z.mode,H),Xo(H,V),H.return=z,H;case m:return V=yd(V,z.mode,H),V.return=z,V;case F:var W=V._init;return V=W(V._payload),tt(z,V,H)}if(lt(V)||ft(V))return V=Hs(V,z.mode,H,null),V.return=z,V;if(typeof V.then=="function")return tt(z,Gu(V),H);if(V.$$typeof===N)return tt(z,oc(z,V),H);$u(z,V)}return null}function K(z,V,H,W){var dt=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return dt!==null?null:T(z,V,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===dt?I(z,V,H,W):null;case m:return H.key===dt?L(z,V,H,W):null;case F:return dt=H._init,H=dt(H._payload),K(z,V,H,W)}if(lt(H)||ft(H))return dt!==null?null:X(z,V,H,W,null);if(typeof H.then=="function")return K(z,V,Gu(H),W);if(H.$$typeof===N)return K(z,V,oc(z,H),W);$u(z,H)}return null}function Y(z,V,H,W,dt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(H)||null,T(V,z,""+W,dt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return z=z.get(W.key===null?H:W.key)||null,I(V,z,W,dt);case m:return z=z.get(W.key===null?H:W.key)||null,L(V,z,W,dt);case F:var xt=W._init;return W=xt(W._payload),Y(z,V,H,W,dt)}if(lt(W)||ft(W))return z=z.get(H)||null,X(V,z,W,dt,null);if(typeof W.then=="function")return Y(z,V,H,Gu(W),dt);if(W.$$typeof===N)return Y(z,V,H,oc(V,W),dt);$u(V,W)}return null}function mt(z,V,H,W){for(var dt=null,xt=null,pt=V,vt=V=0,Pe=null;pt!==null&&vt<H.length;vt++){pt.index>vt?(Pe=pt,pt=null):Pe=pt.sibling;var Ft=K(z,pt,H[vt],W);if(Ft===null){pt===null&&(pt=Pe);break}e&&pt&&Ft.alternate===null&&i(z,pt),V=d(Ft,V,vt),xt===null?dt=Ft:xt.sibling=Ft,xt=Ft,pt=Pe}if(vt===H.length)return a(z,pt),qt&&Os(z,vt),dt;if(pt===null){for(;vt<H.length;vt++)pt=tt(z,H[vt],W),pt!==null&&(V=d(pt,V,vt),xt===null?dt=pt:xt.sibling=pt,xt=pt);return qt&&Os(z,vt),dt}for(pt=l(pt);vt<H.length;vt++)Pe=Y(pt,z,vt,H[vt],W),Pe!==null&&(e&&Pe.alternate!==null&&pt.delete(Pe.key===null?vt:Pe.key),V=d(Pe,V,vt),xt===null?dt=Pe:xt.sibling=Pe,xt=Pe);return e&&pt.forEach(function(Fr){return i(z,Fr)}),qt&&Os(z,vt),dt}function wt(z,V,H,W){if(H==null)throw Error(s(151));for(var dt=null,xt=null,pt=V,vt=V=0,Pe=null,Ft=H.next();pt!==null&&!Ft.done;vt++,Ft=H.next()){pt.index>vt?(Pe=pt,pt=null):Pe=pt.sibling;var Fr=K(z,pt,Ft.value,W);if(Fr===null){pt===null&&(pt=Pe);break}e&&pt&&Fr.alternate===null&&i(z,pt),V=d(Fr,V,vt),xt===null?dt=Fr:xt.sibling=Fr,xt=Fr,pt=Pe}if(Ft.done)return a(z,pt),qt&&Os(z,vt),dt;if(pt===null){for(;!Ft.done;vt++,Ft=H.next())Ft=tt(z,Ft.value,W),Ft!==null&&(V=d(Ft,V,vt),xt===null?dt=Ft:xt.sibling=Ft,xt=Ft);return qt&&Os(z,vt),dt}for(pt=l(pt);!Ft.done;vt++,Ft=H.next())Ft=Y(pt,z,vt,Ft.value,W),Ft!==null&&(e&&Ft.alternate!==null&&pt.delete(Ft.key===null?vt:Ft.key),V=d(Ft,V,vt),xt===null?dt=Ft:xt.sibling=Ft,xt=Ft);return e&&pt.forEach(function(dS){return i(z,dS)}),qt&&Os(z,vt),dt}function fe(z,V,H,W){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:t:{for(var dt=H.key;V!==null;){if(V.key===dt){if(dt=H.type,dt===p){if(V.tag===7){a(z,V.sibling),W=h(V,H.props.children),W.return=z,z=W;break t}}else if(V.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===F&&Sg(dt)===V.type){a(z,V.sibling),W=h(V,H.props),Xo(W,H),W.return=z,z=W;break t}a(z,V);break}else i(z,V);V=V.sibling}H.type===p?(W=Hs(H.props.children,z.mode,W,H.key),W.return=z,z=W):(W=cc(H.type,H.key,H.props,null,z.mode,W),Xo(W,H),W.return=z,z=W)}return v(z);case m:t:{for(dt=H.key;V!==null;){if(V.key===dt)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(z,V.sibling),W=h(V,H.children||[]),W.return=z,z=W;break t}else{a(z,V);break}else i(z,V);V=V.sibling}W=yd(H,z.mode,W),W.return=z,z=W}return v(z);case F:return dt=H._init,H=dt(H._payload),fe(z,V,H,W)}if(lt(H))return mt(z,V,H,W);if(ft(H)){if(dt=ft(H),typeof dt!="function")throw Error(s(150));return H=dt.call(H),wt(z,V,H,W)}if(typeof H.then=="function")return fe(z,V,Gu(H),W);if(H.$$typeof===N)return fe(z,V,oc(z,H),W);$u(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(z,V.sibling),W=h(V,H),W.return=z,z=W):(a(z,V),W=gd(H,z.mode,W),W.return=z,z=W),v(z)):a(z,V)}return function(z,V,H,W){try{Yo=0;var dt=fe(z,V,H,W);return xa=null,dt}catch(pt){if(pt===Ko)throw pt;var xt=Vn(29,pt,null,z.mode);return xt.lanes=W,xt.return=z,xt}finally{}}}var xs=wg(!0),Rg=wg(!1),ka=Ht(null),Ku=Ht(0);function Ig(e,i){e=Ki,Kt(Ku,e),Kt(ka,i),Ki=e|i.baseLanes}function Af(){Kt(Ku,Ki),Kt(ka,ka.current)}function Sf(){Ki=Ku.current,le(ka),le(Ku)}var xn=Ht(null),oi=null;function Rr(e){var i=e.alternate;Kt(we,we.current&1),Kt(xn,e),oi===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(oi=e)}function Cg(e){if(e.tag===22){if(Kt(we,we.current),Kt(xn,e),oi===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(oi=e)}}else Ir()}function Ir(){Kt(we,we.current),Kt(xn,xn.current)}function Li(e){le(xn),oi===e&&(oi=null),le(we)}var we=Ht(0);function Qu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var tA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},eA=r.unstable_scheduleCallback,nA=r.unstable_NormalPriority,Re={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new tA,data:new Map,refCount:0}}function Wo(e){e.refCount--,e.refCount===0&&eA(nA,function(){e.controller.abort()})}var Zo=null,Rf=0,Ma=0,Va=null;function iA(e,i){if(Zo===null){var a=Zo=[];Rf=0,Ma=xd(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rf++,i.then(Dg,Dg),i}function Dg(){if(--Rf===0&&Zo!==null){Va!==null&&(Va.status="fulfilled");var e=Zo;Zo=null,Ma=0,Va=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function rA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Og=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&iA(e,i),Og!==null&&Og(e,i)};var ks=Ht(null);function If(){var e=ks.current;return e!==null?e:Wt.pooledCache}function Yu(e,i){i===null?Kt(ks,ks.current):Kt(ks,i.pool)}function Ng(){var e=If();return e===null?null:{parent:Re._currentValue,pool:e}}var Cr=0,Ot=null,Qt=null,ye=null,Xu=!1,Pa=!1,Ms=!1,Wu=0,Jo=0,La=null,sA=0;function me(){throw Error(s(321))}function Cf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!mn(e[a],i[a]))return!1;return!0}function Df(e,i,a,l,h,d){return Cr=d,Ot=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?Vs:Dr,Ms=!1,d=a(l,h),Ms=!1,Pa&&(d=kg(i,a,l,h)),xg(e),d}function xg(e){S.H=li;var i=Qt!==null&&Qt.next!==null;if(Cr=0,ye=Qt=Ot=null,Xu=!1,Jo=0,La=null,i)throw Error(s(300));e===null||Me||(e=e.dependencies,e!==null&&ac(e)&&(Me=!0))}function kg(e,i,a,l){Ot=e;var h=0;do{if(Pa&&(La=null),Jo=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,ye=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=Ps,d=i(a,l)}while(Pa);return d}function aA(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?tl(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Ot.flags|=1024),i}function Of(){var e=Wu!==0;return Wu=0,e}function Nf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function xf(e){if(Xu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Xu=!1}Cr=0,ye=Qt=Ot=null,Pa=!1,Jo=Wu=0,La=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?Ot.memoizedState=ye=e:ye=ye.next=e,ye}function _e(){if(Qt===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=ye===null?Ot.memoizedState:ye.next;if(i!==null)ye=i,Qt=e;else{if(e===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ye===null?Ot.memoizedState=ye=e:ye=ye.next=e}return ye}var Zu;Zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function tl(e){var i=Jo;return Jo+=1,La===null&&(La=[]),e=bg(La,e,i),i=Ot,(ye===null?i.memoizedState:ye.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Vs:Dr),e}function Ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===N)return Ke(e)}throw Error(s(438,String(e)))}function kf(e){var i=null,a=Ot.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),Ot.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=et;return i.index++,a}function Ui(e,i){return typeof i=="function"?i(e):i}function tc(e){var i=_e();return Mf(i,Qt,e)}function Mf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,I=null,L=i,X=!1;do{var tt=L.lane&-536870913;if(tt!==L.lane?(zt&tt)===tt:(Cr&tt)===tt){var K=L.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),tt===Ma&&(X=!0);else if((Cr&K)===K){L=L.next,K===Ma&&(X=!0);continue}else tt={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(T=I=tt,v=d):I=I.next=tt,Ot.lanes|=K,Ur|=K;tt=L.action,Ms&&a(d,tt),d=L.hasEagerState?L.eagerState:a(d,tt)}else K={lane:tt,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(T=I=K,v=d):I=I.next=K,Ot.lanes|=tt,Ur|=tt;L=L.next}while(L!==null&&L!==i);if(I===null?v=d:I.next=T,!mn(d,e.memoizedState)&&(Me=!0,X&&(a=Va,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Vf(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);mn(d,i.memoizedState)||(Me=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Mg(e,i,a){var l=Ot,h=_e(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!mn((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Me=!0),h=h.queue,Uf(Lg.bind(null,l,h,e),[e]),h.getSnapshot!==i||v||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,Ua(9,Pg.bind(null,l,h,a,i),{destroy:void 0},null),Wt===null)throw Error(s(349));d||(Cr&60)!==0||Vg(l,i,a)}return a}function Vg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ot.updateQueue,i===null?(i=Zu(),Ot.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Pg(e,i,a,l){i.value=a,i.getSnapshot=l,Ug(i)&&zg(e)}function Lg(e,i,a){return a(function(){Ug(i)&&zg(e)})}function Ug(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!mn(e,a)}catch{return!0}}function zg(e){var i=wr(e,2);i!==null&&sn(i,e,2)}function Pf(e){var i=un();if(typeof e=="function"){var a=e;if(e=a(),Ms){Yn(!0);try{a()}finally{Yn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},i}function Bg(e,i,a,l){return e.baseState=a,Mf(e,Qt,typeof l=="function"?l:Ui)}function oA(e,i,a,l,h){if(ic(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Hg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Hg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var T=a(h,l),I=S.S;I!==null&&I(v,T),jg(e,i,T)}catch(L){Lf(e,i,L)}finally{S.T=d}}else try{d=a(h,l),jg(e,i,d)}catch(L){Lf(e,i,L)}}function jg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qg(e,i,l)},function(l){return Lf(e,i,l)}):qg(e,i,a)}function qg(e,i,a){i.status="fulfilled",i.value=a,Fg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Hg(e,a)))}function Lf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fg(i),i=i.next;while(i!==l)}e.action=null}function Fg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Gg(e,i){return i}function $g(e,i){if(qt){var a=Wt.formState;if(a!==null){t:{var l=Ot;if(qt){if(Be){e:{for(var h=Be,d=ai;h.nodeType!==8;){if(!d){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Be=Fn(h.nextSibling),l=h.data==="F!";break t}}Ns(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:i},a.queue=l,a=cy.bind(null,Ot,l),l.dispatch=a,l=Pf(!1),d=qf.bind(null,Ot,!1,l.queue),l=un(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=oA.bind(null,Ot,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Kg(e){var i=_e();return Qg(i,Qt,e)}function Qg(e,i,a){i=Mf(e,i,Gg)[0],e=tc(Ui)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?tl(i):i;var l=_e(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ot.flags|=2048,Ua(9,lA.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function lA(e,i){e.action=i}function Yg(e){var i=_e(),a=Qt;if(a!==null)return Qg(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ua(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=Ot.updateQueue,i===null&&(i=Zu(),Ot.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Xg(){return _e().memoizedState}function ec(e,i,a,l){var h=un();Ot.flags|=e,h.memoizedState=Ua(1|i,a,{destroy:void 0},l===void 0?null:l)}function nc(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&Cf(l,Qt.memoizedState.deps)?h.memoizedState=Ua(i,a,d,l):(Ot.flags|=e,h.memoizedState=Ua(1|i,a,d,l))}function Wg(e,i){ec(8390656,8,e,i)}function Uf(e,i){nc(2048,8,e,i)}function Zg(e,i){return nc(4,2,e,i)}function Jg(e,i){return nc(4,4,e,i)}function ty(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ey(e,i,a){a=a!=null?a.concat([e]):null,nc(4,4,ty.bind(null,i,e),a)}function zf(){}function ny(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Cf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function iy(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Cf(i,l[1]))return l[0];if(l=e(),Ms){Yn(!0);try{e()}finally{Yn(!1)}}return a.memoizedState=[l,i],l}function Bf(e,i,a){return a===void 0||(Cr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=s_(),Ot.lanes|=e,Ur|=e,a)}function ry(e,i,a,l){return mn(a,i)?a:ka.current!==null?(e=Bf(e,a,l),mn(e,i)||(Me=!0),e):(Cr&42)===0?(Me=!0,e.memoizedState=a):(e=s_(),Ot.lanes|=e,Ur|=e,i)}function sy(e,i,a,l,h){var d=ut.p;ut.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,qf(e,!1,i,a);try{var I=h(),L=S.S;if(L!==null&&L(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=rA(I,l);el(e,i,X,_n(e))}else el(e,i,l,_n(e))}catch(tt){el(e,i,{then:function(){},status:"rejected",reason:tt},_n())}finally{ut.p=d,S.T=v}}function uA(){}function Hf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=ay(e).queue;sy(e,h,i,Dt,a===null?uA:function(){return oy(e),a(l)})}function ay(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Dt,baseState:Dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:Dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function oy(e){var i=ay(e).next.queue;el(e,i,{},_n())}function jf(){return Ke(Tl)}function ly(){return _e().memoizedState}function uy(){return _e().memoizedState}function cA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();e=xr(a);var l=kr(i,e,a);l!==null&&(sn(l,i,a),rl(l,i,a)),i={cache:wf()},e.payload=i;return}i=i.return}}function hA(e,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ic(e)?hy(i,a):(a=_f(e,i,a,l),a!==null&&(sn(a,e,l),fy(a,i,l)))}function cy(e,i,a){var l=_n();el(e,i,a,l)}function el(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(e))hy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return Bu(e,i,h,0),Wt===null&&zu(),!1}catch{}finally{}if(a=_f(e,i,h,l),a!==null)return sn(a,e,l),fy(a,i,l),!0}return!1}function qf(e,i,a,l){if(l={lane:2,revertLane:xd(),action:l,hasEagerState:!1,eagerState:null,next:null},ic(e)){if(i)throw Error(s(479))}else i=_f(e,a,l,2),i!==null&&sn(i,e,2)}function ic(e){var i=e.alternate;return e===Ot||i!==null&&i===Ot}function hy(e,i){Pa=Xu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function fy(e,i,a){if((a&4194176)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,pr(e,a)}}var li={readContext:Ke,use:Ju,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me};li.useCacheRefresh=me,li.useMemoCache=me,li.useHostTransitionStatus=me,li.useFormState=me,li.useActionState=me,li.useOptimistic=me;var Vs={readContext:Ke,use:Ju,useCallback:function(e,i){return un().memoizedState=[e,i===void 0?null:i],e},useContext:Ke,useEffect:Wg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ec(4194308,4,ty.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ec(4194308,4,e,i)},useInsertionEffect:function(e,i){ec(4,2,e,i)},useMemo:function(e,i){var a=un();i=i===void 0?null:i;var l=e();if(Ms){Yn(!0);try{e()}finally{Yn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=un();if(a!==void 0){var h=a(i);if(Ms){Yn(!0);try{a(i)}finally{Yn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=hA.bind(null,Ot,e),[l.memoizedState,e]},useRef:function(e){var i=un();return e={current:e},i.memoizedState=e},useState:function(e){e=Pf(e);var i=e.queue,a=cy.bind(null,Ot,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(e,i){var a=un();return Bf(a,e,i)},useTransition:function(){var e=Pf(!1);return e=sy.bind(null,Ot,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ot,h=un();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(zt&60)!==0||Vg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Wg(Lg.bind(null,l,d,e),[e]),l.flags|=2048,Ua(9,Pg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var e=un(),i=Wt.identifierPrefix;if(qt){var a=Pi,l=Vi;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=sA++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return un().memoizedState=cA.bind(null,Ot)}};Vs.useMemoCache=kf,Vs.useHostTransitionStatus=jf,Vs.useFormState=$g,Vs.useActionState=$g,Vs.useOptimistic=function(e){var i=un();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qf.bind(null,Ot,!0,a),a.dispatch=i,[e,i]};var Dr={readContext:Ke,use:Ju,useCallback:ny,useContext:Ke,useEffect:Uf,useImperativeHandle:ey,useInsertionEffect:Zg,useLayoutEffect:Jg,useMemo:iy,useReducer:tc,useRef:Xg,useState:function(){return tc(Ui)},useDebugValue:zf,useDeferredValue:function(e,i){var a=_e();return ry(a,Qt.memoizedState,e,i)},useTransition:function(){var e=tc(Ui)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:Mg,useId:ly};Dr.useCacheRefresh=uy,Dr.useMemoCache=kf,Dr.useHostTransitionStatus=jf,Dr.useFormState=Kg,Dr.useActionState=Kg,Dr.useOptimistic=function(e,i){var a=_e();return Bg(a,Qt,e,i)};var Ps={readContext:Ke,use:Ju,useCallback:ny,useContext:Ke,useEffect:Uf,useImperativeHandle:ey,useInsertionEffect:Zg,useLayoutEffect:Jg,useMemo:iy,useReducer:Vf,useRef:Xg,useState:function(){return Vf(Ui)},useDebugValue:zf,useDeferredValue:function(e,i){var a=_e();return Qt===null?Bf(a,e,i):ry(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Vf(Ui)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:tl(e),i]},useSyncExternalStore:Mg,useId:ly};Ps.useCacheRefresh=uy,Ps.useMemoCache=kf,Ps.useHostTransitionStatus=jf,Ps.useFormState=Yg,Ps.useActionState=Yg,Ps.useOptimistic=function(e,i){var a=_e();return Qt!==null?Bg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Ff(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:C({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Gf={isMounted:function(e){return(e=e._reactInternals)?J(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=_n(),h=xr(l);h.payload=i,a!=null&&(h.callback=a),i=kr(e,h,l),i!==null&&(sn(i,e,l),rl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=_n(),h=xr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(e,h,l),i!==null&&(sn(i,e,l),rl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=_n(),l=xr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(e,l,a),i!==null&&(sn(i,e,a),rl(i,e,a))}};function dy(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!jo(a,l)||!jo(h,d):!0}function my(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Gf.enqueueReplaceState(i,i.state,null)}function Ls(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=C({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var rc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function py(e){rc(e)}function gy(e){console.error(e)}function yy(e){rc(e)}function sc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _y(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(e,i,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(e,i)},a}function vy(e){return e=xr(e),e.tag=3,e}function Ey(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){_y(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){_y(i,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function fA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&il(i,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 13:return oi===null?Id():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===bf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(e,l,h)),!1;case 22:return a.flags|=65536,l===bf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(e,l,h)),!1}throw Error(s(435,a.tag))}return Dd(e,l,h),Id(),!1}if(qt)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Tf&&(e=Error(s(422),{cause:l}),$o(Dn(e,a)))):(l!==Tf&&(i=Error(s(423),{cause:l}),$o(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Dn(l,a),h=$f(e.stateNode,l,h),od(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),fl===null?fl=[d]:fl.push(d),he!==4&&(he=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=$f(a.stateNode,l,e),od(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vy(h),Ey(h,e,a,l),od(a,h),!1}a=a.return}while(a!==null);return!1}var Ty=Error(s(461)),Me=!1;function He(e,i,a,l){i.child=e===null?Rg(i,null,a,l):xs(i,e.child,a,l)}function by(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return zs(i),l=Df(e,i,a,v,d,h),T=Of(),e!==null&&!Me?(Nf(e,i,h),zi(e,i,h)):(qt&&T&&vf(i),i.flags|=1,He(e,i,l,h),i.child)}function Ay(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!pd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Sy(e,i,d,l,h)):(e=cc(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ed(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(v,l)&&e.ref===i.ref)return zi(e,i,h)}return i.flags|=1,e=Lr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Sy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(jo(d,l)&&e.ref===i.ref)if(Me=!1,i.pendingProps=l=d,ed(e,h))(e.flags&131072)!==0&&(Me=!0);else return i.lanes=e.lanes,zi(e,i,h)}return Kf(e,i,a,l,h)}function wy(e,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(nl(e,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ry(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Yu(i,v!==null?v.cachePool:null),v!==null?Ig(i,v):Af(),Cg(i);else return i.lanes=i.childLanes=536870912,Ry(e,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Yu(i,v.cachePool),Ig(i,v),Ir(),i.memoizedState=null):(e!==null&&Yu(i,null),Af(),Ir());return He(e,i,h,a),i.child}function Ry(e,i,a,l){var h=If();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Yu(i,null),Af(),Cg(i),e!==null&&il(e,i,l,!0),null}function nl(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function Kf(e,i,a,l,h){return zs(i),a=Df(e,i,a,l,void 0,h),l=Of(),e!==null&&!Me?(Nf(e,i,h),zi(e,i,h)):(qt&&l&&vf(i),i.flags|=1,He(e,i,a,h),i.child)}function Iy(e,i,a,l,h,d){return zs(i),i.updateQueue=null,a=kg(i,l,a,h),xg(e),l=Of(),e!==null&&!Me?(Nf(e,i,d),zi(e,i,d)):(qt&&l&&vf(i),i.flags|=1,He(e,i,a,d),i.child)}function Cy(e,i,a,l,h){if(zs(i),i.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ke(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},sd(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ke(v):Da,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ff(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Gf.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Ls(a,T);d.props=I;var L=d.context,X=a.contextType;v=Da,typeof X=="object"&&X!==null&&(v=Ke(X));var tt=a.getDerivedStateFromProps;X=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==v)&&my(i,d,l,v),Nr=!1;var K=i.memoizedState;d.state=K,al(i,l,d,h),sl(),L=i.memoizedState,T||K!==L||Nr?(typeof tt=="function"&&(Ff(i,a,tt,l),L=i.memoizedState),(I=Nr||dy(i,a,I,l,K,L,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ad(e,i),v=i.memoizedProps,X=Ls(a,v),d.props=X,tt=i.pendingProps,K=d.context,L=a.contextType,I=Da,typeof L=="object"&&L!==null&&(I=Ke(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==tt||K!==I)&&my(i,d,l,I),Nr=!1,K=i.memoizedState,d.state=K,al(i,l,d,h),sl();var Y=i.memoizedState;v!==tt||K!==Y||Nr||e!==null&&e.dependencies!==null&&ac(e.dependencies)?(typeof T=="function"&&(Ff(i,a,T,l),Y=i.memoizedState),(X=Nr||dy(i,a,X,l,K,Y,I)||e!==null&&e.dependencies!==null&&ac(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&K===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,nl(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=xs(i,e.child,null,h),i.child=xs(i,null,a,h)):He(e,i,a,h),i.memoizedState=d.state,e=i.child):e=zi(e,i,h),e}function Dy(e,i,a,l){return Go(),i.flags|=256,He(e,i,a,l),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Yf(e){return{baseLanes:e,cachePool:Ng()}}function Xf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Pn),e}function Oy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?Rr(i):Ir(),qt){var T=Be,I;if(I=T){t:{for(I=T,T=ai;I.nodeType!==8;){if(!T){T=null;break t}if(I=Fn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ds!==null?{id:Vi,overflow:Pi}:null,retryLane:536870912},I=Vn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,rn=i,Be=null,I=!0):I=!1}I||Ns(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Li(i)}return T=l.children,l=l.fallback,h?(Ir(),h=i.mode,T=Zf({mode:"hidden",children:T},h),l=Hs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Yf(a),h.childLanes=Xf(e,v,a),i.memoizedState=Qf,l):(Rr(i),Wf(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Rr(i),i.flags&=-257,i=Jf(e,i,a)):i.memoizedState!==null?(Ir(),i.child=e.child,i.flags|=128,i=null):(Ir(),h=l.fallback,T=i.mode,l=Zf({mode:"visible",children:l.children},T),h=Hs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,xs(i,e.child,null,a),l=i.child,l.memoizedState=Yf(a),l.childLanes=Xf(e,v,a),i.memoizedState=Qf,i=h);else if(Rr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),i=Jf(e,i,a)}else if(Me||il(e,i,a,!1),v=(a&e.childLanes)!==0,Me||v){if(v=Wt,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,wr(e,l),sn(v,e,l),Ty}T.data==="$?"||Id(),i=Jf(e,i,a)}else T.data==="$?"?(i.flags|=128,i.child=e.child,i=IA.bind(null,e),T._reactRetry=i,i=null):(e=I.treeContext,Be=Fn(T.nextSibling),rn=i,qt=!0,jn=null,ai=!1,e!==null&&(On[Nn++]=Vi,On[Nn++]=Pi,On[Nn++]=Ds,Vi=e.id,Pi=e.overflow,Ds=i),i=Wf(i,l.children),i.flags|=4096);return i}return h?(Ir(),h=l.fallback,T=i.mode,I=e.child,L=I.sibling,l=Lr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,L!==null?h=Lr(L,h):(h=Hs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=Yf(a):(I=T.cachePool,I!==null?(L=Re._currentValue,I=I.parent!==L?{parent:L,pool:L}:I):I=Ng(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Xf(e,v,a),i.memoizedState=Qf,l):(Rr(i),a=e.child,e=a.sibling,a=Lr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Wf(e,i){return i=Zf({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Zf(e,i){return n_(e,i,0,null)}function Jf(e,i,a){return xs(i,e.child,null,a),e=Wf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ny(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),id(e.return,i,a)}function td(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function xy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(He(e,i,l.children,a),l=we.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ny(e,a,i);else if(e.tag===19)Ny(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Kt(we,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),td(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Qu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}td(i,!0,a,null,d);break;case"together":td(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ur|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(il(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Lr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Lr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ed(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ac(e)))}function dA(e,i,a){switch(i.tag){case 3:ur(i,i.stateNode.containerInfo),Or(i,Re,e.memoizedState.cache),Go();break;case 27:case 5:To(i);break;case 4:ur(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Oy(e,i,a):(Rr(i),e=zi(e,i,a),e!==null?e.sibling:null);Rr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(il(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return xy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Kt(we,we.current),l)break;return null;case 22:case 23:return i.lanes=0,wy(e,i,a);case 24:Or(i,Re,e.memoizedState.cache)}return zi(e,i,a)}function ky(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Me=!0;else{if(!ed(e,a)&&(i.flags&128)===0)return Me=!1,dA(e,i,a);Me=(e.flags&131072)!==0}else Me=!1,qt&&(i.flags&1048576)!==0&&yg(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")pd(l)?(e=Ls(l,e),i.tag=1,i=Cy(null,i,l,e,a)):(i.tag=0,i=Kf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===M){i.tag=11,i=by(null,i,l,e,a);break t}else if(h===q){i.tag=14,i=Ay(null,i,l,e,a);break t}}throw i=w(l)||l,Error(s(306,i,""))}}return i;case 0:return Kf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),Cy(e,i,l,h,a);case 3:t:{if(ur(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,ad(e,i),al(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Or(i,Re,d),d!==h.cache&&rd(i,[Re],a,!0),sl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Dy(e,i,d,a);break t}else if(d!==l){l=Dn(Error(s(424)),i),$o(l),i=Dy(e,i,d,a);break t}else for(Be=Fn(i.stateNode.containerInfo.firstChild),rn=i,qt=!0,jn=null,ai=!0,a=Rg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Go(),d===l){i=zi(e,i,a);break t}He(e,i,d,a)}i=i.child}return i;case 26:return nl(e,i),e===null?(a=P_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=bc(Tn.current).createElement(a),l[Ne]=i,l[be]=e,je(l,a,e),ie(l),i.stateNode=l):i.memoizedState=P_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return To(i),e===null&&qt&&(l=i.stateNode=k_(i.type,i.pendingProps,Tn.current),rn=i,ai=!0,Be=Fn(l.firstChild)),l=i.pendingProps.children,e!==null||qt?He(e,i,l,a):i.child=xs(i,null,l,a),nl(e,i),i.child;case 5:return e===null&&qt&&((h=l=Be)&&(l=qA(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,rn=i,Be=Fn(l.firstChild),ai=!1,h=!0):h=!1),h||Ns(i)),To(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Hd(h,d)?l=null:v!==null&&Hd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Df(e,i,aA,null,null,a),Tl._currentValue=h),nl(e,i),He(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=Be)&&(a=FA(a,i.pendingProps,ai),a!==null?(i.stateNode=a,rn=i,Be=null,e=!0):e=!1),e||Ns(i)),null;case 13:return Oy(e,i,a);case 4:return ur(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=xs(i,null,l,a):He(e,i,l,a),i.child;case 11:return by(e,i,i.type,i.pendingProps,a);case 7:return He(e,i,i.pendingProps,a),i.child;case 8:return He(e,i,i.pendingProps.children,a),i.child;case 12:return He(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Or(i,i.type,l.value),He(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zs(i),h=Ke(h),l=l(h),i.flags|=1,He(e,i,l,a),i.child;case 14:return Ay(e,i,i.type,i.pendingProps,a);case 15:return Sy(e,i,i.type,i.pendingProps,a);case 19:return xy(e,i,a);case 22:return wy(e,i,a);case 24:return zs(i),l=Ke(Re),e===null?(h=If(),h===null&&(h=Wt,d=wf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},sd(i),Or(i,Re,h)):((e.lanes&a)!==0&&(ad(e,i),al(i,null,null,a),sl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Or(i,Re,l)):(l=d.cache,Or(i,Re,l),l!==h.cache&&rd(i,[Re],a,!0))),He(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var nd=Ht(null),Us=null,Bi=null;function Or(e,i,a){Kt(nd,i._currentValue),i._currentValue=a}function Hi(e){e._currentValue=nd.current,le(nd)}function id(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function rd(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),id(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),id(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function il(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===lr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}h=h.return}e!==null&&rd(i,e,a,l),i.flags|=262144}function ac(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zs(e){Us=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return My(Us,e)}function oc(e,i){return Us===null&&zs(e),My(e,i)}function My(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(e===null)throw Error(s(308));Bi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Bi=Bi.next=i;return a}var Nr=!1;function sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(se&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(e),pg(e,null,a),i}return Bu(e,l,i,a),Hu(e)}function rl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,pr(e,a)}}function od(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var ld=!1;function sl(){if(ld){var e=Va;if(e!==null)throw e}}function al(e,i,a,l){ld=!1;var h=e.updateQueue;Nr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,L=I.next;I.next=null,v===null?d=L:v.next=L,v=I;var X=e.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=L:T.next=L,X.lastBaseUpdate=I))}if(d!==null){var tt=h.baseState;v=0,X=L=I=null,T=d;do{var K=T.lane&-536870913,Y=K!==T.lane;if(Y?(zt&K)===K:(l&K)===K){K!==0&&K===Ma&&(ld=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var mt=e,wt=T;K=i;var fe=a;switch(wt.tag){case 1:if(mt=wt.payload,typeof mt=="function"){tt=mt.call(fe,tt,K);break t}tt=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=wt.payload,K=typeof mt=="function"?mt.call(fe,tt,K):mt,K==null)break t;tt=C({},tt,K);break t;case 2:Nr=!0}}K=T.callback,K!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(L=X=Y,I=tt):X=X.next=Y,v|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(I=tt),h.baseState=I,h.firstBaseUpdate=L,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Ur|=v,e.lanes=v,e.memoizedState=tt}}function Vy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Py(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Vy(a[e],i)}function ol(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Xt(i,i.return,T)}}function Mr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a;try{T()}catch(L){Xt(h,I,L)}}}l=l.next}while(l!==d)}}catch(L){Xt(i,i.return,L)}}function Ly(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Py(i,a)}catch(l){Xt(e,e.return,l)}}}function Uy(e,i,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(e,i,l)}}function Bs(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Xt(e,i,d)}}function pn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function zy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function By(e,i,a){try{var l=e.stateNode;UA(l,e.type,a,i),l[be]=i}catch(h){Xt(e,e.return,h)}}function Hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function ud(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(cd(e,i,a),e=e.sibling;e!==null;)cd(e,i,a),e=e.sibling}function lc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(lc(e,i,a),e=e.sibling;e!==null;)lc(e,i,a),e=e.sibling}var ji=!1,ce=!1,hd=!1,jy=typeof WeakSet=="function"?WeakSet:Set,Ve=null,qy=!1;function mA(e,i){if(e=e.containerInfo,zd=Cc,e=ag(e),df(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,I=-1,L=0,X=0,tt=e,K=null;e:for(;;){for(var Y;tt!==a||h!==0&&tt.nodeType!==3||(T=v+h),tt!==d||l!==0&&tt.nodeType!==3||(I=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),(Y=tt.firstChild)!==null;)K=tt,tt=Y;for(;;){if(tt===e)break e;if(K===a&&++L===h&&(T=v),K===d&&++X===l&&(I=v),(Y=tt.nextSibling)!==null)break;tt=K,K=tt.parentNode}tt=Y}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bd={focusedElem:e,selectionRange:a},Cc=!1,Ve=i;Ve!==null;)if(i=Ve,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Ve=e;else for(;Ve!==null;){switch(i=Ve,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var mt=Ls(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(mt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(wt){Xt(a,a.return,wt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Fd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Ve=e;break}Ve=i.return}return mt=qy,qy=!1,mt}function Fy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fi(e,a),l&4&&ol(5,a);break;case 1:if(Fi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(T){Xt(a,a.return,T)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Xt(a,a.return,T)}}l&64&&Ly(a),l&512&&Bs(a,a.return);break;case 3:if(Fi(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Py(l,e)}catch(T){Xt(a,a.return,T)}}break;case 26:Fi(e,a),l&512&&Bs(a,a.return);break;case 27:case 5:Fi(e,a),i===null&&l&4&&zy(a),l&512&&Bs(a,a.return);break;case 12:Fi(e,a);break;case 13:Fi(e,a),l&4&&Ky(e,a);break;case 22:if(h=a.memoizedState!==null||ji,!h){i=i!==null&&i.memoizedState!==null||ce;var d=ji,v=ce;ji=h,(ce=i)&&!v?Vr(e,a,(a.subtreeFlags&8772)!==0):Fi(e,a),ji=d,ce=v}l&512&&(a.memoizedProps.mode==="manual"?Bs(a,a.return):pn(a,a.return));break;default:Fi(e,a)}}function Gy(e){var i=e.alternate;i!==null&&(e.alternate=null,Gy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&gs(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,gn=!1;function qi(e,i,a){for(a=a.child;a!==null;)$y(e,i,a),a=a.sibling}function $y(e,i,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(cr,a)}catch{}switch(a.tag){case 26:ce||pn(a,i),qi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||pn(a,i);var l=ve,h=gn;for(ve=a.stateNode,qi(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);gs(a),ve=l,gn=h;break;case 5:ce||pn(a,i);case 6:h=ve;var d=gn;if(ve=null,qi(e,i,a),ve=h,gn=d,ve!==null)if(gn)try{e=ve,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Xt(a,i,v)}else try{ve.removeChild(a.stateNode)}catch(v){Xt(a,i,v)}break;case 18:ve!==null&&(gn?(i=ve,a=a.stateNode,i.nodeType===8?qd(i.parentNode,a):i.nodeType===1&&qd(i,a),wl(i)):qd(ve,a.stateNode));break;case 4:l=ve,h=gn,ve=a.stateNode.containerInfo,gn=!0,qi(e,i,a),ve=l,gn=h;break;case 0:case 11:case 14:case 15:ce||Mr(2,a,i),ce||Mr(4,a,i),qi(e,i,a);break;case 1:ce||(pn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Uy(a,i,l)),qi(e,i,a);break;case 21:qi(e,i,a);break;case 22:ce||pn(a,i),ce=(l=ce)||a.memoizedState!==null,qi(e,i,a),ce=l;break;default:qi(e,i,a)}}function Ky(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wl(e)}catch(a){Xt(i,i.return,a)}}function pA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new jy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new jy),i;default:throw Error(s(435,e.tag))}}function fd(e,i){var a=pA(e);i.forEach(function(l){var h=CA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function kn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:ve=T.stateNode,gn=!1;break t;case 3:ve=T.stateNode.containerInfo,gn=!0;break t;case 4:ve=T.stateNode.containerInfo,gn=!0;break t}T=T.return}if(ve===null)throw Error(s(160));$y(d,v,h),ve=null,gn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Qy(i,e),i=i.sibling}var qn=null;function Qy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kn(i,e),Mn(e),l&4&&(Mr(3,e,e.return),ol(3,e),Mr(5,e,e.return));break;case 1:kn(i,e),Mn(e),l&512&&(ce||a===null||pn(a,a.return)),l&64&&ji&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(kn(i,e),Mn(e),l&512&&(ce||a===null||pn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yr]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),je(d,l,a),d[Ne]=e,ie(d),l=d;break t;case"link":var v=z_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;case"meta":if(v=z_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),je(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ne]=e,ie(d),l=d}e.stateNode=l}else B_(h,e.type,e.stateNode);else e.stateNode=U_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?B_(h,e.type,e.stateNode):U_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&By(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var I=h.firstChild;I;){var L=I.nextSibling,X=I.nodeName;I[yr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=L}for(var tt=e.type,K=h.attributes;K.length;)h.removeAttributeNode(K[0]);je(h,tt,d),h[Ne]=e,h[be]=d}catch(mt){Xt(e,e.return,mt)}}case 5:if(kn(i,e),Mn(e),l&512&&(ce||a===null||pn(a,a.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(mt){Xt(e,e.return,mt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,By(e,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(kn(i,e),Mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(mt){Xt(e,e.return,mt)}}break;case 3:if(wc=null,h=qn,qn=Ac(i.containerInfo),kn(i,e),qn=h,Mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wl(i.containerInfo)}catch(mt){Xt(e,e.return,mt)}hd&&(hd=!1,Yy(e));break;case 4:l=qn,qn=Ac(e.stateNode.containerInfo),kn(i,e),Mn(e),qn=l;break;case 12:kn(i,e),Mn(e);break;case 13:kn(i,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Td=on()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fd(e,l)));break;case 22:if(l&512&&(ce||a===null||pn(a,a.return)),I=e.memoizedState!==null,L=a!==null&&a.memoizedState!==null,X=ji,tt=ce,ji=X||I,ce=tt||L,kn(i,e),ce=tt,ji=X,Mn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=ji||ce,a===null||L||i||za(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(h=L.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=L.stateNode,T=L.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(mt){Xt(L,L.return,mt)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=I?"":L.memoizedProps}catch(mt){Xt(L,L.return,mt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fd(e,a))));break;case 19:kn(i,e),Mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fd(e,l)));break;case 21:break;default:kn(i,e),Mn(e)}}function Mn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Hy(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=ud(e);lc(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(Sn(v,""),l.flags&=-33);var T=ud(e);lc(e,T,v);break;case 3:case 4:var I=l.stateNode.containerInfo,L=ud(e);cd(e,L,I);break;default:throw Error(s(161))}}}catch(X){Xt(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Fi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fy(e,i.alternate,i),i=i.sibling}function za(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),za(i);break;case 1:pn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Uy(i,i.return,a),za(i);break;case 26:case 27:case 5:pn(i,i.return),za(i);break;case 22:pn(i,i.return),i.memoizedState===null&&za(i);break;default:za(i)}e=e.sibling}}function Vr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(h,d,a),ol(4,d);break;case 1:if(Vr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Xt(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Vy(I[h],T)}catch(L){Xt(l,l.return,L)}}a&&v&64&&Ly(d),Bs(d,d.return);break;case 26:case 27:case 5:Vr(h,d,a),a&&l===null&&v&4&&zy(d),Bs(d,d.return);break;case 12:Vr(h,d,a);break;case 13:Vr(h,d,a),a&&v&4&&Ky(h,d);break;case 22:d.memoizedState===null&&Vr(h,d,a),Bs(d,d.return);break;default:Vr(h,d,a)}i=i.sibling}}function dd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wo(a))}function md(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e))}function Pr(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xy(e,i,a,l),i=i.sibling}function Xy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Pr(e,i,a,l),h&2048&&ol(9,i);break;case 3:Pr(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Wo(e)));break;case 12:if(h&2048){Pr(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(i,i.return,I)}}else Pr(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Pr(e,i,a,l):ll(e,i):d._visibility&4?Pr(e,i,a,l):(d._visibility|=4,Ba(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&dd(i.alternate,i);break;case 24:Pr(e,i,a,l),h&2048&&md(i.alternate,i);break;default:Pr(e,i,a,l)}}function Ba(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,I=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Ba(d,v,T,I,h),ol(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&4?Ba(d,v,T,I,h):ll(d,v):(X._visibility|=4,Ba(d,v,T,I,h)),h&&L&2048&&dd(v.alternate,v);break;case 24:Ba(d,v,T,I,h),h&&L&2048&&md(v.alternate,v);break;default:Ba(d,v,T,I,h)}i=i.sibling}}function ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ll(a,l),h&2048&&dd(l.alternate,l);break;case 24:ll(a,l),h&2048&&md(l.alternate,l);break;default:ll(a,l)}i=i.sibling}}var ul=8192;function Ha(e){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)Wy(e),e=e.sibling}function Wy(e){switch(e.tag){case 26:Ha(e),e.flags&ul&&e.memoizedState!==null&&iS(qn,e.memoizedState,e.memoizedProps);break;case 5:Ha(e);break;case 3:case 4:var i=qn;qn=Ac(e.stateNode.containerInfo),Ha(e),qn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ul,ul=16777216,Ha(e),ul=i):Ha(e));break;default:Ha(e)}}function Zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function cl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,t_(l,e)}Zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jy(e),e=e.sibling}function Jy(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,uc(e)):cl(e);break;default:cl(e)}}function uc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ve=l,t_(l,e)}Zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),uc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,uc(i));break;default:uc(i)}e=e.sibling}}function t_(e,i){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=e;Ve!==null;){l=Ve;var h=l.sibling,d=l.return;if(Gy(l),l===a){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}function gA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(e,i,a,l){return new gA(e,i,a,l)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lr(e,i){var a=e.alternate;return a===null?(a=Vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function e_(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function cc(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")pd(e)&&(v=1);else if(typeof e=="string")v=eS(e,a,Je.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Hs(a.children,h,d,i);case g:v=8,h|=24;break;case E:return e=Vn(12,a,i,h|2),e.elementType=E,e.lanes=d,e;case $:return e=Vn(13,a,i,h),e.elementType=$,e.lanes=d,e;case P:return e=Vn(19,a,i,h),e.elementType=P,e.lanes=d,e;case G:return n_(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case N:v=10;break t;case R:v=9;break t;case M:v=11;break t;case q:v=14;break t;case F:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Vn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Hs(e,i,a,l){return e=Vn(7,e,l,i),e.lanes=a,e}function n_(e,i,a,l){e=Vn(22,e,l,i),e.elementType=G,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=wr(d,2);v!==null&&(h._pendingVisibility|=2,sn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=wr(d,2);v!==null&&(h._pendingVisibility&=-3,sn(v,d,2))}}};return e.stateNode=h,e}function gd(e,i,a){return e=Vn(6,e,null,i),e.lanes=a,e}function yd(e,i,a){return i=Vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function Gi(e){e.flags|=4}function i_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(i)){if(i=xn.current,i!==null&&((zt&4194176)===zt?oi!==null:(zt&62914560)!==zt&&(zt&536870912)===0||i!==oi))throw Qo=bf,Eg;e.flags|=8192}}function hc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?dr():536870912,e.lanes|=i,qa|=i)}function hl(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function yA(e,i,a){var l=i.pendingProps;switch(Ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(Re),Si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fo(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jn!==null&&(wd(jn),jn=null))),re(i),null;case 26:return a=i.memoizedState,e===null?(Gi(i),a!==null?(re(i),i_(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Gi(i),re(i),i_(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==l&&Gi(i),re(i),i.flags&=-16777217),null;case 27:la(i),a=Tn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=Je.current,Fo(i)?_g(i):(e=k_(h,l,a),i.stateNode=e,Gi(i))}return re(i),null;case 5:if(la(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=Je.current,Fo(i))_g(i);else{switch(h=bc(Tn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ne]=i,e[be]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(je(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Gi(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Tn.current,Fo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||I_(e.nodeValue,a)),e||Ns(i)}else e=bc(e).createTextNode(l),e[Ne]=i,i.stateNode=e}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Fo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ne]=i}else Go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else jn!==null&&(wd(jn),jn=null),h=!0;if(!h)return i.flags&256?(Li(i),i):(Li(i),null)}if(Li(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),re(i),null;case 4:return Si(),e===null&&Pd(i.stateNode.containerInfo),re(i),null;case 10:return Hi(i.type),re(i),null;case 19:if(le(we),h=i.memoizedState,h===null)return re(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)hl(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Qu(e),d!==null){for(i.flags|=128,hl(h,!1),e=d.updateQueue,i.updateQueue=e,hc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)e_(a,e),a=a.sibling;return Kt(we,we.current&1|2),i.child}e=e.sibling}h.tail!==null&&on()>fc&&(i.flags|=128,l=!0,hl(h,!1),i.lanes=4194304)}else{if(!l)if(e=Qu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,hc(i,e),hl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return re(i),null}else 2*on()-h.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,l=!0,hl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=on(),i.sibling=null,e=we.current,Kt(we,l?e&1|2:e&1),i):(re(i),null);case 22:case 23:return Li(i),Sf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&le(ks),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(Re),re(i),null;case 25:return null}throw Error(s(156,i.tag))}function _A(e,i){switch(Ef(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Hi(Re),Si(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return la(i),null;case 13:if(Li(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Go()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return le(we),null;case 4:return Si(),null;case 10:return Hi(i.type),null;case 22:case 23:return Li(i),Sf(),e!==null&&le(ks),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Hi(Re),null;case 25:return null;default:return null}}function r_(e,i){switch(Ef(i),i.tag){case 3:Hi(Re),Si();break;case 26:case 27:case 5:la(i);break;case 4:Si();break;case 13:Li(i);break;case 19:le(we);break;case 10:Hi(i.type);break;case 22:case 23:Li(i),Sf(),e!==null&&le(ks);break;case 24:Hi(Re)}}var vA={getCacheForType:function(e){var i=Ke(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},EA=typeof WeakMap=="function"?WeakMap:Map,se=0,Wt=null,kt=null,zt=0,Zt=0,yn=null,$i=!1,ja=!1,_d=!1,Ki=0,he=0,Ur=0,js=0,vd=0,Pn=0,qa=0,fl=null,ui=null,Ed=!1,Td=0,fc=1/0,dc=null,zr=null,mc=!1,qs=null,dl=0,bd=0,Ad=null,ml=0,Sd=null;function _n(){if((se&2)!==0&&zt!==0)return zt&-zt;if(S.T!==null){var e=Ma;return e!==0?e:xd()}return Eu()}function s_(){Pn===0&&(Pn=(zt&536870912)===0||qt?Ro():536870912);var e=xn.current;return e!==null&&(e.flags|=32),Pn}function sn(e,i,a){(e===Wt&&Zt===2||e.cancelPendingCommit!==null)&&(Fa(e,0),Qi(e,zt,Pn,!1)),de(e,a),((se&2)===0||e!==Wt)&&(e===Wt&&((se&2)===0&&(js|=a),he===4&&Qi(e,zt,Pn,!1)),ci(e))}function a_(e,i,a){if((se&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||fr(e,i),h=l?AA(e,i):Cd(e,i,!0),d=l;do{if(h===0){ja&&!l&&Qi(e,i,0,!1);break}else if(h===6)Qi(e,i,0,!$i);else{if(a=e.current.alternate,d&&!TA(a)){h=Cd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=fl;var I=T.current.memoizedState.isDehydrated;if(I&&(Fa(T,v).flags|=256),v=Cd(T,v,!1),v!==2){if(_d&&!I){T.errorRecoveryDisabledLanes|=d,js|=d,h=4;break t}d=ui,ui=h,d!==null&&wd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Fa(e,0),Qi(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Qi(l,i,Pn,!$i);break t}break;case 2:ui=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Td+300-on(),10<d)){if(Qi(l,i,Pn,!$i),bn(l,0)!==0)break t;l.timeoutHandle=O_(o_.bind(null,l,a,ui,dc,Ed,i,Pn,js,qa,$i,2,-0,0),d);break t}o_(l,a,ui,dc,Ed,i,Pn,js,qa,$i,0,-0,0)}}break}while(!0);ci(e)}function wd(e){ui===null?ui=e:ui.push.apply(ui,e)}function o_(e,i,a,l,h,d,v,T,I,L,X,tt,K){var Y=i.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(El={stylesheets:null,count:0,unsuspend:nS},Wy(i),i=rS(),i!==null)){e.cancelPendingCommit=i(m_.bind(null,e,a,l,h,v,T,I,1,tt,K)),Qi(e,d,v,!L);return}m_(e,a,l,h,v,T,I,X,tt,K)}function TA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qi(e,i,a,l){i&=~vd,i&=~js,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-tn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&mr(e,a,i)}function pc(){return(se&6)===0?(pl(0),!1):!0}function Rd(){if(kt!==null){if(Zt===0)var e=kt.return;else e=kt,Bi=Us=null,xf(e),xa=null,Yo=0,e=kt;for(;e!==null;)r_(e.alternate,e),e=e.return;kt=null}}function Fa(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,BA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Rd(),Wt=e,kt=a=Lr(e.current,null),zt=i,Zt=0,yn=null,$i=!1,ja=fr(e,i),_d=!1,qa=Pn=vd=js=Ur=he=0,ui=fl=null,Ed=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-tn(l),d=1<<h;i|=e[h],l&=~d}return Ki=i,zu(),a}function l_(e,i){Ot=null,S.H=li,i===Ko?(i=Ag(),Zt=3):i===Eg?(i=Ag(),Zt=4):Zt=i===Ty?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,kt===null&&(he=1,sc(e,Dn(i,e.current)))}function u_(){var e=S.H;return S.H=li,e===null?li:e}function c_(){var e=S.A;return S.A=vA,e}function Id(){he=4,$i||(zt&4194176)!==zt&&xn.current!==null||(ja=!0),(Ur&134217727)===0&&(js&134217727)===0||Wt===null||Qi(Wt,zt,Pn,!1)}function Cd(e,i,a){var l=se;se|=2;var h=u_(),d=c_();(Wt!==e||zt!==i)&&(dc=null,Fa(e,i)),i=!1;var v=he;t:do try{if(Zt!==0&&kt!==null){var T=kt,I=yn;switch(Zt){case 8:Rd(),v=6;break t;case 3:case 2:case 6:xn.current===null&&(i=!0);var L=Zt;if(Zt=0,yn=null,Ga(e,T,I,L),a&&ja){v=0;break t}break;default:L=Zt,Zt=0,yn=null,Ga(e,T,I,L)}}bA(),v=he;break}catch(X){l_(e,X)}while(!0);return i&&e.shellSuspendCounter++,Bi=Us=null,se=l,S.H=h,S.A=d,kt===null&&(Wt=null,zt=0,zu()),v}function bA(){for(;kt!==null;)h_(kt)}function AA(e,i){var a=se;se|=2;var l=u_(),h=c_();Wt!==e||zt!==i?(dc=null,fc=on()+500,Fa(e,i)):ja=fr(e,i);t:do try{if(Zt!==0&&kt!==null){i=kt;var d=yn;e:switch(Zt){case 1:Zt=0,yn=null,Ga(e,i,d,1);break;case 2:if(Tg(d)){Zt=0,yn=null,f_(i);break}i=function(){Zt===2&&Wt===e&&(Zt=7),ci(e)},d.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Tg(d)?(Zt=0,yn=null,f_(i)):(Zt=0,yn=null,Ga(e,i,d,7));break;case 5:var v=null;switch(kt.tag){case 26:v=kt.memoizedState;case 5:case 27:var T=kt;if(!v||H_(v)){Zt=0,yn=null;var I=T.sibling;if(I!==null)kt=I;else{var L=T.return;L!==null?(kt=L,gc(L)):kt=null}break e}}Zt=0,yn=null,Ga(e,i,d,5);break;case 6:Zt=0,yn=null,Ga(e,i,d,6);break;case 8:Rd(),he=6;break t;default:throw Error(s(462))}}SA();break}catch(X){l_(e,X)}while(!0);return Bi=Us=null,S.H=l,S.A=h,se=a,kt!==null?0:(Wt=null,zt=0,zu(),he)}function SA(){for(;kt!==null&&!ef();)h_(kt)}function h_(e){var i=ky(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,i===null?gc(e):kt=i}function f_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Iy(a,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=Iy(a,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:xf(i);default:r_(a,i),i=kt=e_(i,Ki),i=ky(a,i,Ki)}e.memoizedProps=e.pendingProps,i===null?gc(e):kt=i}function Ga(e,i,a,l){Bi=Us=null,xf(i),xa=null,Yo=0;var h=i.return;try{if(fA(e,h,i,a,zt)){he=1,sc(e,Dn(a,e.current)),kt=null;return}}catch(d){if(h!==null)throw kt=h,d;he=1,sc(e,Dn(a,e.current)),kt=null;return}i.flags&32768?(qt||l===1?e=!0:ja||(zt&536870912)!==0?e=!1:($i=e=!0,(l===2||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),d_(i,e)):gc(i)}function gc(e){var i=e;do{if((i.flags&32768)!==0){d_(i,$i);return}e=i.return;var a=yA(i.alternate,i,Ki);if(a!==null){kt=a;return}if(i=i.sibling,i!==null){kt=i;return}kt=i=e}while(i!==null);he===0&&(he=5)}function d_(e,i){do{var a=_A(e.alternate,e);if(a!==null){a.flags&=32767,kt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){kt=e;return}kt=e=a}while(e!==null);he=6,kt=null}function m_(e,i,a,l,h,d,v,T,I,L){var X=S.T,tt=ut.p;try{ut.p=2,S.T=null,wA(e,i,a,l,tt,h,d,v,T,I,L)}finally{S.T=X,ut.p=tt}}function wA(e,i,a,l,h,d,v,T){do $a();while(qs!==null);if((se&6)!==0)throw Error(s(327));var I=e.finishedWork;if(l=e.finishedLanes,I===null)return null;if(e.finishedWork=null,e.finishedLanes=0,I===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=I.lanes|I.childLanes;if(L|=yf,_u(e,l,L,d,v,T),e===Wt&&(kt=Wt=null,zt=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||mc||(mc=!0,bd=L,Ad=a,DA(wi,function(){return $a(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,d=ut.p,ut.p=2,v=se,se|=4,mA(e,I),Qy(I,e),Yb(Bd,e.containerInfo),Cc=!!zd,Bd=zd=null,e.current=I,Fy(e,I.alternate,I),bo(),se=v,ut.p=d,S.T=a):e.current=I,mc?(mc=!1,qs=e,dl=l):p_(e,L),L=e.pendingLanes,L===0&&(zr=null),So(I.stateNode),ci(e),i!==null)for(h=e.onRecoverableError,I=0;I<i.length;I++)L=i[I],h(L.value,{componentStack:L.stack});return(dl&3)!==0&&$a(),L=e.pendingLanes,(l&4194218)!==0&&(L&42)!==0?e===Sd?ml++:(ml=0,Sd=e):ml=0,pl(0),null}function p_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Wo(i)))}function $a(){if(qs!==null){var e=qs,i=bd;bd=0;var a=vu(dl),l=S.T,h=ut.p;try{if(ut.p=32>a?32:a,S.T=null,qs===null)var d=!1;else{a=Ad,Ad=null;var v=qs,T=dl;if(qs=null,dl=0,(se&6)!==0)throw Error(s(331));var I=se;if(se|=4,Jy(v.current),Xy(v,v.current,T,a),se=I,pl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(cr,v)}catch{}d=!0}return d}finally{ut.p=h,S.T=l,p_(e,i)}}return!1}function g_(e,i,a){i=Dn(a,i),i=$f(e.stateNode,i,2),e=kr(e,i,2),e!==null&&(de(e,2),ci(e))}function Xt(e,i,a){if(e.tag===3)g_(e,e,a);else for(;i!==null;){if(i.tag===3){g_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){e=Dn(a,e),a=vy(2),l=kr(i,a,2),l!==null&&(Ey(a,l,i,e),de(l,2),ci(l));break}}i=i.return}}function Dd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new EA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(_d=!0,h.add(a),e=RA.bind(null,e,i,a),i.then(e,e))}function RA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(zt&a)===a&&(he===4||he===3&&(zt&62914560)===zt&&300>on()-Td?(se&2)===0&&Fa(e,0):vd|=a,qa===zt&&(qa=0)),ci(e)}function y_(e,i){i===0&&(i=dr()),e=wr(e,i),e!==null&&(de(e,i),ci(e))}function IA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),y_(e,a)}function CA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),y_(e,a)}function DA(e,i){return ds(e,i)}var yc=null,Ka=null,Od=!1,_c=!1,Nd=!1,Fs=0;function ci(e){e!==Ka&&e.next===null&&(Ka===null?yc=Ka=e:Ka=Ka.next=e),_c=!0,Od||(Od=!0,NA(OA))}function pl(e,i){if(!Nd&&_c){Nd=!0;do for(var a=!1,l=yc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-tn(42|e)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,E_(l,d))}else d=zt,d=bn(l,l===Wt?d:0),(d&3)===0||fr(l,d)||(a=!0,E_(l,d));l=l.next}while(a);Nd=!1}}function OA(){_c=Od=!1;var e=0;Fs!==0&&(zA()&&(e=Fs),Fs=0);for(var i=on(),a=null,l=yc;l!==null;){var h=l.next,d=__(l,i);d===0?(l.next=null,a===null?yc=h:a.next=h,h===null&&(Ka=a)):(a=l,(e!==0||(d&3)!==0)&&(_c=!0)),l=h}pl(e)}function __(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-tn(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=ha(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=zt,a=bn(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&Zt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ca(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||fr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ca(l),vu(a)){case 2:case 8:a=Oe;break;case 32:a=wi;break;case 268435456:a=Ao;break;default:a=wi}return l=v_.bind(null,e),a=ds(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ca(l),e.callbackPriority=2,e.callbackNode=null,2}function v_(e,i){var a=e.callbackNode;if($a()&&e.callbackNode!==a)return null;var l=zt;return l=bn(e,e===Wt?l:0),l===0?null:(a_(e,l,i),__(e,on()),e.callbackNode!=null&&e.callbackNode===a?v_.bind(null,e):null)}function E_(e,i){if($a())return null;a_(e,i,!0)}function NA(e){HA(function(){(se&6)!==0?ds(Te,e):e()})}function xd(){return Fs===0&&(Fs=Ro()),Fs}function T_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jn(""+e)}function b_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function xA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=T_((h[be]||null).action),v=l.submitter;v&&(i=(i=v[be]||null)?T_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new _a("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var I=v?b_(h,v):new FormData(h);Hf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?b_(h,v):new FormData(h),Hf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var kd=0;kd<mg.length;kd++){var Md=mg[kd],kA=Md.toLowerCase(),MA=Md[0].toUpperCase()+Md.slice(1);Hn(kA,"on"+MA)}Hn(ug,"onAnimationEnd"),Hn(cg,"onAnimationIteration"),Hn(hg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Wb,"onTransitionRun"),Hn(Zb,"onTransitionStart"),Hn(Jb,"onTransitionCancel"),Hn(fg,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function A_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,L=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(X){rc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,L=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(X){rc(X)}h.currentTarget=null,d=I}}}}function Pt(e,i){var a=i[ps];a===void 0&&(a=i[ps]=new Set);var l=e+"__bubble";a.has(l)||(S_(i,e,2,!1),a.add(l))}function Vd(e,i,a){var l=0;i&&(l|=4),S_(a,e,l,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Pd(e){if(!e[vc]){e[vc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(VA.has(a)||Vd(a,!1,e),Vd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[vc]||(i[vc]=!0,Vd("selectionchange",!1,i))}}function S_(e,i,a,l){switch(K_(i)){case 2:var h=oS;break;case 8:h=lS;break;default:h=Yd}a=h.bind(null,i,a,e),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Ld(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Bn(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Su(function(){var L=d,X=ya(a),tt=[];t:{var K=dg.get(e);if(K!==void 0){var Y=_a,mt=e;switch(e){case"keypress":if(ei(a)===0)break t;case"keydown":case"keyup":Y=Sa;break;case"focusin":mt="focus",Y=Ta;break;case"focusout":mt="blur",Y=Ta;break;case"beforeblur":case"afterblur":Y=Ta;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=xu;break;case ug:case cg:case hg:Y=ba;break;case fg:Y=Mu;break;case"scroll":case"scrollend":Y=wu;break;case"wheel":Y=wa;break;case"copy":case"cut":case"paste":Y=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bo;break;case"toggle":case"beforetoggle":Y=Pu}var wt=(i&4)!==0,fe=!wt&&(e==="scroll"||e==="scrollend"),z=wt?K!==null?K+"Capture":null:K;wt=[];for(var V=L,H;V!==null;){var W=V;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||z===null||(W=Es(V,z),W!=null&&wt.push(yl(V,W,H))),fe)break;V=V.return}0<wt.length&&(K=new Y(K,mt,null,a,X),tt.push({event:K,listeners:wt}))}}if((i&7)===0){t:{if(K=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",K&&a!==wn&&(mt=a.relatedTarget||a.fromElement)&&(Bn(mt)||mt[Ri]))break t;if((Y||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(mt=a.relatedTarget||a.toElement,Y=L,mt=mt?Bn(mt):null,mt!==null&&(fe=J(mt),wt=mt.tag,mt!==fe||wt!==5&&wt!==27&&wt!==6)&&(mt=null)):(Y=null,mt=L),Y!==mt)){if(wt=In,W="onMouseLeave",z="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(wt=Bo,W="onPointerLeave",z="onPointerEnter",V="pointer"),fe=Y==null?K:_r(Y),H=mt==null?K:_r(mt),K=new wt(W,V+"leave",Y,a,X),K.target=fe,K.relatedTarget=H,W=null,Bn(X)===L&&(wt=new wt(z,V+"enter",mt,a,X),wt.target=H,wt.relatedTarget=fe,W=wt),fe=W,Y&&mt)e:{for(wt=Y,z=mt,V=0,H=wt;H;H=Qa(H))V++;for(H=0,W=z;W;W=Qa(W))H++;for(;0<V-H;)wt=Qa(wt),V--;for(;0<H-V;)z=Qa(z),H--;for(;V--;){if(wt===z||z!==null&&wt===z.alternate)break e;wt=Qa(wt),z=Qa(z)}wt=null}else wt=null;Y!==null&&w_(tt,K,Y,wt,!1),mt!==null&&fe!==null&&w_(tt,fe,mt,wt,!0)}}t:{if(K=L?_r(L):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var dt=Zp;else if(Se(K))if(Jp)dt=Kb;else{dt=Gb;var xt=Fb}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?L&&ko(L.elementType)&&(dt=Zp):dt=$b;if(dt&&(dt=dt(e,L))){Mi(tt,dt,a,X);break t}xt&&xt(e,K,L),e==="focusout"&&L&&K.type==="number"&&L.memoizedProps.value!=null&&ga(K,"number",K.value)}switch(xt=L?_r(L):window,e){case"focusin":(Se(xt)||xt.contentEditable==="true")&&(Ra=xt,mf=L,qo=null);break;case"focusout":qo=mf=Ra=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,og(tt,a,X);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":og(tt,a,X)}var pt;if(ri)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Lt?Q(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(Lt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Lt&&(pt=Vo()):(ti=X,Sr="value"in ti?ti.value:ti.textContent,Lt=!0)),xt=Ec(L,vt),0<xt.length&&(vt=new Uo(vt,e,null,a,X),tt.push({event:vt,listeners:xt}),pt?vt.data=pt:(pt=at(a),pt!==null&&(vt.data=pt)))),(pt=y?Ae(e,a):Ut(e,a))&&(vt=Ec(L,"onBeforeInput"),0<vt.length&&(xt=new Uo("onBeforeInput","beforeinput",null,a,X),tt.push({event:xt,listeners:vt}),xt.data=pt)),xA(tt,e,L,a,X)}A_(tt,i)})}function yl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ec(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Es(e,a),h!=null&&l.unshift(yl(e,h,d)),h=Es(e,i),h!=null&&l.push(yl(e,h,d))),e=e.return}return l}function Qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function w_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,L=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||L===null||(I=L,h?(L=Es(a,d),L!=null&&v.unshift(yl(a,L,I))):h||(L=Es(a,d),L!=null&&v.push(yl(a,L,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var PA=/\r\n?/g,LA=/\u0000|\uFFFD/g;function R_(e){return(typeof e=="string"?e:""+e).replace(PA,`
`).replace(LA,"")}function I_(e,i){return i=R_(i),R_(e)===i}function Tc(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(e,""+l);break;case"className":Tr(e,"class",l);break;case"tabIndex":Tr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(e,a,l);break;case"style":Au(e,l,d);break;case"data":if(i!=="object"){Tr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Tc);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Jn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Pt("beforetoggle",e),Pt("toggle",e),Er(e,"popover",l);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Er(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,Er(e,a,l))}}function Ud(e,i,a,l,h,d){switch(a){case"style":Au(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&Sn(e,""+l);break;case"onScroll":l!=null&&Pt("scroll",e);break;case"onScrollEnd":l!=null&&Pt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[be]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Er(e,a,l)}}}function je(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",e),Pt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Pt("invalid",e);var T=d=v=h=null,I=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":L=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Yt(e,i,l,X,a,null)}}_s(e,d,T,I,L,v,h,!1),ys(e);return;case"select":Pt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?jt(e,!!l,i,!1):a!=null&&jt(e,!!l,a,!0);return;case"textarea":Pt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,i,v,T,a,null)}Ar(e,l,h,d),ys(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,I,l,a,null)}return;case"dialog":Pt("cancel",e),Pt("close",e);break;case"iframe":case"object":Pt("load",e);break;case"video":case"audio":for(l=0;l<gl.length;l++)Pt(gl[l],e);break;case"image":Pt("error",e),Pt("load",e);break;case"details":Pt("toggle",e);break;case"embed":case"source":case"link":Pt("error",e),Pt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,l,a,null)}return;default:if(ko(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Ud(e,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(e,i,T,l,a,null))}function UA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,L=null,X=null;for(Y in a){var tt=a[Y];if(a.hasOwnProperty(Y)&&tt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=tt;default:l.hasOwnProperty(Y)||Yt(e,i,Y,null,l,tt)}}for(var K in l){var Y=l[K];if(tt=a[K],l.hasOwnProperty(K)&&(Y!=null||tt!=null))switch(K){case"type":d=Y;break;case"name":h=Y;break;case"checked":L=Y;break;case"defaultChecked":X=Y;break;case"value":v=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==tt&&Yt(e,i,K,Y,l,tt)}}br(e,v,T,I,L,X,d,h);return;case"select":Y=v=T=K=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":K=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Yt(e,i,h,d,l,I)}i=T,a=v,l=Y,K!=null?jt(e,!!a,K,!1):!!l!=!!a&&(i!=null?jt(e,!!a,i,!0):jt(e,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}vs(e,K,Y);return;case"option":for(var mt in a)if(K=a[mt],a.hasOwnProperty(mt)&&K!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:Yt(e,i,mt,null,l,K)}for(I in l)if(K=l[I],Y=a[I],l.hasOwnProperty(I)&&K!==Y&&(K!=null||Y!=null))switch(I){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Yt(e,i,I,K,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in a)K=a[wt],a.hasOwnProperty(wt)&&K!=null&&!l.hasOwnProperty(wt)&&Yt(e,i,wt,null,l,K);for(L in l)if(K=l[L],Y=a[L],l.hasOwnProperty(L)&&K!==Y&&(K!=null||Y!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Yt(e,i,L,K,l,Y)}return;default:if(ko(i)){for(var fe in a)K=a[fe],a.hasOwnProperty(fe)&&K!==void 0&&!l.hasOwnProperty(fe)&&Ud(e,i,fe,void 0,l,K);for(X in l)K=l[X],Y=a[X],!l.hasOwnProperty(X)||K===Y||K===void 0&&Y===void 0||Ud(e,i,X,K,l,Y);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&Yt(e,i,z,null,l,K);for(tt in l)K=l[tt],Y=a[tt],!l.hasOwnProperty(tt)||K===Y||K==null&&Y==null||Yt(e,i,tt,K,l,Y)}var zd=null,Bd=null;function bc(e){return e.nodeType===9?e:e.ownerDocument}function C_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Hd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function zA(){var e=window.event;return e&&e.type==="popstate"?e===jd?!1:(jd=e,!0):(jd=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,HA=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(e){return N_.resolve(null).then(e).catch(jA)}:O_;function jA(e){setTimeout(function(){throw e})}function qd(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),wl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);wl(i)}function Fd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[yr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function FA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Fn(e.nextSibling),e===null))return null;return e}function Fn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function x_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function k_(e,i,a){switch(i=bc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Ln=new Map,M_=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Yi=ut.d;ut.d={f:GA,r:$A,D:KA,C:QA,L:YA,m:XA,X:ZA,S:WA,M:JA};function GA(){var e=Yi.f(),i=pc();return e||i}function $A(e){var i=Ii(e);i!==null&&i.tag===5&&i.type==="form"?oy(i):Yi.r(e)}var Ya=typeof document>"u"?null:document;function V_(e,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var h=ue(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),je(i,"link",e),ie(i),l.head.appendChild(i)))}}function KA(e){Yi.D(e),V_("dns-prefetch",e,null)}function QA(e,i){Yi.C(e,i),V_("preconnect",e,i)}function YA(e,i,a){Yi.L(e,i,a);var l=Ya;if(l&&e&&i){var h='link[rel="preload"][as="'+ue(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ue(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ue(a.imageSizes)+'"]')):h+='[href="'+ue(e)+'"]';var d=h;switch(i){case"style":d=Xa(e);break;case"script":d=Wa(e)}Ln.has(d)||(e=C({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(_l(d))||i==="script"&&l.querySelector(vl(d))||(i=l.createElement("link"),je(i,"link",e),ie(i),l.head.appendChild(i)))}}function XA(e,i){Yi.m(e,i);var a=Ya;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ue(l)+'"][href="'+ue(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(e)}if(!Ln.has(d)&&(e=C({rel:"modulepreload",href:e},i),Ln.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(d)))return}l=a.createElement("link"),je(l,"link",e),ie(l),a.head.appendChild(l)}}}function WA(e,i,a){Yi.S(e,i,a);var l=Ya;if(l&&e){var h=vr(l).hoistableStyles,d=Xa(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(_l(d)))T.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(d))&&Gd(e,a);var I=v=l.createElement("link");ie(I),je(I,"link",e),I._p=new Promise(function(L,X){I.onload=L,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Sc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function ZA(e,i){Yi.X(e,i);var a=Ya;if(a&&e){var l=vr(a).hoistableScripts,h=Wa(e),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(e=C({src:e,async:!0},i),(i=Ln.get(h))&&$d(e,i),d=a.createElement("script"),ie(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function JA(e,i){Yi.M(e,i);var a=Ya;if(a&&e){var l=vr(a).hoistableScripts,h=Wa(e),d=l.get(h);d||(d=a.querySelector(vl(h)),d||(e=C({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&$d(e,i),d=a.createElement("script"),ie(d),je(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function P_(e,i,a,l){var h=(h=Tn.current)?Ac(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Xa(a.href),a=vr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Xa(a.href);var d=vr(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(_l(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||tS(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=vr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Xa(e){return'href="'+ue(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function L_(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function tS(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),je(i,"link",a),ie(i),e.head.appendChild(i))}function Wa(e){return'[src="'+ue(e)+'"]'}function vl(e){return"script[async]"+e}function U_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ue(a.href)+'"]');if(l)return i.instance=l,ie(l),l;var h=C({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ie(l),je(l,"style",h),Sc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Xa(a.href);var d=e.querySelector(_l(h));if(d)return i.state.loading|=4,i.instance=d,ie(d),d;l=L_(a),(h=Ln.get(h))&&Gd(l,h),d=(e.ownerDocument||e).createElement("link"),ie(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),je(d,"link",l),i.state.loading|=4,Sc(d,a.precedence,e),i.instance=d;case"script":return d=Wa(a.src),(h=e.querySelector(vl(d)))?(i.instance=h,ie(h),h):(l=a,(h=Ln.get(d))&&(l=C({},a),$d(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ie(h),je(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Sc(l,a.precedence,e));return i.instance}function Sc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Gd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function $d(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var wc=null;function z_(e,i,a){if(wc===null){var l=new Map,h=wc=new Map;h.set(a,l)}else h=wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[yr]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function B_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function eS(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var El=null;function nS(){}function iS(e,i,a){if(El===null)throw Error(s(475));var l=El;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Xa(a.href),d=e.querySelector(_l(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Rc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ie(d);return}d=e.ownerDocument||e,a=L_(a),(h=Ln.get(h))&&Gd(a,h),d=d.createElement("link"),ie(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),je(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Rc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function rS(){if(El===null)throw Error(s(475));var e=El;return e.stylesheets&&e.count===0&&Kd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ic=null;function Kd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ic=new Map,i.forEach(sS,e),Ic=null,Rc.call(e))}function sS(e,i){if(!(i.state.loading&4)){var a=Ic.get(e);if(a)var l=a.get(null);else{a=new Map,Ic.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Tl={$$typeof:N,Provider:null,Consumer:null,_currentValue:Dt,_currentValue2:Dt,_threadCount:0};function aS(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function j_(e,i,a,l,h,d,v,T,I,L,X,tt){return e=new aS(e,i,a,v,T,I,L,tt),i=1,d===!0&&(i|=24),d=Vn(3,null,null,i),e.current=d,d.stateNode=e,i=wf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},sd(d),e}function q_(e){return e?(e=Da,e):Da}function F_(e,i,a,l,h,d){h=q_(h),l.context===null?l.context=h:l.pendingContext=h,l=xr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(e,l,i),a!==null&&(sn(a,e,i),rl(a,e,i))}function G_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Qd(e,i){G_(e,i),(e=e.alternate)&&G_(e,i)}function $_(e){if(e.tag===13){var i=wr(e,67108864);i!==null&&sn(i,e,67108864),Qd(e,67108864)}}var Cc=!0;function oS(e,i,a,l){var h=S.T;S.T=null;var d=ut.p;try{ut.p=2,Yd(e,i,a,l)}finally{ut.p=d,S.T=h}}function lS(e,i,a,l){var h=S.T;S.T=null;var d=ut.p;try{ut.p=8,Yd(e,i,a,l)}finally{ut.p=d,S.T=h}}function Yd(e,i,a,l){if(Cc){var h=Xd(l);if(h===null)Ld(e,i,l,Dc,a),Q_(e,l);else if(cS(h,e,i,a,l))l.stopPropagation();else if(Q_(e,l),i&4&&-1<uS.indexOf(e)){for(;h!==null;){var d=Ii(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-tn(v);T.entanglements[1]|=I,v&=~I}ci(d),(se&6)===0&&(fc=on()+500,pl(0))}}break;case 13:T=wr(d,2),T!==null&&sn(T,d,2),pc(),Qd(d,2)}if(d=Xd(l),d===null&&Ld(e,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(e,i,l,null,a)}}function Xd(e){return e=ya(e),Wd(e)}var Dc=null;function Wd(e){if(Dc=null,e=Bn(e),e!==null){var i=J(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=bt(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Dc=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mu()){case Te:return 2;case Oe:return 8;case wi:case pu:return 32;case Ao:return 268435456;default:return 32}default:return 32}}var Zd=!1,Br=null,Hr=null,jr=null,bl=new Map,Al=new Map,qr=[],uS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(e,i){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(i.pointerId)}}function Sl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ii(i),i!==null&&$_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function cS(e,i,a,l,h){switch(i){case"focusin":return Br=Sl(Br,e,i,a,l,h),!0;case"dragenter":return Hr=Sl(Hr,e,i,a,l,h),!0;case"mouseover":return jr=Sl(jr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return bl.set(d,Sl(bl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Al.set(d,Sl(Al.get(d)||null,e,i,a,l,h)),!0}return!1}function Y_(e){var i=Bn(e.target);if(i!==null){var a=J(i);if(a!==null){if(i=a.tag,i===13){if(i=bt(a),i!==null){e.blockedOn=i,gr(e.priority,function(){if(a.tag===13){var l=_n(),h=wr(a,l);h!==null&&sn(h,a,l),Qd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);wn=l,a.target.dispatchEvent(l),wn=null}else return i=Ii(a),i!==null&&$_(i),e.blockedOn=a,!1;i.shift()}return!0}function X_(e,i,a){Oc(e)&&a.delete(i)}function hS(){Zd=!1,Br!==null&&Oc(Br)&&(Br=null),Hr!==null&&Oc(Hr)&&(Hr=null),jr!==null&&Oc(jr)&&(jr=null),bl.forEach(X_),Al.forEach(X_)}function Nc(e,i){e.blockedOn===i&&(e.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,hS)))}var xc=null;function W_(e){xc!==e&&(xc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===e&&(xc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var d=Ii(a);d!==null&&(e.splice(i,3),i-=3,Hf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function wl(e){function i(I){return Nc(I,e)}Br!==null&&Nc(Br,e),Hr!==null&&Nc(Hr,e),jr!==null&&Nc(jr,e),bl.forEach(i),Al.forEach(i);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[be]||null;if(typeof d=="function")v||W_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[be]||null)T=v.formAction;else if(Wd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),W_(a)}}}function Jd(e){this._internalRoot=e}kc.prototype.render=Jd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();F_(a,l,e,i,null,null)},kc.prototype.unmount=Jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&$a(),F_(e.current,2,null,e,null,null),pc(),i[Ri]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Eu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<qr.length&&i!==0&&i<qr[a].priority;a++);qr.splice(a,0,e),a===0&&Y_(e)}};var Z_=t.version;if(Z_!=="19.0.0")throw Error(s(527,Z_,"19.0.0"));ut.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=nt(i),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var fS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Bn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{cr=Mc.inject(fS),$e=Mc}catch{}}return Il.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=py,d=gy,v=yy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=j_(e,1,!1,null,null,a,l,h,d,v,T,null),e[Ri]=i.current,Pd(e.nodeType===8?e.parentNode:e),new Jd(i)},Il.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=py,v=gy,T=yy,I=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=j_(e,1,!0,i,a??null,l,h,d,v,T,I,L),i.context=q_(null),a=i.current,l=_n(),h=xr(l),h.callback=null,kr(a,h,l),i.current.lanes=l,de(i,l),ci(i),e[Ri]=i.current,Pd(e),new kc(i)},Il.version="19.0.0",Il}var lv;function bS(){if(lv)return nm.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),nm.exports=TS(),nm.exports}var AS=bS();const SS=Q0(AS);var Cl={},uv;function wS(){if(uv)return Cl;uv=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.parse=f,Cl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,N){const M=new u,$=R.length;if($<2)return M;const P=(N==null?void 0:N.decode)||E;let q=0;do{const F=R.indexOf("=",q);if(F===-1)break;const G=R.indexOf(";",q),et=G===-1?$:G;if(F>et){q=R.lastIndexOf(";",F-1)+1;continue}const rt=m(R,q,F),ft=p(R,F,rt),O=R.slice(rt,ft);if(M[O]===void 0){let w=m(R,F+1,et),S=p(R,et,w);const C=P(R.slice(w,S));M[O]=C}q=et+1}while(q<$);return M}function m(R,N,M){do{const $=R.charCodeAt(N);if($!==32&&$!==9)return N}while(++N<M);return M}function p(R,N,M){for(;N>M;){const $=R.charCodeAt(--N);if($!==32&&$!==9)return N+1}return M}function g(R,N,M){const $=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const P=$(N);if(!t.test(P))throw new TypeError(`argument val is invalid: ${N}`);let q=R+"="+P;if(!M)return q;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);q+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);q+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);q+="; Path="+M.path}if(M.expires){if(!A(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);q+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(q+="; HttpOnly"),M.secure&&(q+="; Secure"),M.partitioned&&(q+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return q}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return o.call(R)==="[object Date]"}return Cl}wS();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cv="popstate";function RS(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=na(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Em("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Hl(u))}function s(o,u){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return CS(t,n,s,r)}function ae(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Kn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IS(){return Math.random().toString(36).substring(2,10)}function hv(r,t){return{usr:r.state,key:r.key,idx:t}}function Em(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?na(t):t,state:n,key:t&&t.key||s||IS()}}function Hl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function na(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function CS(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let P=E(),q=P==null?null:P-g;g=P,p&&p({action:m,location:$.location,delta:q})}function R(P,q){m="PUSH";let F=Em($.location,P,q);n&&n(F,P),g=E()+1;let G=hv(F,g),et=$.createHref(F);try{f.pushState(G,"",et)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;o.location.assign(et)}u&&p&&p({action:m,location:$.location,delta:1})}function N(P,q){m="REPLACE";let F=Em($.location,P,q);n&&n(F,P),g=E();let G=hv(F,g),et=$.createHref(F);f.replaceState(G,"",et),u&&p&&p({action:m,location:$.location,delta:0})}function M(P){let q=o.location.origin!=="null"?o.location.origin:o.location.href,F=typeof P=="string"?P:Hl(P);return F=F.replace(/ $/,"%20"),ae(q,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,q)}let $={get action(){return m},get location(){return r(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(cv,A),p=P,()=>{o.removeEventListener(cv,A),p=null}},createHref(P){return t(o,P)},createURL:M,encodeLocation(P){let q=M(P);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:R,replace:N,go(P){return f.go(P)}};return $}function Y0(r,t,n="/"){return DS(r,t,n,!1)}function DS(r,t,n,s){let o=typeof t=="string"?na(t):t,u=er(o.pathname||"/",n);if(u==null)return null;let f=X0(r);OS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=HS(u);m=zS(f[p],g,s)}return m}function X0(r,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ae(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ji([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ae(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),X0(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:LS(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of W0(u.path))o(u,f,p)}),t}function W0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=W0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function OS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:US(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var NS=/^:[\w-]+$/,xS=3,kS=2,MS=1,VS=10,PS=-2,fv=r=>r==="*";function LS(r,t){let n=r.split("/"),s=n.length;return n.some(fv)&&(s+=PS),t&&(s+=kS),n.filter(o=>!fv(o)).reduce((o,u)=>o+(NS.test(u)?xS:u===""?MS:VS),s)}function US(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function zS(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Ji([u,A.pathname]),pathnameBase:GS(Ji([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=Ji([u,A.pathnameBase]))}return f}function rh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=BS(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},R)=>{if(E==="*"){let M=m[R]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const N=m[R];return A&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function BS(r,t=!1,n=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function HS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function er(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function jS(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?na(r):r;return{pathname:n?n.startsWith("/")?n:qS(n,t):t,search:$S(s),hash:KS(o)}}function qS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Z0(r){let t=FS(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function J0(r,t,n,s=!1){let o;typeof r=="string"?o=na(r):(o={...r},ae(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?t[A]:"/"}let p=jS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Ji=r=>r.join("/").replace(/\/\/+/g,"/"),GS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$S=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,KS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function QS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var tE=["POST","PUT","PATCH","DELETE"];new Set(tE);var YS=["GET",...tE];new Set(YS);var po=j.createContext(null);po.displayName="DataRouter";var Rh=j.createContext(null);Rh.displayName="DataRouterState";var eE=j.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var XS=j.createContext(new Map);XS.displayName="Fetchers";var WS=j.createContext(null);WS.displayName="Await";var Ei=j.createContext(null);Ei.displayName="Navigation";var Zl=j.createContext(null);Zl.displayName="Location";var or=j.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var tp=j.createContext(null);tp.displayName="RouteError";function ZS(r,{relative:t}={}){ae(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Ei),{hash:o,pathname:u,search:f}=tu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ji([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Jl(){return j.useContext(Zl)!=null}function ia(){return ae(Jl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Zl).location}var nE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iE(r){j.useContext(Ei).static||j.useLayoutEffect(r)}function Ih(){let{isDataRoute:r}=j.useContext(or);return r?hw():JS()}function JS(){ae(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(po),{basename:t,navigator:n}=j.useContext(Ei),{matches:s}=j.useContext(or),{pathname:o}=ia(),u=JSON.stringify(Z0(s)),f=j.useRef(!1);return iE(()=>{f.current=!0}),j.useCallback((p,g={})=>{if(Kn(f.current,nE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=J0(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ji([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}j.createContext(null);function tu(r,{relative:t}={}){let{matches:n}=j.useContext(or),{pathname:s}=ia(),o=JSON.stringify(Z0(n));return j.useMemo(()=>J0(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function tw(r,t){return rE(r,t)}function rE(r,t,n,s){var F;ae(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=j.useContext(Ei),{matches:f}=j.useContext(or),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let G=A&&A.path||"";sE(g,!A||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let R=ia(),N;if(t){let G=typeof t=="string"?na(t):t;ae(E==="/"||((F=G.pathname)==null?void 0:F.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${G.pathname}" was given in the \`location\` prop.`),N=G}else N=R;let M=N.pathname||"/",$=M;if(E!=="/"){let G=E.replace(/^\//,"").split("/");$="/"+M.replace(/^\//,"").split("/").slice(G.length).join("/")}let P=!u&&n&&n.matches&&n.matches.length>0?n.matches:Y0(r,{pathname:$});Kn(A||P!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Kn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=sw(P&&P.map(G=>Object.assign({},G,{params:Object.assign({},p,G.params),pathname:Ji([E,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?E:Ji([E,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),f,n,s);return t&&q?j.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},q):q}function ew(){let r=cw(),t=QS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:o},n):null,f)}var nw=j.createElement(ew,null),iw=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?j.createElement(or.Provider,{value:this.props.routeContext},j.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rw({routeContext:r,match:t,children:n}){let s=j.useContext(po);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(or.Provider,{value:r},n)}function sw(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ae(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,R=!1,N=null,M=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||nw,f&&(m<0&&E===0?(sE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,M=null):m===E&&(R=!0,M=g.route.hydrateFallbackElement||null)));let $=t.concat(o.slice(0,E+1)),P=()=>{let q;return A?q=N:R?q=M:g.route.Component?q=j.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,j.createElement(rw,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?j.createElement(iw,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:P(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):P()},null)}function ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aw(r){let t=j.useContext(po);return ae(t,ep(r)),t}function ow(r){let t=j.useContext(Rh);return ae(t,ep(r)),t}function lw(r){let t=j.useContext(or);return ae(t,ep(r)),t}function np(r){let t=lw(r),n=t.matches[t.matches.length-1];return ae(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function uw(){return np("useRouteId")}function cw(){var s;let r=j.useContext(tp),t=ow("useRouteError"),n=np("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function hw(){let{router:r}=aw("useNavigate"),t=np("useNavigate"),n=j.useRef(!1);return iE(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Kn(n.current,nE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var dv={};function sE(r,t,n){!t&&!dv[r]&&(dv[r]=!0,Kn(!1,n))}j.memo(fw);function fw({routes:r,future:t,state:n}){return rE(r,void 0,n,t)}function Ol(r){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ae(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=na(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:R="default"}=n,N=j.useMemo(()=>{let M=er(p,f);return M==null?null:{location:{pathname:M,search:g,hash:E,state:A,key:R},navigationType:s}},[f,p,g,E,A,R,s]);return Kn(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:j.createElement(Ei.Provider,{value:m},j.createElement(Zl.Provider,{children:t,value:N}))}function mw({children:r,location:t}){return tw(Tm(r),t)}function Tm(r,t=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...t,o];if(s.type===j.Fragment){n.push.apply(n,Tm(s.props.children,u));return}ae(s.type===Ol,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tm(s.props.children,u)),n.push(f)}),n}var $c="get",Kc="application/x-www-form-urlencoded";function Ch(r){return r!=null&&typeof r.tagName=="string"}function pw(r){return Ch(r)&&r.tagName.toLowerCase()==="button"}function gw(r){return Ch(r)&&r.tagName.toLowerCase()==="form"}function yw(r){return Ch(r)&&r.tagName.toLowerCase()==="input"}function _w(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vw(r,t){return r.button===0&&(!t||t==="_self")&&!_w(r)}var Vc=null;function Ew(){if(Vc===null)try{new FormData(document.createElement("form"),0),Vc=!1}catch{Vc=!0}return Vc}var Tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(r){return r!=null&&!Tw.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):r}function bw(r,t){let n,s,o,u,f;if(gw(r)){let m=r.getAttribute("action");s=m?er(m,t):null,n=r.getAttribute("method")||$c,o=om(r.getAttribute("enctype"))||Kc,u=new FormData(r)}else if(pw(r)||yw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?er(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||$c,o=om(r.getAttribute("formenctype"))||om(m.getAttribute("enctype"))||Kc,u=new FormData(m,r),!Ew()){let{name:g,type:E,value:A}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,A)}}else{if(Ch(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,o=Kc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ip(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Aw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ww(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Aw(u,n);return f.links?f.links():[]}return[]}));return Dw(s.flat(1).filter(Sw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mv(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Rw(r,t,{includeHydrateFallback:n}={}){return Iw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Iw(r){return[...new Set(r)]}function Cw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Dw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Cw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Ow(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&er(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function aE(){let r=j.useContext(po);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Nw(){let r=j.useContext(Rh);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rp=j.createContext(void 0);rp.displayName="FrameworkContext";function oE(){let r=j.useContext(rp);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function xw(r,t){let n=j.useContext(rp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=t,R=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=q=>{q.forEach(F=>{f(F.isIntersecting)})},P=new IntersectionObserver($,{threshold:.5});return R.current&&P.observe(R.current),()=>{P.disconnect()}}},[r]),j.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let N=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Dl(m,N),onBlur:Dl(p,M),onMouseEnter:Dl(g,N),onMouseLeave:Dl(E,M),onTouchStart:Dl(A,N)}]:[!1,R,{}]}function Dl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function kw({page:r,...t}){let{router:n}=aE(),s=j.useMemo(()=>Y0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(Vw,{page:r,matches:s,...t}):null}function Mw(r){let{manifest:t,routeModules:n}=oE(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return ww(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Vw({page:r,matches:t,...n}){let s=ia(),{manifest:o,routeModules:u}=oE(),{basename:f}=aE(),{loaderData:m,matches:p}=Nw(),g=j.useMemo(()=>mv(r,t,p,o,s,"data"),[r,t,p,o,s]),E=j.useMemo(()=>mv(r,t,p,o,s,"assets"),[r,t,p,o,s]),A=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,$=!1;if(t.forEach(q=>{var G;let F=o.routes[q.route.id];!F||!F.hasLoader||(!g.some(et=>et.route.id===q.route.id)&&q.route.id in m&&((G=u[q.route.id])!=null&&G.shouldRevalidate)||F.hasClientLoader?$=!0:M.add(q.route.id))}),M.size===0)return[];let P=Ow(r,f);return $&&M.size>0&&P.searchParams.set("_routes",t.filter(q=>M.has(q.route.id)).map(q=>q.route.id).join(",")),[P.pathname+P.search]},[f,m,s,o,g,t,r,u]),R=j.useMemo(()=>Rw(E,o),[E,o]),N=Mw(E);return j.createElement(j.Fragment,null,A.map(M=>j.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),R.map(M=>j.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),N.map(({key:M,link:$})=>j.createElement("link",{key:M,...$})))}function Pw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var lE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lE&&(window.__reactRouterVersion="7.4.0")}catch{}function Lw({basename:r,children:t,window:n}){let s=j.useRef();s.current==null&&(s.current=RS({window:n,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>f(p))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(dw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var uE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dh=j.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...R},N){let{basename:M}=j.useContext(Ei),$=typeof g=="string"&&uE.test(g),P,q=!1;if(typeof g=="string"&&$&&(P=g,lE))try{let S=new URL(window.location.href),C=g.startsWith("//")?new URL(S.protocol+g):new URL(g),k=er(C.pathname,M);C.origin===S.origin&&k!=null?g=k+C.search+C.hash:q=!0}catch{Kn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=ZS(g,{relative:o}),[G,et,rt]=xw(s,R),ft=Hw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function O(S){t&&t(S),S.defaultPrevented||ft(S)}let w=j.createElement("a",{...R,...rt,href:P||F,onClick:q||u?t:O,ref:Pw(N,et),target:p,"data-discover":!$&&n==="render"?"true":void 0});return G&&!$?j.createElement(j.Fragment,null,w,j.createElement(kw,{page:F})):w});Dh.displayName="Link";var Uw=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=tu(f,{relative:g.relative}),R=ia(),N=j.useContext(Rh),{navigator:M,basename:$}=j.useContext(Ei),P=N!=null&&$w(A)&&m===!0,q=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,F=R.pathname,G=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(F=F.toLowerCase(),G=G?G.toLowerCase():null,q=q.toLowerCase()),G&&$&&(G=er(G,$)||G);const et=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let rt=F===q||!o&&F.startsWith(q)&&F.charAt(et)==="/",ft=G!=null&&(G===q||!o&&G.startsWith(q)&&G.charAt(q.length)==="/"),O={isActive:rt,isPending:ft,isTransitioning:P},w=rt?t:void 0,S;typeof s=="function"?S=s(O):S=[s,rt?"active":null,ft?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(O):u;return j.createElement(Dh,{...g,"aria-current":w,className:S,ref:E,style:C,to:f,viewTransition:m},typeof p=="function"?p(O):p)});Uw.displayName="NavLink";var zw=j.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=$c,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...R},N)=>{let M=Fw(),$=Gw(m,{relative:g}),P=f.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&uE.test(m),F=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let et=G.nativeEvent.submitter,rt=(et==null?void 0:et.getAttribute("formmethod"))||f;M(et||G.currentTarget,{fetcherKey:t,method:rt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return j.createElement("form",{ref:N,method:P,action:$,onSubmit:s?p:F,...R,"data-discover":!q&&r==="render"?"true":void 0})});zw.displayName="Form";function Bw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cE(r){let t=j.useContext(po);return ae(t,Bw(r)),t}function Hw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Ih(),p=ia(),g=tu(r,{relative:u});return j.useCallback(E=>{if(vw(E,t)){E.preventDefault();let A=n!==void 0?n:Hl(p)===Hl(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,r,o,u,f])}var jw=0,qw=()=>`__${String(++jw)}__`;function Fw(){let{router:r}=cE("useSubmit"),{basename:t}=j.useContext(Ei),n=uw();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=bw(s,t);if(o.navigate===!1){let E=o.fetcherKey||qw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function Gw(r,{relative:t}={}){let{basename:n}=j.useContext(Ei),s=j.useContext(or);ae(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...tu(r||".",{relative:t})},f=ia();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ji([n,u.pathname])),Hl(u)}function $w(r,t={}){let n=j.useContext(eE);ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cE("useViewTransitionState"),o=tu(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=er(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return rh(o.pathname,f)!=null||rh(o.pathname,u)!=null}new TextEncoder;const Kw=()=>{};var pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Qw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,N=g&63;p||(N=64,f||(R=64)),s.push(n[E],n[A],n[R],n[N])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(hE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Qw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new Yw;const R=u<<2|m>>4;if(s.push(R),g!==64){const N=m<<4&240|g>>2;if(s.push(N),A!==64){const M=g<<6&192|A;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Yw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xw=function(r){const t=hE(r);return fE.encodeByteArray(t,!0)},sh=function(r){return Xw(r).replace(/\./g,"")},dE=function(r){try{return fE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=()=>Ww().__FIREBASE_DEFAULTS__,Jw=()=>{if(typeof process>"u"||typeof pv>"u")return;const r=pv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&dE(r[1]);return t&&JSON.parse(t)},Oh=()=>{try{return Kw()||Zw()||Jw()||tR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mE=r=>{var t,n;return(n=(t=Oh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},pE=r=>{const t=mE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},gE=()=>{var r;return(r=Oh())===null||r===void 0?void 0:r.config},yE=r=>{var t;return(t=Oh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function iR(){var r;const t=(r=Oh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lR(){return!iR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function cR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="FirebaseError";class Ti extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=hR,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?fR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ti(o,m,s)}}function fR(r,t){return r.replace(dR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const dR=/\{\$([^}]+)}/g;function mR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Qs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(gv(u)&&gv(f)){if(!Qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function gv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Nl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function xl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function pR(r,t){const n=new gR(r,t);return n.subscribe.bind(n)}class gR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");yR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=lm),o.error===void 0&&(o.error=lm),o.complete===void 0&&(o.complete=lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(r){return r&&r._delegate?r._delegate:r}class ns{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new eR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ER(t))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Gs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gs){return this.instances.has(t)}getOptions(t=Gs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Gs){return this.component?this.component.multipleInstances?t:Gs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(r){return r===Gs?void 0:r}function ER(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new _R(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const bR={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},AR=Mt.INFO,SR={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},wR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=SR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sp{constructor(t){this.name=t,this._logLevel=AR,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const RR=(r,t)=>t.some(n=>r instanceof n);let yv,_v;function IR(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,bm=new WeakMap,EE=new WeakMap,um=new WeakMap,ap=new WeakMap;function DR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Wr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&vE.set(n,r)}).catch(()=>{}),ap.set(t,r),t}function OR(r){if(bm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});bm.set(r,t)}let Am={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return bm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||EE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function NR(r){Am=r(Am)}function xR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(cm(this),t,...n);return EE.set(s,t.sort?t.sort():[t]),Wr(s)}:CR().includes(r)?function(...t){return r.apply(cm(this),t),Wr(vE.get(this))}:function(...t){return Wr(r.apply(cm(this),t))}}function kR(r){return typeof r=="function"?xR(r):(r instanceof IDBTransaction&&OR(r),RR(r,IR())?new Proxy(r,Am):r)}function Wr(r){if(r instanceof IDBRequest)return DR(r);if(um.has(r))return um.get(r);const t=kR(r);return t!==r&&(um.set(r,t),ap.set(t,r)),t}const cm=r=>ap.get(r);function MR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Wr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Wr(f.result),p.oldVersion,p.newVersion,Wr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const VR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],hm=new Map;function vv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(hm.get(t))return hm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=PR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return hm.set(t,u),u}NR(r=>({...r,get:(t,n,s)=>vv(t,n)||r.get(t,n,s),has:(t,n)=>!!vv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function UR(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sm="@firebase/app",Ev="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new sp("@firebase/app"),zR="@firebase/app-compat",BR="@firebase/analytics-compat",HR="@firebase/analytics",jR="@firebase/app-check-compat",qR="@firebase/app-check",FR="@firebase/auth",GR="@firebase/auth-compat",$R="@firebase/database",KR="@firebase/data-connect",QR="@firebase/database-compat",YR="@firebase/functions",XR="@firebase/functions-compat",WR="@firebase/installations",ZR="@firebase/installations-compat",JR="@firebase/messaging",t1="@firebase/messaging-compat",e1="@firebase/performance",n1="@firebase/performance-compat",i1="@firebase/remote-config",r1="@firebase/remote-config-compat",s1="@firebase/storage",a1="@firebase/storage-compat",o1="@firebase/firestore",l1="@firebase/vertexai",u1="@firebase/firestore-compat",c1="firebase",h1="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",f1={[Sm]:"fire-core",[zR]:"fire-core-compat",[HR]:"fire-analytics",[BR]:"fire-analytics-compat",[qR]:"fire-app-check",[jR]:"fire-app-check-compat",[FR]:"fire-auth",[GR]:"fire-auth-compat",[$R]:"fire-rtdb",[KR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[YR]:"fire-fn",[XR]:"fire-fn-compat",[WR]:"fire-iid",[ZR]:"fire-iid-compat",[JR]:"fire-fcm",[t1]:"fire-fcm-compat",[e1]:"fire-perf",[n1]:"fire-perf-compat",[i1]:"fire-rc",[r1]:"fire-rc-compat",[s1]:"fire-gcs",[a1]:"fire-gcs-compat",[o1]:"fire-fst",[u1]:"fire-fst-compat",[l1]:"fire-vertex","fire-js":"fire-js",[c1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,d1=new Map,Rm=new Map;function Tv(r,t){try{r.container.addComponent(t)}catch(n){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ys(r){const t=r.name;if(Rm.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;Rm.set(t,r);for(const n of ah.values())Tv(n,r);for(const n of d1.values())Tv(n,r);return!0}function Nh(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function vn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new eu("app","Firebase",m1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=h1;function TE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:wm,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=gE()),!n)throw Zr.create("no-options");const u=ah.get(o);if(u){if(Qs(n,u.options)&&Qs(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new TR(o);for(const p of Rm.values())f.addComponent(p);const m=new p1(n,s,f);return ah.set(o,m),m}function op(r=wm){const t=ah.get(r);if(!t&&r===wm&&gE())return TE();if(!t)throw Zr.create("no-app",{appName:r});return t}function fi(r,t,n){var s;let o=(s=f1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}Ys(new ns(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="firebase-heartbeat-database",y1=1,jl="firebase-heartbeat-store";let fm=null;function bE(){return fm||(fm=MR(g1,y1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),fm}async function _1(r){try{const n=(await bE()).transaction(jl),s=await n.objectStore(jl).get(AE(r));return await n.done,s}catch(t){if(t instanceof Ti)nr.warn(t.message);else{const n=Zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});nr.warn(n.message)}}}async function bv(r,t){try{const s=(await bE()).transaction(jl,"readwrite");await s.objectStore(jl).put(t,AE(r)),await s.done}catch(n){if(n instanceof Ti)nr.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(s.message)}}}function AE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=1024,E1=30;class T1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Av();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>E1){const f=S1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Av(),{heartbeatsToSend:s,unsentEntries:o}=b1(this._heartbeatsCache.heartbeats),u=sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return nr.warn(n),""}}}function Av(){return new Date().toISOString().substring(0,10)}function b1(r,t=v1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Sv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Sv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class A1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?cR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Sv(r){return sh(JSON.stringify({version:2,heartbeats:r})).length}function S1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r){Ys(new ns("platform-logger",t=>new LR(t),"PRIVATE")),Ys(new ns("heartbeat",t=>new T1(t),"PRIVATE")),fi(Sm,Ev,r),fi(Sm,Ev,"esm2017"),fi("fire-js","")}w1("");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,SE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,w){function S(){}S.prototype=w.prototype,O.D=w.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(C,k,U){for(var D=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)D[ne-2]=arguments[ne];return w.prototype[k].apply(C,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,w,S){S||(S=0);var C=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)C[k]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(k=0;16>k;++k)C[k]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=O.g[0],S=O.g[1],k=O.g[2];var U=O.g[3],D=w+(U^S&(k^U))+C[0]+3614090360&4294967295;w=S+(D<<7&4294967295|D>>>25),D=U+(k^w&(S^k))+C[1]+3905402710&4294967295,U=w+(D<<12&4294967295|D>>>20),D=k+(S^U&(w^S))+C[2]+606105819&4294967295,k=U+(D<<17&4294967295|D>>>15),D=S+(w^k&(U^w))+C[3]+3250441966&4294967295,S=k+(D<<22&4294967295|D>>>10),D=w+(U^S&(k^U))+C[4]+4118548399&4294967295,w=S+(D<<7&4294967295|D>>>25),D=U+(k^w&(S^k))+C[5]+1200080426&4294967295,U=w+(D<<12&4294967295|D>>>20),D=k+(S^U&(w^S))+C[6]+2821735955&4294967295,k=U+(D<<17&4294967295|D>>>15),D=S+(w^k&(U^w))+C[7]+4249261313&4294967295,S=k+(D<<22&4294967295|D>>>10),D=w+(U^S&(k^U))+C[8]+1770035416&4294967295,w=S+(D<<7&4294967295|D>>>25),D=U+(k^w&(S^k))+C[9]+2336552879&4294967295,U=w+(D<<12&4294967295|D>>>20),D=k+(S^U&(w^S))+C[10]+4294925233&4294967295,k=U+(D<<17&4294967295|D>>>15),D=S+(w^k&(U^w))+C[11]+2304563134&4294967295,S=k+(D<<22&4294967295|D>>>10),D=w+(U^S&(k^U))+C[12]+1804603682&4294967295,w=S+(D<<7&4294967295|D>>>25),D=U+(k^w&(S^k))+C[13]+4254626195&4294967295,U=w+(D<<12&4294967295|D>>>20),D=k+(S^U&(w^S))+C[14]+2792965006&4294967295,k=U+(D<<17&4294967295|D>>>15),D=S+(w^k&(U^w))+C[15]+1236535329&4294967295,S=k+(D<<22&4294967295|D>>>10),D=w+(k^U&(S^k))+C[1]+4129170786&4294967295,w=S+(D<<5&4294967295|D>>>27),D=U+(S^k&(w^S))+C[6]+3225465664&4294967295,U=w+(D<<9&4294967295|D>>>23),D=k+(w^S&(U^w))+C[11]+643717713&4294967295,k=U+(D<<14&4294967295|D>>>18),D=S+(U^w&(k^U))+C[0]+3921069994&4294967295,S=k+(D<<20&4294967295|D>>>12),D=w+(k^U&(S^k))+C[5]+3593408605&4294967295,w=S+(D<<5&4294967295|D>>>27),D=U+(S^k&(w^S))+C[10]+38016083&4294967295,U=w+(D<<9&4294967295|D>>>23),D=k+(w^S&(U^w))+C[15]+3634488961&4294967295,k=U+(D<<14&4294967295|D>>>18),D=S+(U^w&(k^U))+C[4]+3889429448&4294967295,S=k+(D<<20&4294967295|D>>>12),D=w+(k^U&(S^k))+C[9]+568446438&4294967295,w=S+(D<<5&4294967295|D>>>27),D=U+(S^k&(w^S))+C[14]+3275163606&4294967295,U=w+(D<<9&4294967295|D>>>23),D=k+(w^S&(U^w))+C[3]+4107603335&4294967295,k=U+(D<<14&4294967295|D>>>18),D=S+(U^w&(k^U))+C[8]+1163531501&4294967295,S=k+(D<<20&4294967295|D>>>12),D=w+(k^U&(S^k))+C[13]+2850285829&4294967295,w=S+(D<<5&4294967295|D>>>27),D=U+(S^k&(w^S))+C[2]+4243563512&4294967295,U=w+(D<<9&4294967295|D>>>23),D=k+(w^S&(U^w))+C[7]+1735328473&4294967295,k=U+(D<<14&4294967295|D>>>18),D=S+(U^w&(k^U))+C[12]+2368359562&4294967295,S=k+(D<<20&4294967295|D>>>12),D=w+(S^k^U)+C[5]+4294588738&4294967295,w=S+(D<<4&4294967295|D>>>28),D=U+(w^S^k)+C[8]+2272392833&4294967295,U=w+(D<<11&4294967295|D>>>21),D=k+(U^w^S)+C[11]+1839030562&4294967295,k=U+(D<<16&4294967295|D>>>16),D=S+(k^U^w)+C[14]+4259657740&4294967295,S=k+(D<<23&4294967295|D>>>9),D=w+(S^k^U)+C[1]+2763975236&4294967295,w=S+(D<<4&4294967295|D>>>28),D=U+(w^S^k)+C[4]+1272893353&4294967295,U=w+(D<<11&4294967295|D>>>21),D=k+(U^w^S)+C[7]+4139469664&4294967295,k=U+(D<<16&4294967295|D>>>16),D=S+(k^U^w)+C[10]+3200236656&4294967295,S=k+(D<<23&4294967295|D>>>9),D=w+(S^k^U)+C[13]+681279174&4294967295,w=S+(D<<4&4294967295|D>>>28),D=U+(w^S^k)+C[0]+3936430074&4294967295,U=w+(D<<11&4294967295|D>>>21),D=k+(U^w^S)+C[3]+3572445317&4294967295,k=U+(D<<16&4294967295|D>>>16),D=S+(k^U^w)+C[6]+76029189&4294967295,S=k+(D<<23&4294967295|D>>>9),D=w+(S^k^U)+C[9]+3654602809&4294967295,w=S+(D<<4&4294967295|D>>>28),D=U+(w^S^k)+C[12]+3873151461&4294967295,U=w+(D<<11&4294967295|D>>>21),D=k+(U^w^S)+C[15]+530742520&4294967295,k=U+(D<<16&4294967295|D>>>16),D=S+(k^U^w)+C[2]+3299628645&4294967295,S=k+(D<<23&4294967295|D>>>9),D=w+(k^(S|~U))+C[0]+4096336452&4294967295,w=S+(D<<6&4294967295|D>>>26),D=U+(S^(w|~k))+C[7]+1126891415&4294967295,U=w+(D<<10&4294967295|D>>>22),D=k+(w^(U|~S))+C[14]+2878612391&4294967295,k=U+(D<<15&4294967295|D>>>17),D=S+(U^(k|~w))+C[5]+4237533241&4294967295,S=k+(D<<21&4294967295|D>>>11),D=w+(k^(S|~U))+C[12]+1700485571&4294967295,w=S+(D<<6&4294967295|D>>>26),D=U+(S^(w|~k))+C[3]+2399980690&4294967295,U=w+(D<<10&4294967295|D>>>22),D=k+(w^(U|~S))+C[10]+4293915773&4294967295,k=U+(D<<15&4294967295|D>>>17),D=S+(U^(k|~w))+C[1]+2240044497&4294967295,S=k+(D<<21&4294967295|D>>>11),D=w+(k^(S|~U))+C[8]+1873313359&4294967295,w=S+(D<<6&4294967295|D>>>26),D=U+(S^(w|~k))+C[15]+4264355552&4294967295,U=w+(D<<10&4294967295|D>>>22),D=k+(w^(U|~S))+C[6]+2734768916&4294967295,k=U+(D<<15&4294967295|D>>>17),D=S+(U^(k|~w))+C[13]+1309151649&4294967295,S=k+(D<<21&4294967295|D>>>11),D=w+(k^(S|~U))+C[4]+4149444226&4294967295,w=S+(D<<6&4294967295|D>>>26),D=U+(S^(w|~k))+C[11]+3174756917&4294967295,U=w+(D<<10&4294967295|D>>>22),D=k+(w^(U|~S))+C[2]+718787259&4294967295,k=U+(D<<15&4294967295|D>>>17),D=S+(U^(k|~w))+C[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var S=w-this.blockSize,C=this.B,k=this.h,U=0;U<w;){if(k==0)for(;U<=S;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<w;)if(C[k++]=O.charCodeAt(U++),k==this.blockSize){o(this,C),k=0;break}}else for(;U<w;)if(C[k++]=O[U++],k==this.blockSize){o(this,C),k=0;break}}this.h=k,this.o+=w},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var S=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=S&255,S/=256;for(this.u(O),O=Array(16),w=S=0;4>w;++w)for(var C=0;32>C;C+=8)O[S++]=this.g[w]>>>C&255;return O};function u(O,w){var S=m;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=w(O)}function f(O,w){this.h=w;for(var S=[],C=!0,k=O.length-1;0<=k;k--){var U=O[k]|0;C&&U==w||(S[k]=U,C=!1)}this.g=S}var m={};function p(O){return-128<=O&&128>O?u(O,function(w){return new f([w|0],0>w?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return P(g(-O));for(var w=[],S=1,C=0;O>=S;C++)w[C]=O/S|0,S*=4294967296;return new f(w,0)}function E(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return P(E(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(w,8)),C=A,k=0;k<O.length;k+=8){var U=Math.min(8,O.length-k),D=parseInt(O.substring(k,k+U),w);8>U?(U=g(Math.pow(w,U)),C=C.j(U).add(g(D))):(C=C.j(S),C=C.add(g(D)))}return C}var A=p(0),R=p(1),N=p(16777216);r=f.prototype,r.m=function(){if($(this))return-P(this).m();for(var O=0,w=1,S=0;S<this.g.length;S++){var C=this.i(S);O+=(0<=C?C:4294967296+C)*w,w*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if($(this))return"-"+P(this).toString(O);for(var w=g(Math.pow(O,6)),S=this,C="";;){var k=et(S,w).g;S=q(S,k.j(w));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=k,M(S))return U+C;for(;6>U.length;)U="0"+U;C=U+C}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function $(O){return O.h==-1}r.l=function(O){return O=q(this,O),$(O)?-1:M(O)?0:1};function P(O){for(var w=O.g.length,S=[],C=0;C<w;C++)S[C]=~O.g[C];return new f(S,~O.h).add(R)}r.abs=function(){return $(this)?P(this):this},r.add=function(O){for(var w=Math.max(this.g.length,O.g.length),S=[],C=0,k=0;k<=w;k++){var U=C+(this.i(k)&65535)+(O.i(k)&65535),D=(U>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);C=D>>>16,U&=65535,D&=65535,S[k]=D<<16|U}return new f(S,S[S.length-1]&-2147483648?-1:0)};function q(O,w){return O.add(P(w))}r.j=function(O){if(M(this)||M(O))return A;if($(this))return $(O)?P(this).j(P(O)):P(P(this).j(O));if($(O))return P(this.j(P(O)));if(0>this.l(N)&&0>O.l(N))return g(this.m()*O.m());for(var w=this.g.length+O.g.length,S=[],C=0;C<2*w;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<O.g.length;k++){var U=this.i(C)>>>16,D=this.i(C)&65535,ne=O.i(k)>>>16,te=O.i(k)&65535;S[2*C+2*k]+=D*te,F(S,2*C+2*k),S[2*C+2*k+1]+=U*te,F(S,2*C+2*k+1),S[2*C+2*k+1]+=D*ne,F(S,2*C+2*k+1),S[2*C+2*k+2]+=U*ne,F(S,2*C+2*k+2)}for(C=0;C<w;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=w;C<2*w;C++)S[C]=0;return new f(S,0)};function F(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function G(O,w){this.g=O,this.h=w}function et(O,w){if(M(w))throw Error("division by zero");if(M(O))return new G(A,A);if($(O))return w=et(P(O),w),new G(P(w.g),P(w.h));if($(w))return w=et(O,P(w)),new G(P(w.g),w.h);if(30<O.g.length){if($(O)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var S=R,C=w;0>=C.l(O);)S=rt(S),C=rt(C);var k=ft(S,1),U=ft(C,1);for(C=ft(C,2),S=ft(S,2);!M(C);){var D=U.add(C);0>=D.l(O)&&(k=k.add(S),U=D),C=ft(C,1),S=ft(S,1)}return w=q(O,k.j(w)),new G(k,w)}for(k=A;0<=O.l(w);){for(S=Math.max(1,Math.floor(O.m()/w.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),U=g(S),D=U.j(w);$(D)||0<D.l(O);)S-=C,U=g(S),D=U.j(w);M(U)&&(U=R),k=k.add(U),O=q(O,D)}return new G(k,O)}r.A=function(O){return et(this,O).h},r.and=function(O){for(var w=Math.max(this.g.length,O.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)&O.i(C);return new f(S,this.h&O.h)},r.or=function(O){for(var w=Math.max(this.g.length,O.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)|O.i(C);return new f(S,this.h|O.h)},r.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)^O.i(C);return new f(S,this.h^O.h)};function rt(O){for(var w=O.g.length+1,S=[],C=0;C<w;C++)S[C]=O.i(C)<<1|O.i(C-1)>>>31;return new f(S,O.h)}function ft(O,w){var S=w>>5;w%=32;for(var C=O.g.length-S,k=[],U=0;U<C;U++)k[U]=0<w?O.i(U+S)>>>w|O.i(U+S+1)<<32-w:O.i(U+S);return new f(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,SE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Jr=f}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wE,kl,RE,Qc,Im,IE,CE,DE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in _))break t;_=_[B]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,B={next:function(){if(!b&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,R.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,B,Q){for(var at=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)at[Lt-2]=arguments[Lt];return y.prototype[B].apply(b,at)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function P(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const B=c.length||0,Q=b.length||0;c.length=B+Q;for(let at=0;at<Q;at++)c[B+at]=b[at]}else c.push(b)}}class q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function et(c){return et[" "](c),c}et[" "]=function(){};var rt=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ft(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,y){let _,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(_ in b)c[_]=b[_];for(let Q=0;Q<S.length;Q++)_=S[Q],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=bt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,_){const b=te.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var te=new q(()=>new st,c=>c.reset());class st{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,J=!1,bt=new ne,x=()=>{const c=m.Promise.resolve(void 0);gt=()=>{c.then(nt)}};var nt=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var y=te;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}J=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Dt(c,y){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(rt){t:{try{et(y.nodeName);var B=!0;break t}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:It[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}M(Dt,lt);var It={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function le(c,y,_,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=B,this.key=++Ht,this.da=this.fa=!1}function Kt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Je(c){this.src=c,this.g={},this.h=0}Je.prototype.add=function(c,y,_,b,B){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var at=Tn(c,y,b,B);return-1<at?(y=c[at],_||(y.fa=!1)):(y=new le(y,this.src,Q,!!b,B),y.fa=_,c.push(y)),y};function Ai(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],B=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(b,B,1),Q&&(Kt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Tn(c,y,_,b){for(var B=0;B<c.length;++B){var Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==b)return B}return-1}var lr="closure_lm_"+(1e6*Math.random()|0),ur={};function Si(c,y,_,b,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Si(c,y[Q],_,b,B);return null}return _=mu(_),c&&c[ge]?c.K(y,_,g(b)?!!b.capture:!1,B):To(c,y,_,!1,b,B)}function To(c,y,_,b,B,Q){if(!y)throw Error("Invalid event type");var at=g(B)?!!B.capture:!!B,Lt=bo(c);if(Lt||(c[lr]=Lt=new Je(c)),_=Lt.add(y,_,b,at,Q),_.proxy)return _;if(b=la(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ut||(B=at),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(ca(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function la(){function c(_){return y.call(c.src,c.listener,_)}const y=ef;return c}function ua(c,y,_,b,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ua(c,y[Q],_,b,B);else b=g(b)?!!b.capture:!!b,_=mu(_),c&&c[ge]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=Tn(Q,_,b,B),-1<_&&(Kt(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=bo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Tn(y,_,b,B)),(_=-1<c?y[c]:null)&&ds(_))}function ds(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ge])Ai(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(ca(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=bo(y))?(Ai(_,c),_.h==0&&(_.src=null,y[lr]=null)):Kt(c)}}}function ca(c){return c in ur?ur[c]:ur[c]="on"+c}function ef(c,y){if(c.da)c=!0;else{y=new Dt(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&ds(c),c=_.call(b,y)}return c}function bo(c){return c=c[lr],c instanceof Je?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function mu(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function Te(){ht.call(this),this.i=new Je(this),this.M=this,this.F=null}M(Te,ht),Te.prototype[ge]=!0,Te.prototype.removeEventListener=function(c,y,_,b){ua(this,c,y,_,b)};function Oe(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new lt(y,c);else if(y instanceof lt)y.target=y.target||c;else{var B=y;y=new lt(b,c),C(y,B)}if(B=!0,_)for(var Q=_.length-1;0<=Q;Q--){var at=y.g=_[Q];B=wi(at,b,!0,y)&&B}if(at=y.g=c,B=wi(at,b,!0,y)&&B,B=wi(at,b,!1,y)&&B,_)for(Q=0;Q<_.length;Q++)at=y.g=_[Q],B=wi(at,b,!1,y)&&B}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)Kt(_[b]);delete c.g[y],c.h--}}this.F=null},Te.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},Te.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function wi(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var at=y[Q];if(at&&!at.da&&at.capture==_){var Lt=at.listener,Ae=at.ha||at.src;at.fa&&Ai(c.i,at),B=Lt.call(Ae,b)!==!1&&B}}return B&&!b.defaultPrevented}function pu(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ao(c){c.g=pu(()=>{c.g=null,c.i&&(c.i=!1,Ao(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nf extends ht{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ao(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){ht.call(this),this.h=c,this.g={}}M(ms,ht);var cr=[];function $e(c){ft(c.g,function(y,_){this.g.hasOwnProperty(_)&&ds(y)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),$e(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var So=m.JSON.stringify,Yn=m.JSON.parse,tn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function wo(){}wo.prototype.h=null;function gu(c){return c.h||(c.h=c.i())}function yu(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){lt.call(this,"d")}M(hr,lt);function zn(){lt.call(this,"c")}M(zn,lt);var bn={},fr=null;function ha(){return fr=fr||new Te}bn.La="serverreachability";function Ro(c){lt.call(this,bn.La,c)}M(Ro,lt);function dr(c){const y=ha();Oe(y,new Ro(y))}bn.STAT_EVENT="statevent";function fa(c,y){lt.call(this,bn.STAT_EVENT,c),this.stat=y}M(fa,lt);function de(c){const y=ha();Oe(y,new fa(y,c))}bn.Ma="timingevent";function _u(c,y){lt.call(this,bn.Ma,c),this.size=y}M(_u,lt);function mr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function vu(c,y,_,b,B,Q){c.info(function(){if(c.g)if(Q)for(var at="",Lt=Q.split("&"),Ae=0;Ae<Lt.length;Ae++){var Ut=Lt[Ae].split("=");if(1<Ut.length){var ke=Ut[0];Ut=Ut[1];var Se=ke.split("_");at=2<=Se.length&&Se[1]=="type"?at+(ke+"="+Ut+"&"):at+(ke+"=redacted&")}}else at=null;else at=Q;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+_+`
`+at})}function Eu(c,y,_,b,B,Q,at){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+_+`
`+Q+" "+at})}function gr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ne(c,_)+(b?" "+b:"")})}function Wn(c,y){c.info(function(){return"TIMEOUT: "+y})}pr.prototype.info=function(){};function Ne(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var at=1;at<B.length;at++)B[at]=""}}}}return So(_)}catch{return y}}var be={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ps;function da(){}M(da,wo),da.prototype.g=function(){return new XMLHttpRequest},da.prototype.i=function(){return{}},ps=new da;function Zn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Io}function Io(){this.i=null,this.g="",this.h=!1}var yr={},gs={};function Bn(c,y,_){c.L=1,c.v=vs(ue(y)),c.m=_,c.P=!0,Ii(c,null)}function Ii(c,y){c.F=Date.now(),ie(c),c.A=ue(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Oi(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Io,c.g=Mu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new nf(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(cr[0]=B.toString()),B=cr);for(var Q=0;Q<B.length;Q++){var at=Si(_,B[Q],b||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),dr(),vu(c.i,c.u,c.A,c.l,c.R,c.m)}Zn.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)t:{const Se=In(this.g);var y=this.g.Ba();const Mi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||Se!=4||y==7||(y==8||0>=Mi?dr(3):dr(2)),ma(this);var _=this.g.Z();this.X=_;e:if(_r(this)){var b=Ru(this.g);c="";var B=b.length,Q=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),fn(this);var at="";break e}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Q&&y==B-1)});b.length=0,this.h.g+=c,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Eu(this.i,this.u,this.A,this.l,this.R,Se,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ae=this.g;if((Lt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Lt)){var Ut=Lt;break e}}Ut=null}if(_=Ut)gr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dn(this,_);else{this.o=!1,this.s=3,de(12),ln(this),fn(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<at.length;)if(ze=vr(this,at),ze==gs){Se==4&&(this.s=4,de(14),_=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==yr){this.s=4,de(15),gr(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else gr(this.i,this.l,ze,null),dn(this,ze);if(_r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||at.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)gr(this.i,this.l,at,"[Invalid Chunked Response]"),ln(this),fn(this);else if(0<at.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Rs(ke),ke.M=!0,de(11))}}else gr(this.i,this.l,at,null),dn(this,at);Se==4&&ln(this),this.o&&!this.J&&(Se==4?Nu(this.j,this):(this.o=!1,ie(this)))}else uf(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),ln(this),fn(this)}}}catch{}finally{}};function _r(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vr(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?gs:(_=Number(y.substring(_,b)),isNaN(_)?yr:(b+=1,b+_>y.length?gs:(y=y.slice(b,b+_),c.C=b+_,y)))}Zn.prototype.cancel=function(){this.J=!0,ln(this)};function ie(c){c.S=Date.now()+c.I,Co(c,c.I)}function Co(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mr(R(c.ba,c),y)}function ma(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wn(this.i,this.A),this.L!=2&&(dr(),de(17)),ln(this),this.s=2,fn(this)):Co(this,this.S-c)};function fn(c){c.j.G==0||c.J||Nu(c.j,c)}function ln(c){ma(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,$e(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function dn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Er(_.h,c))){if(!c.K&&Er(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Sa(_),ba(_);else break t;zo(_),de(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=mr(R(_.Za,_),6e3));if(1>=Tu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ki(_,11)}else if((c.K||_.g==c)&&Sa(_),!F(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Ut=B[y];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const ke=Ut[3];ke!=null&&(_.la=ke,_.j.info("VER="+_.la));const Se=Ut[4];Se!=null&&(_.Aa=Se,_.j.info("SVER="+_.Aa));const Mi=Ut[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(b=1.5*Mi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const ze=c.g;if(ze){const si=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var Q=b.h;Q.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Tr(Q,Q.h),Q.h=null))}if(b.D){const Ho=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(b.ya=Ho,jt(b.I,b.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var at=c;if(b.qa=ku(b,b.J?b.ia:null,b.W),at.K){An(b.h,at);var Lt=at,Ae=b.L;Ae&&(Lt.I=Ae),Lt.B&&(ma(Lt),ie(Lt)),b.g=at}else Du(b);0<_.i.length&&Aa(_)}else Ut[0]!="stop"&&Ut[0]!="close"||ki(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?ki(_,7):Lo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}dr(4)}catch{}}var rf=class{constructor(c,y){this.g=c,this.map=y}};function Do(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tu(c){return c.h?1:c.g?c.g.size:0}function Er(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Tr(c,y){c.g?c.g.add(y):c.h=y}function An(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Do.prototype.cancel=function(){if(this.i=en(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function en(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function bu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function sf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function ys(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=sf(c),b=bu(c),B=b.length,Q=0;Q<B;Q++)y.call(void 0,b[Q],_&&_[Q],c)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),B=null;if(0<=b){var Q=c[_].substring(0,b);B=c[_].substring(b+1)}else Q=c[_];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ci){this.h=c.h,br(this,c.j),this.o=c.o,this.g=c.g,_s(this,c.s),this.l=c.l;var y=c.i,_=new Jn;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ga(this,_),this.m=c.m}else c&&(y=String(c).match(No))?(this.h=!1,br(this,y[1]||"",!0),this.o=Ar(y[2]||""),this.g=Ar(y[3]||"",!0),_s(this,y[4]),this.l=Ar(y[5]||"",!0),ga(this,y[6]||"",!0),this.m=Ar(y[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}Ci.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Sn(y,xo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Sn(y,xo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Sn(_,_.charAt(0)=="/"?ko:Au,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Sn(_,lf)),c.join("")};function ue(c){return new Ci(c)}function br(c,y,_){c.j=_?Ar(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _s(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ga(c,y,_){y instanceof Jn?(c.i=y,Mo(c.i,c.h)):(_||(y=Sn(y,of)),c.i=new Jn(y,c.h))}function jt(c,y,_){c.i.set(y,_)}function vs(c){return jt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ar(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,af),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function af(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xo=/[#\/\?@]/g,Au=/[#\?:]/g,ko=/[#\?]/g,of=/[#\?@]/g,lf=/#/g;function Jn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Jn.prototype,r.add=function(c,y){wn(this),this.i=null,c=Ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ya(c,y){wn(c),y=Ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return wn(c),y=Ni(c,y),c.g.has(y)}r.forEach=function(c,y){wn(this),this.g.forEach(function(_,b){_.forEach(function(B){c.call(y,B,b,this)},this)},this)},r.na=function(){wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const B=c[b];for(let Q=0;Q<B.length;Q++)_.push(y[b])}return _},r.V=function(c){wn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return wn(this),this.i=null,c=Ni(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Oi(c,y,_){ya(c,y),0<_.length&&(c.i=null,c.g.set(Ni(c,y),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const Q=encodeURIComponent(String(b)),at=this.V(b);for(b=0;b<at.length;b++){var B=Q;at[b]!==""&&(B+="="+encodeURIComponent(String(at[b]))),c.push(B)}}return this.i=c.join("&")};function Ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Mo(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,b){var B=b.toLowerCase();b!=B&&(ya(this,b),Oi(this,B,_))},c)),c.j=y}function Su(c,y){const _=new pr;if(m.Image){const b=new Image;b.onload=N(Rn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=N(Rn,_,"TestLoadImage: error",!1,y,b),b.onabort=N(Rn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=N(Rn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Es(c,y){const _=new pr,b=new AbortController,B=setTimeout(()=>{b.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(B),Q.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(_)}catch{}}function Ts(){this.g=new tn}function ti(c,y,_){const b=_||"";try{ys(c,function(B,Q){let at=B;g(B)&&(at=So(B)),y.push(b+Q+"="+encodeURIComponent(at))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function Sr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Sr,wo),Sr.prototype.g=function(){return new xi(this.l,this.j)},Sr.prototype.i=function(c){return function(){return c}}({});function xi(c,y){Te.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(xi,Te),r=xi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ei(this):ni(this),this.readyState==3&&Vo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ei(this))},r.Qa=function(c){this.g&&(this.response=c,ei(this))},r.ga=function(){this.g&&ei(this)};function ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ni(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Po(c){let y="";return ft(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function xe(c,y,_){t:{for(b in _){var b=!1;break t}b=!0}b||(_=Po(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):jt(c,y,_))}function Gt(c){Te.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Gt,Te);var _a=/^https?$/i,bs=["POST","PUT"];r=Gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ps.g(),this.v=this.o?gu(this.o):gu(ps),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){wu(this,Q);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)_.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())_.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,y,void 0))||b||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,at]of _)this.g.setRequestHeader(Q,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){wu(this,Q)}};function wu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,va(c),ii(c)}function va(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Oe(this,"complete"),Oe(this,"abort"),ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),Gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},r.bb=function(){Ea(this)};function Ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)pu(c.Ea,0,c);else if(Oe(c,"readystatechange"),In(c)==4){c.h=!1;try{const at=c.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var b;if(b=at===0){var B=String(c.D).match(No)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),b=!_a.test(B?B.toLowerCase():"")}_=b}if(_)Oe(c,"complete"),Oe(c,"success");else{c.m=6;try{var Q=2<In(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",va(c)}}finally{ii(c)}}}}function ii(c,y){if(c.g){As(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Oe(c,"ready");try{_.onreadystatechange=b}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Yn(y)}};function Ru(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(F(c[b]))continue;var _=k(c[b]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[B]||[];y[B]=Q,Q.push(_)}O(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ta(c){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Do(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ta.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){de(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=ku(this,null,this.W),Aa(this)};function Lo(c){if(Iu(c),c.G==3){var y=c.U++,_=ue(c.I);if(jt(_,"SID",c.K),jt(_,"RID",y),jt(_,"TYPE","terminate"),ws(c,_),y=new Zn(c,c.j,y),y.L=2,y.v=vs(ue(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Mu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ie(y)}xu(c)}function ba(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function Iu(c){ba(c),c.u&&(m.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Aa(c){if(!Oo(c.h)&&!c.s){c.s=!0;var y=c.Ga;gt||x(),J||(gt(),J=!0),bt.add(y,c),c.B=0}}function cf(c,y){return Tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mr(R(c.Ga,c,y),Bo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Zn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),C(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Cu(this,B,y),_=ue(this.I),jt(_,"RID",c),jt(_,"CVER",22),this.D&&jt(_,"X-HTTP-Session-Id",this.D),ws(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Po(Q)))+"&"+y:this.m&&xe(_,this.m,Q)),Tr(this.h,B),this.Ua&&jt(_,"TYPE","init"),this.P?(jt(_,"$req",y),jt(_,"SID","null"),B.T=!0,Bn(B,_,null)):Bn(B,_,y),this.G=2}}else this.G==3&&(c?Uo(this,c):this.i.length==0||Oo(this.h)||Uo(this))};function Uo(c,y){var _;y?_=y.l:_=c.U++;const b=ue(c.I);jt(b,"SID",c.K),jt(b,"RID",_),jt(b,"AID",c.T),ws(c,b),c.m&&c.o&&xe(b,c.m,c.o),_=new Zn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Cu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Tr(c.h,_),Bn(_,b,y)}function ws(c,y){c.H&&ft(c.H,function(_,b){jt(y,b,_)}),c.l&&ys({},function(_,b){jt(y,b,_)})}function Cu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?R(c.l.Na,c.l,c):null;t:{var B=c.i;let Q=-1;for(;;){const at=["count="+_];Q==-1?0<_?(Q=B[0].g,at.push("ofs="+Q)):Q=0:at.push("ofs="+Q);let Lt=!0;for(let Ae=0;Ae<_;Ae++){let Ut=B[Ae].g;const ke=B[Ae].map;if(Ut-=Q,0>Ut)Q=Math.max(0,B[Ae].g-100),Lt=!1;else try{ti(ke,at,"req"+Ut+"_")}catch{b&&b(ke)}}if(Lt){b=at.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,b}function Du(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;gt||x(),J||(gt(),J=!0),bt.add(y,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mr(R(c.Fa,c),Bo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),ba(this),Ou(this))};function Rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ue(c.qa);jt(y,"RID","rpc"),jt(y,"SID",c.K),jt(y,"AID",c.T),jt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&jt(y,"TO",c.ja),jt(y,"TYPE","xmlhttp"),ws(c,y),c.m&&c.o&&xe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vs(ue(y)),_.m=null,_.P=!0,Ii(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ba(this),zo(this),de(19))};function Sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Nu(c,y){var _=null;if(c.g==y){Sa(c),Rs(c),c.g=null;var b=2}else if(Er(c.h,y))_=y.D,An(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;b=ha(),Oe(b,new _u(b,_)),Aa(c)}else Du(c);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&cf(c,y)||b==2&&zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function Bo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function ki(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),b=c.Xa;const B=!b;b=new Ci(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||br(b,"https"),vs(b),B?Su(b.toString(),_):Es(b.toString(),_)}else de(2);c.G=0,c.l&&c.l.sa(y),xu(c),Iu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function xu(c){if(c.G=0,c.ka=[],c.l){const y=en(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function ku(c,y,_){var b=_ instanceof Ci?ue(_):new Ci(_);if(b.g!="")y&&(b.g=y+"."+b.g),_s(b,b.s);else{var B=m.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new Ci(null);b&&br(Q,b),y&&(Q.g=y),B&&_s(Q,B),_&&(Q.l=_),b=Q}return _=c.D,y=c.ya,_&&y&&jt(b,_,y),jt(b,"VER",c.la),ws(c,b),b}function Mu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Gt(new Sr({eb:_})):new Gt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function wa(){}wa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){Te.call(this),this.g=new Ta(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!F(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!F(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ri(this)}M(nn,Te),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Lo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=So(c),c=_);y.i.push(new rf(y.Ya++,c)),y.G==3&&Aa(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,nn.aa.N.call(this)};function Pu(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Pu,hr);function Lu(){zn.call(this),this.status=1}M(Lu,zn);function ri(c){this.g=c}M(ri,Vu),ri.prototype.ua=function(){Oe(this.g,"a")},ri.prototype.ta=function(c){Oe(this.g,new Pu(c))},ri.prototype.sa=function(c){Oe(this.g,new Lu)},ri.prototype.ra=function(){Oe(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,DE=function(){return new wa},CE=function(){return ha()},IE=bn,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},be.NO_ERROR=0,be.TIMEOUT=8,be.HTTP_ERROR=6,Qc=be,Ri.COMPLETE="complete",RE=Ri,yu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Te.prototype.listen=Te.prototype.K,kl=yu,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,wE=Gt}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore",Iv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new sp("@firebase/firestore");function Za(){return Xs.logLevel}function ct(r,...t){if(Xs.logLevel<=Mt.DEBUG){const n=t.map(lp);Xs.debug(`Firestore (${go}): ${r}`,...n)}}function ir(r,...t){if(Xs.logLevel<=Mt.ERROR){const n=t.map(lp);Xs.error(`Firestore (${go}): ${r}`,...n)}}function oo(r,...t){if(Xs.logLevel<=Mt.WARN){const n=t.map(lp);Xs.warn(`Firestore (${go}): ${r}`,...n)}}function lp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r="Unexpected state"){const t=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+r;throw ir(t),new Error(t)}function $t(r,t){r||Tt()}function Rt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Ti{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class R1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class I1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class C1{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string"),new OE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new Xe(t)}}class D1{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class O1{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new D1(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N1{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0);const s=u=>{u.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ct("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Cv(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new Cv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=x1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function Cm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Nt(s,o);{const u=NE(),f=k1(u.encode(Dv(r,n)),u.encode(Dv(t,n)));return f!==0?f:Nt(s,o)}}n+=s>65535?2:1}return Nt(r.length,t.length)}function Dv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function k1(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Nt(r[n],t[n]);return Nt(r.length,t.length)}function lo(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=-62135596800,Nv=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Nv);return new Ce(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new yt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Ov)throw new yt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Ov;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Ce(0,0))}static max(){return new At(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="__name__";class hi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(),s===void 0?s=t.length-n:s>t.length-n&&Tt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return hi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof hi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=hi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Nt(t.length,n.length)}static compareSegments(t,n){const s=hi.isNumericId(t),o=hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(t).compare(hi.extractNumericId(n)):Cm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jr.fromString(t.substring(4,t.length-2))}}class ee extends hi{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const M1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends hi{construct(t,n,s){return new Fe(t,n,s)}static isValidIdentifier(t){return M1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new Fe([xv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new yt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new yt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new yt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(n)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ee.fromString(t))}static fromName(t){return new _t(ee.fromString(t).popFirst(5))}static empty(){return new _t(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function V1(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new Ce(n+1,0):new Ce(n,s));return new is(o,_t.empty(),t)}function P1(r){return new is(r.readTime,r.key,ql)}class is{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new is(At.min(),_t.empty(),ql)}static max(){return new is(At.max(),_t.empty(),ql)}}function L1(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(r.documentKey,t.documentKey),n!==0?n:Nt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(r){if(r.code!==it.FAILED_PRECONDITION||r.message!==U1)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.reject(n)}static resolve(t){return new Z((n,s)=>{n(t)})}static reject(t){return new Z((n,s)=>{s(t)})}static waitFor(t){return new Z((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new Z((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new Z((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function B1(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}xh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=-1;function kh(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function H1(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="";function j1(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=kv(t)),t=q1(r.get(n),t);return kv(t)}function q1(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case kE:n+="";break;default:n+=u}}return n}function kv(r){return r+kE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function us(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function ME(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){this.comparator=t,this.root=n||qe.EMPTY}insert(t,n){return new oe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lc(this.root,t,this.comparator,!0)}}class Lc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??qe.RED,this.left=o??qe.EMPTY,this.right=u??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new qe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const t=this.left.check();if(t!==this.right.check())throw Tt();return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(t,n,s,o,u){return this}insert(t,n,s){return new qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vv(this.data.getIterator())}getIteratorFrom(t){return new Vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class Vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new En([])}unionWith(t){let n=new De(Fe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new En(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new VE("Invalid base64 string: "+u):u}}(t);return new Ge(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Ge(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const F1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if($t(!!r),typeof r=="string"){let t=0;const n=F1.exec(r);if($t(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="server_timestamp",LE="__type__",UE="__previous_value__",zE="__local_write_time__";function cp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[LE])===null||n===void 0?void 0:n.stringValue)===PE}function Mh(r){const t=r.mapValue.fields[UE];return cp(t)?Mh(t):t}function Fl(r){const t=rs(r.mapValue.fields[zE].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t,n,s,o,u,f,m,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const lh="(default)";class Gl{constructor(t,n){this.projectId=t,this.database=n||lh}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof Gl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="__type__",$1="__max__",Uc={mapValue:{}},HE="__vector__",uh="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cp(r)?4:Q1(r)?9007199254740991:K1(r)?10:11:Tt()}function yi(r,t){if(r===t)return!0;const n=as(r);if(n!==as(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Fl(r).isEqual(Fl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=rs(o.timestampValue),m=rs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return ss(o.bytesValue).isEqual(ss(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return pe(o.geoPointValue.latitude)===pe(u.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pe(o.integerValue)===pe(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pe(o.doubleValue),m=pe(u.doubleValue);return f===m?oh(f)===oh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return lo(r.arrayValue.values||[],t.arrayValue.values||[],yi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Mv(f)!==Mv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!yi(f[p],m[p])))return!1;return!0}(r,t);default:return Tt()}}function $l(r,t){return(r.values||[]).find(n=>yi(n,t))!==void 0}function uo(r,t){if(r===t)return 0;const n=as(r),s=as(t);if(n!==s)return Nt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=pe(u.integerValue||u.doubleValue),p=pe(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return Pv(r.timestampValue,t.timestampValue);case 4:return Pv(Fl(r),Fl(t));case 5:return Cm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=ss(u),p=ss(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Nt(m[g],p[g]);if(E!==0)return E}return Nt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Nt(pe(u.latitude),pe(f.latitude));return m!==0?m:Nt(pe(u.longitude),pe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Lv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},R=f.fields||{},N=(m=A[uh])===null||m===void 0?void 0:m.arrayValue,M=(p=R[uh])===null||p===void 0?void 0:p.arrayValue,$=Nt(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:Lv(N,M)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const R=Cm(p[A],E[A]);if(R!==0)return R;const N=uo(m[p[A]],g[E[A]]);if(N!==0)return N}return Nt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Tt()}}function Pv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const n=rs(r),s=rs(t),o=Nt(n.seconds,s.seconds);return o!==0?o:Nt(n.nanos,s.nanos)}function Lv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=uo(n[o],s[o]);if(u)return u}return Nt(n.length,s.length)}function co(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ss(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return _t.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"}(r.mapValue):Tt()}function Yc(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Mh(r);return t?16+Yc(t):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Yc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return us(s.fields,(u,f)=>{o+=u.length+Yc(f)}),o}(r.mapValue);default:throw Tt()}}function Om(r){return!!r&&"integerValue"in r}function hp(r){return!!r&&"arrayValue"in r}function Uv(r){return!!r&&"nullValue"in r}function zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xc(r){return!!r&&"mapValue"in r}function K1(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[BE])===null||n===void 0?void 0:n.stringValue)===HE}function Pl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return us(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Pl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function Q1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Xc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pl(n)}setAll(t){let n=Fe.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Pl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return yi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){us(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new hn(Pl(this.value))}}function jE(r){const t=[];return us(r.fields,(n,s)=>{const o=new Fe([n]);if(Xc(s)){const u=jE(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new En(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,At.min(),At.min(),At.min(),hn.empty(),0)}static newFoundDocument(t,n,s,o){return new We(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new We(t,2,n,At.min(),At.min(),hn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,At.min(),At.min(),hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n){this.position=t,this.inclusive=n}}function Bv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(f.referenceValue),n.key):s=uo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!yi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n="asc"){this.field=t,this.dir=n}}function Y1(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{}class Ie extends qE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new W1(t,n,s):n==="array-contains"?new tI(t,s):n==="in"?new eI(t,s):n==="not-in"?new nI(t,s):n==="array-contains-any"?new iI(t,s):new Ie(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Z1(t,s):new J1(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends qE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new _i(t,n)}matches(t){return FE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function FE(r){return r.op==="and"}function GE(r){return X1(r)&&FE(r)}function X1(r){for(const t of r.filters)if(t instanceof _i)return!1;return!0}function Nm(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+co(r.value);if(GE(r))return r.filters.map(t=>Nm(t)).join(",");{const t=r.filters.map(n=>Nm(n)).join(",");return`${r.op}(${t})`}}function $E(r,t){return r instanceof Ie?function(s,o){return o instanceof Ie&&s.op===o.op&&s.field.isEqual(o.field)&&yi(s.value,o.value)}(r,t):r instanceof _i?function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&$E(f,o.filters[m]),!0):!1}(r,t):void Tt()}function KE(r){return r instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(r):r instanceof _i?function(n){return n.op.toString()+" {"+n.getFilters().map(KE).join(" ,")+"}"}(r):"Filter"}class W1 extends Ie{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class Z1 extends Ie{constructor(t,n){super(t,"in",n),this.keys=QE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class J1 extends Ie{constructor(t,n){super(t,"not-in",n),this.keys=QE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function QE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_t.fromName(s.referenceValue))}class tI extends Ie{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return hp(n)&&$l(n.arrayValue,this.value)}}class eI extends Ie{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class nI extends Ie{constructor(t,n){super(t,"not-in",n)}matches(t){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!$l(this.value.arrayValue,n)}}class iI extends Ie{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>$l(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function jv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new rI(r,t,n,s,o,u,f)}function fp(r){const t=Rt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Nm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),kh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>co(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>co(s)).join(",")),t.le=n}return t.le}function dp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Y1(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!$E(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Hv(r.startAt,t.startAt)&&Hv(r.endAt,t.endAt)}function xm(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function sI(r,t,n,s,o,u,f,m){return new Vh(r,t,n,s,o,u,f,m)}function YE(r){return new Vh(r)}function qv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aI(r){return r.collectionGroup!==null}function Ll(r){const t=Rt(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new De(Fe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new hh(u,s))}),n.has(Fe.keyField().canonicalString())||t.he.push(new hh(Fe.keyField(),s))}return t.he}function di(r){const t=Rt(r);return t.Pe||(t.Pe=oI(t,Ll(r))),t.Pe}function oI(r,t){if(r.limitType==="F")return jv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hh(o.field,u)});const n=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return jv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function km(r,t,n){return new Vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ph(r,t){return dp(di(r),di(t))&&r.limitType===t.limitType}function XE(r){return`${fp(di(r))}|lt:${r.limitType}`}function Ja(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>KE(o)).join(", ")}]`),kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>co(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>co(o)).join(",")),`Target(${s})`}(di(r))}; limitType=${r.limitType})`}function Lh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Ll(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=Bv(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ll(s),o)||s.endAt&&!function(f,m,p){const g=Bv(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ll(s),o))}(r,t)}function lI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function WE(r){return(t,n)=>{let s=!1;for(const o of Ll(r)){const u=uI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function uI(r,t,n){const s=r.field.isKeyField()?_t.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?uo(p,g):Tt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){us(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new oe(_t.comparator);function rr(){return cI}const ZE=new oe(_t.comparator);function Ml(...r){let t=ZE;for(const n of r)t=t.insert(n.key,n);return t}function JE(r){let t=ZE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function $s(){return Ul()}function tT(){return Ul()}function Ul(){return new sa(r=>r.toString(),(r,t)=>r.isEqual(t))}const hI=new oe(_t.comparator),fI=new De(_t.comparator);function Vt(...r){let t=fI;for(const n of r)t=t.add(n);return t}const dI=new De(Nt);function mI(){return dI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(t)?"-0":t}}function eT(r){return{integerValue:""+r}}function pI(r,t){return H1(t)?eT(t):mp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function gI(r,t,n){return r instanceof fh?function(o,u){const f={fields:{[LE]:{stringValue:PE},[zE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cp(u)&&(u=Mh(u)),u&&(f.fields[UE]=u),{mapValue:f}}(n,t):r instanceof Kl?iT(r,t):r instanceof Ql?rT(r,t):function(o,u){const f=nT(o,u),m=Fv(f)+Fv(o.Ie);return Om(f)&&Om(o.Ie)?eT(m):mp(o.serializer,m)}(r,t)}function yI(r,t,n){return r instanceof Kl?iT(r,t):r instanceof Ql?rT(r,t):n}function nT(r,t){return r instanceof dh?function(s){return Om(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class fh extends Uh{}class Kl extends Uh{constructor(t){super(),this.elements=t}}function iT(r,t){const n=sT(t);for(const s of r.elements)n.some(o=>yi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ql extends Uh{constructor(t){super(),this.elements=t}}function rT(r,t){let n=sT(t);for(const s of r.elements)n=n.filter(o=>!yi(o,s));return{arrayValue:{values:n}}}class dh extends Uh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function Fv(r){return pe(r.integerValue||r.doubleValue)}function sT(r){return hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _I(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Kl&&o instanceof Kl||s instanceof Ql&&o instanceof Ql?lo(s.elements,o.elements,yi):s instanceof dh&&o instanceof dh?yi(s.Ie,o.Ie):s instanceof fh&&o instanceof fh}(r.transform,t.transform)}class vI{constructor(t,n){this.version=t,this.transformResults=n}}class $n{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new $n}static exists(t){return new $n(void 0,t)}static updateTime(t){return new $n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class zh{}function aT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new pp(r.key,$n.none()):new iu(r.key,r.data,$n.none());{const n=r.data,s=hn.empty();let o=new De(Fe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new cs(r.key,s,new En(o.toArray()),$n.none())}}function EI(r,t,n){r instanceof iu?function(o,u,f){const m=o.value.clone(),p=$v(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof cs?function(o,u,f){if(!Wc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=$v(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(oT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function zl(r,t,n,s){return r instanceof iu?function(u,f,m,p){if(!Wc(u.precondition,f))return m;const g=u.value.clone(),E=Kv(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof cs?function(u,f,m,p){if(!Wc(u.precondition,f))return m;const g=Kv(u.fieldTransforms,p,f),E=f.data;return E.setAll(oT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,t,n,s):function(u,f,m){return Wc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function TI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=nT(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function Gv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&lo(s,o,(u,f)=>_I(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class iu extends zh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cs extends zh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function oT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function $v(r,t,n){const s=new Map;$t(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,yI(f,m,n[o]))}return s}function Kv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,gI(u,f,t))}return s}class pp extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bI extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&EI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=zl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=zl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=tT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=aT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,(n,s)=>Gv(n,s))&&lo(this.baseMutations,t.baseMutations,(n,s)=>Gv(n,s))}}class gp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length);let o=function(){return hI}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new gp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Bt;function RI(r){switch(r){case it.OK:return Tt();case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Tt()}}function lT(r){if(r===void 0)return ir("GRPC error has no .code"),it.UNKNOWN;switch(r){case Ee.OK:return it.OK;case Ee.CANCELLED:return it.CANCELLED;case Ee.UNKNOWN:return it.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return it.INTERNAL;case Ee.UNAVAILABLE:return it.UNAVAILABLE;case Ee.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ee.NOT_FOUND:return it.NOT_FOUND;case Ee.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ee.ABORTED:return it.ABORTED;case Ee.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ee.DATA_LOSS:return it.DATA_LOSS;default:return Tt()}}(Bt=Ee||(Ee={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new Jr([4294967295,4294967295],0);function Qv(r){const t=NE().encode(r),n=new SE;return n.update(t),new Uint8Array(n.digest())}function Yv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Jr([n,s],0),new Jr([o,u],0)]}class yp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(s<0)throw new Vl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Jr.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(Jr.fromNumber(s)));return o.compare(II)===1&&(o=new Jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Qv(t),[s,o]=Yv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new yp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=Qv(t),[s,o]=Yv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,ru.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Bh(At.min(),o,new oe(Nt),rr(),Vt())}}class ru{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new ru(s,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class uT{constructor(t,n){this.targetId=t,this.ge=n}}class cT{constructor(t,n,s=Ge.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Xv{constructor(){this.pe=0,this.ye=Wv(),this.we=Ge.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Vt(),n=Vt(),s=Vt();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt()}}),new ru(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=Wv()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class CI{constructor(t){this.ke=t,this.qe=new Map,this.Qe=rr(),this.$e=zc(),this.Ue=zc(),this.Ke=new oe(Nt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:Tt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(xm(u))if(s===0){const f=new _t(u.path);this.ze(n,f,We.newNoDocument(f,At.min()))}else $t(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ss(s).toUint8Array()}catch(p){if(p instanceof VE)return oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yp(f,o,u)}catch(p){return oo(p instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&xm(m.target)){const p=new _t(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,We.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Vt();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new Bh(t,n,this.Ke,this.Qe,s);return this.Qe=rr(),this.$e=zc(),this.Ue=zc(),this.Ke=new oe(Nt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Xv,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new De(Nt),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new De(Nt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ct("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Xv),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function zc(){return new oe(_t.comparator)}function Wv(){return new oe(_t.comparator)}const DI={asc:"ASCENDING",desc:"DESCENDING"},OI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NI={and:"AND",or:"OR"};class xI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Mm(r,t){return r.useProto3Json||kh(t)?t:{value:t}}function mh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kI(r,t){return mh(r,t.toTimestamp())}function mi(r){return $t(!!r),At.fromTimestamp(function(n){const s=rs(n);return new Ce(s.seconds,s.nanos)}(r))}function _p(r,t){return Vm(r,t).canonicalString()}function Vm(r,t){const n=function(o){return new ee(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function fT(r){const t=ee.fromString(r);return $t(yT(t)),t}function Pm(r,t){return _p(r.databaseId,t.path)}function dm(r,t){const n=fT(t);if(n.get(1)!==r.databaseId.projectId)throw new yt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new yt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _t(mT(n))}function dT(r,t){return _p(r.databaseId,t)}function MI(r){const t=fT(r);return t.length===4?ee.emptyPath():mT(t)}function Lm(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mT(r){return $t(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Zv(r,t,n){return{name:Pm(r,t),fields:n.value.mapValue.fields}}function VI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($t(E===void 0||typeof E=="string"),Ge.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ge.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?it.UNKNOWN:lT(g.code);return new yt(E,g.message||"")}(f);n=new cT(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=dm(r,s.document.name),u=mi(s.document.updateTime),f=s.document.createTime?mi(s.document.createTime):At.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=We.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Zc(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=dm(r,s.document),u=s.readTime?mi(s.readTime):At.min(),f=We.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Zc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=dm(r,s.document),u=s.removedTargetIds||[];n=new Zc([],u,o,null)}else{if(!("filter"in t))return Tt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new wI(o,u),m=s.targetId;n=new uT(m,f)}}return n}function PI(r,t){let n;if(t instanceof iu)n={update:Zv(r,t.key,t.value)};else if(t instanceof pp)n={delete:Pm(r,t.key)};else if(t instanceof cs)n={update:Zv(r,t.key,t.data),updateMask:GI(t.fieldMask)};else{if(!(t instanceof bI))return Tt();n={verify:Pm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof fh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof dh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Tt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:kI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt()}(r,t.precondition)),n}function LI(r,t){return r&&r.length>0?($t(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(At.min())&&(f=mi(u)),new vI(f,o.transformResults||[])}(n,t))):[]}function UI(r,t){return{documents:[dT(r,t.path)]}}function zI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dT(r,o);const u=function(g){if(g.length!==0)return gT(_i.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:to(R.field),direction:jI(R.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Mm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:n,parent:o}}function BI(r){let t=MI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(A){const R=pT(A);return R instanceof _i&&GE(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(R=>function(M){return new hh(eo(M.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,kh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(A){const R=!!A.before,N=A.values||[];return new ch(N,R)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const R=!A.before,N=A.values||[];return new ch(N,R)}(n.endAt)),sI(t,o,f,u,m,"F",p,g)}function HI(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function pT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return Ie.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return Ie.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return Ie.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}}(r):r.fieldFilter!==void 0?function(n){return Ie.create(eo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return _i.create(n.compositeFilter.filters.map(s=>pT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt()}}(n.compositeFilter.op))}(r):Tt()}function jI(r){return DI[r]}function qI(r){return OI[r]}function FI(r){return NI[r]}function to(r){return{fieldPath:r.canonicalString()}}function eo(r){return Fe.fromServerFormat(r.fieldPath)}function gT(r){return r instanceof Ie?function(n){if(n.op==="=="){if(zv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(Uv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(Uv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:qI(n.op),value:n.value}}}(r):r instanceof _i?function(n){const s=n.getFilters().map(o=>gT(o));return s.length===1?s[0]:{compositeFilter:{op:FI(n.op),filters:s}}}(r):Tt()}function GI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function yT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,n,s,o,u=At.min(),f=At.min(),m=Ge.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(t){this.Tt=t}}function KI(r){const t=BI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?km(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.Tn=new YI}addToCollectionParentIndex(t,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(is.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(is.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class YI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new De(ee.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new De(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(_T,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new ho(0)}static Kn(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="LruGarbageCollector",XI=1048576;function e0([r,t],[n,s]){const o=Nt(r,n);return o===0?Nt(t,s):o}class WI{constructor(t){this.Hn=t,this.buffer=new De(e0),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();e0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ct(t0,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?ct(t0,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.er(3e5)})}}class JI{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(xh.ae);const s=new WI(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Jv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(g=Date.now(),Za()<=Mt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function tC(r,t){return new JI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.changes=new sa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&zl(s.mutation,o,En.empty(),Ce.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Vt()){const o=$s();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Ml();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=$s();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Vt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=rr();const f=Ul(),m=function(){return Ul()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof cs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),zl(E.mutation,g,E.mutation.getFieldMask(),Ce.now())):f.set(g.key,En.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new nC(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Ul();let o=new oe((f,m)=>f-m),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||En.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=tT();E.forEach(R=>{if(!u.has(R)){const N=aT(n.get(R),s.get(R));N!==null&&A.set(R,N),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):aI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Z.resolve($s());let m=ql,p=u;return f.next(g=>Z.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Vt())).next(E=>({batchId:m,changes:JE(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next(s=>{let o=Ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(t,u).next(m=>Z.forEach(m,p=>{const g=function(A,R){return new Vh(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((A,R)=>{f=f.insert(A,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))});let m=Ml();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&zl(E.mutation,g,En.empty(),Ce.now()),Lh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:KI(o.bundledQuery),readTime:mi(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.overlays=new oe(_t.comparator),this.Rr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=$s();return Z.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),Z.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const o=$s(),u=n.length+1,f=new _t(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new oe((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=$s(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return Z.resolve(m)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new SI(n,s));let u=this.Rr.get(n);u===void 0&&(u=Vt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Vr=new De(Le.mr),this.gr=new De(Le.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Le(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Le(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new _t(new ee([])),s=new Le(n,t),o=new Le(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new _t(new ee([])),s=new Le(n,t),o=new Le(n,t+1);let u=Vt();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Le(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Le{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return _t.comparator(t.key,n.key)||Nt(t.Cr,n.Cr)}static pr(t,n){return Nt(t.Cr,n.Cr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new De(Le.mr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new AI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Le(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?up:this.Fr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Le(n,0),o=new Le(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new De(Nt);return n.forEach(o=>{const u=new Le(o,0),f=new Le(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const f=new Le(new _t(u),0);let m=new De(Nt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){$t(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new Le(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Le(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.kr=t,this.docs=function(){return new oe(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=rr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=rr();const f=n.path,m=new _t(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||L1(P1(E),s)<=0||(o.has(E.key)||Lh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt()}qr(t,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new uC(this)}getSize(t){return Z.resolve(this.size)}}class uC extends eC{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t){this.persistence=t,this.Qr=new sa(n=>fp(n),dp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vp,this.targetCount=0,this.Kr=ho.Un()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new ho(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.zn(n),Z.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new xh(0),this.zr=!1,this.zr=!0,this.jr=new aC,this.referenceDelegate=t(this),this.Hr=new cC(this),this.indexManager=new QI,this.remoteDocumentCache=function(o){return new lC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new $I(n),this.Yr=new rC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new sC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new oC(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ct("MemoryPersistence","Starting transaction:",t);const o=new hC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class hC extends z1{constructor(t){super(),this.currentSequenceNumber=t}}class Ep{constructor(t){this.persistence=t,this.ti=new vp,this.ni=null}static ri(t){return new Ep(t)}get ii(){if(this.ni)return this.ni;throw Tt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=_t.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,At.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class ph{constructor(t,n){this.persistence=t,this.oi=new sa(s=>j1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=tC(this,n)}static ri(t,n){return new ph(t,n)}Zr(){}Xr(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return Z.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,At.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Z.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Yc(t.data.value)),n}ar(t,n,s){return Z.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=Vt(),o=Vt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return lR()?8:B1(Ze())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new fC;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(Za()<=Mt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Za()<=Mt.DEBUG&&ct("QueryEngine","Query:",Ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Za()<=Mt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,di(n))):Z.resolve())}rs(t,n){if(qv(n))return Z.resolve(null);let s=di(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=km(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Vt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(t,km(n,null,"F")):this.hs(t,g,n,p)}))})))}ss(t,n,s,o){return qv(n)||o.isEqual(At.min())?Z.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Z.resolve(null):(Za()<=Mt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(n)),this.hs(t,f,n,V1(o,ql)).next(m=>m))})}cs(t,n){let s=new De(WE(t));return n.forEach((o,u)=>{Lh(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return Za()<=Mt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ns.getDocumentsMatchingQuery(t,n,is.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="LocalStore",mC=3e8;class pC{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new oe(Nt),this.Is=new sa(u=>fp(u),dp),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function gC(r,t,n,s){return new pC(r,t,n,s)}async function ET(r,t){const n=Rt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Vt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function yC(r,t){const n=Rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,R=A.keys();let N=Z.resolve();return R.forEach(M=>{N=N.next(()=>E.getEntry(p,M)).next($=>{const P=g.docVersions.get(M);$t(P!==null),$.version.compareTo(P)<0&&(A.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function TT(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function _C(r,t){const n=Rt(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];t.targetChanges.forEach((E,A)=>{const R=o.get(A);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let N=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?N=N.withResumeToken(Ge.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(A,N),function($,P,q){return $.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=mC?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(R,N,E)&&m.push(n.Hr.updateTargetData(u,N))});let p=rr(),g=Vt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(vC(u,f,t.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(At.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function vC(r,t,n){let s=Vt(),o=Vt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=rr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ct(bp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function EC(r,t){const n=Rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=up),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function TC(r,t){const n=Rt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Xr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Um(r,t,n){const s=Rt(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!_o(f))throw f;ct(bp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function n0(r,t,n){const s=Rt(r);let o=At.min(),u=Vt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=Rt(p),R=A.Is.get(E);return R!==void 0?Z.resolve(A.Ts.get(R)):A.Hr.getTargetData(g,E)}(s,f,di(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Vt())).next(m=>(bC(s,lI(t),m),{documents:m,gs:u})))}function bC(r,t,n){let s=r.Es.get(t)||At.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class i0{constructor(){this.activeTargetIds=mI()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AC{constructor(){this.ho=new i0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new i0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="ConnectivityMonitor";class s0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ct(r0,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ct(r0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function zm(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",wC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,n,s,o,u){const f=zm(),m=this.bo(t,n.toUriEncodedString());ct(mm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,s).then(g=>(ct(mm,`Received RPC '${t}' ${f}: `,g),g),g=>{throw oo(mm,`RPC '${t}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(t,n,s,o,u,f){return this.So(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}bo(t,n){const s=wC[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class CC extends RC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=zm();return new Promise((f,m)=>{const p=new wE;p.setWithCredentials(!0),p.listenOnce(RE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qc.NO_ERROR:const E=p.getResponseJson();ct(Ye,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case Qc.TIMEOUT:ct(Ye,`RPC '${t}' ${u} timed out`),m(new yt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const A=p.getStatus();if(ct(Ye,`RPC '${t}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R==null?void 0:R.error;if(N&&N.status&&N.message){const M=function(P){const q=P.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(q)>=0?q:it.UNKNOWN}(N.status);m(new yt(M,N.message))}else m(new yt(it.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new yt(it.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{ct(Ye,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ct(Ye,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(t,n,s){const o=zm(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=DE(),m=CE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ct(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let R=!1,N=!1;const M=new IC({Fo:P=>{N?ct(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(R||(ct(Ye,`Opening RPC '${t}' stream ${o} transport.`),A.open(),R=!0),ct(Ye,`RPC '${t}' stream ${o} sending:`,P),A.send(P))},Mo:()=>A.close()}),$=(P,q,F)=>{P.listen(q,G=>{try{F(G)}catch(et){setTimeout(()=>{throw et},0)}})};return $(A,kl.EventType.OPEN,()=>{N||(ct(Ye,`RPC '${t}' stream ${o} transport opened.`),M.Qo())}),$(A,kl.EventType.CLOSE,()=>{N||(N=!0,ct(Ye,`RPC '${t}' stream ${o} transport closed`),M.Uo())}),$(A,kl.EventType.ERROR,P=>{N||(N=!0,oo(Ye,`RPC '${t}' stream ${o} transport errored:`,P),M.Uo(new yt(it.UNAVAILABLE,"The operation could not be completed")))}),$(A,kl.EventType.MESSAGE,P=>{var q;if(!N){const F=P.data[0];$t(!!F);const G=F,et=(G==null?void 0:G.error)||((q=G[0])===null||q===void 0?void 0:q.error);if(et){ct(Ye,`RPC '${t}' stream ${o} received error:`,et);const rt=et.status;let ft=function(S){const C=Ee[S];if(C!==void 0)return lT(C)}(rt),O=et.message;ft===void 0&&(ft=it.INTERNAL,O="Unknown error status: "+rt+" with message "+et.message),N=!0,M.Uo(new yt(ft,O)),A.close()}else ct(Ye,`RPC '${t}' stream ${o} received:`,F),M.Ko(F)}}),$(m,IE.STAT_EVENT,P=>{P.stat===Im.PROXY?ct(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):P.stat===Im.NOPROXY&&ct(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(r){return new xI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="PersistentStream";class AT{constructor(t,n,s,o,u,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bT(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new yt(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ct(a0,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ct(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DC extends AT{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=VI(this.serializer,t),s=function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?mi(f.readTime):At.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=Lm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=xm(p)?{documents:UI(u,p)}:{query:zI(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=hT(u,f.resumeToken);const g=Mm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=mh(u,f.snapshotVersion.toTimestamp());const g=Mm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=HI(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=Lm(this.serializer),n.removeTarget=t,this.I_(n)}}class OC extends AT{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=LI(t.writeResults,t.commitTime),s=mi(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=Lm(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>PI(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{}class xC extends NC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new yt(it.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(t,Vm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(it.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Vm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(it.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class kC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ir(n),this.N_=!1):ct("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class MC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{aa(this)&&(ct(Ws,"Restarting streams for network reachability change."),await async function(p){const g=Rt(p);g.W_.add(4),await su(g),g.j_.set("Unknown"),g.W_.delete(4),await jh(g)}(this))})}),this.j_=new kC(s,o)}}async function jh(r){if(aa(r))for(const t of r.G_)await t(!0)}async function su(r){for(const t of r.G_)await t(!1)}function ST(r,t){const n=Rt(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Rp(n)?wp(n):vo(n).c_()&&Sp(n,t))}function Ap(r,t){const n=Rt(r),s=vo(n);n.K_.delete(t),s.c_()&&wT(n,t),n.K_.size===0&&(s.c_()?s.P_():aa(n)&&n.j_.set("Unknown"))}function Sp(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vo(r).y_(t)}function wT(r,t){r.H_.Ne(t),vo(r).w_(t)}function wp(r){r.H_=new CI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.j_.B_()}function Rp(r){return aa(r)&&!vo(r).u_()&&r.K_.size>0}function aa(r){return Rt(r).W_.size===0}function RT(r){r.H_=void 0}async function VC(r){r.j_.set("Online")}async function PC(r){r.K_.forEach((t,n)=>{Sp(r,t)})}async function LC(r,t){RT(r),Rp(r)?(r.j_.q_(t),wp(r)):r.j_.set("Unknown")}async function UC(r,t,n){if(r.j_.set("Online"),t instanceof cT&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){ct(Ws,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await gh(r,s)}else if(t instanceof Zc?r.H_.We(t):t instanceof uT?r.H_.Ze(t):r.H_.je(t),!n.isEqual(At.min()))try{const s=await TT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Ge.EMPTY_BYTE_STRING,E.snapshotVersion)),wT(u,p);const A=new Xr(E.target,p,g,E.sequenceNumber);Sp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ct(Ws,"Failed to raise snapshot:",s),await gh(r,s)}}async function gh(r,t,n){if(!_o(t))throw t;r.W_.add(1),await su(r),r.j_.set("Offline"),n||(n=()=>TT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(Ws,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await jh(r)})}function IT(r,t){return t().catch(n=>gh(r,n,t))}async function qh(r){const t=Rt(r),n=os(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:up;for(;zC(t);)try{const o=await EC(t.localStore,s);if(o===null){t.U_.length===0&&n.P_();break}s=o.batchId,BC(t,o)}catch(o){await gh(t,o)}CT(t)&&DT(t)}function zC(r){return aa(r)&&r.U_.length<10}function BC(r,t){r.U_.push(t);const n=os(r);n.c_()&&n.S_&&n.b_(t.mutations)}function CT(r){return aa(r)&&!os(r).u_()&&r.U_.length>0}function DT(r){os(r).start()}async function HC(r){os(r).C_()}async function jC(r){const t=os(r);for(const n of r.U_)t.b_(n.mutations)}async function qC(r,t,n){const s=r.U_.shift(),o=gp.from(s,t,n);await IT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await qh(r)}async function FC(r,t){t&&os(r).S_&&await async function(s,o){if(function(f){return RI(f)&&f!==it.ABORTED}(o.code)){const u=s.U_.shift();os(s).h_(),await IT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await qh(s)}}(r,t),CT(r)&&DT(r)}async function o0(r,t){const n=Rt(r);n.asyncQueue.verifyOperationInProgress(),ct(Ws,"RemoteStore received new credentials");const s=aa(n);n.W_.add(3),await su(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await jh(n)}async function GC(r,t){const n=Rt(r);t?(n.W_.delete(2),await jh(n)):t||(n.W_.add(2),await su(n),n.j_.set("Unknown"))}function vo(r){return r.J_||(r.J_=function(n,s,o){const u=Rt(n);return u.M_(),new DC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:VC.bind(null,r),No:PC.bind(null,r),Lo:LC.bind(null,r),p_:UC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Rp(r)?wp(r):r.j_.set("Unknown")):(await r.J_.stop(),RT(r))})),r.J_}function os(r){return r.Y_||(r.Y_=function(n,s,o){const u=Rt(n);return u.M_(),new OC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:HC.bind(null,r),Lo:FC.bind(null,r),D_:jC.bind(null,r),v_:qC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await qh(r)):(await r.Y_.stop(),r.U_.length>0&&(ct(Ws,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Ip(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(r,t){if(ir("AsyncQueue",`${t}: ${r}`),_o(r))return new yt(it.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(t){return new io(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=Ml(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof io)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.Z_=new oe(_t.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Tt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class fo{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new fo(t,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class KC{constructor(){this.queries=u0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Rt(n),u=o.queries;o.queries=u0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new yt(it.ABORTED,"Firestore shutting down"))}}function u0(){return new sa(r=>XE(r),Ph)}async function QC(r,t){const n=Rt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new $C,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Cp(f,`Initialization of query '${Ja(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Dp(n)}async function YC(r,t){const n=Rt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XC(r,t){const n=Rt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Dp(n)}function WC(r,t,n){const s=Rt(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function Dp(r){r.ia.forEach(t=>{t.next()})}var Bm,c0;(c0=Bm||(Bm={}))._a="default",c0.Cache="cache";class ZC{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new fo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=fo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t){this.key=t}}class NT{constructor(t){this.key=t}}class JC{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=WE(t),this.wa=new io(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new l0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,A)=>{const R=o.get(E),N=Lh(this.query,A)?A:null,M=!!R&&this.mutatedKeys.has(R.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let P=!1;R&&N?R.data.isEqual(N.data)?M!==$&&(s.track({type:3,doc:N}),P=!0):this.va(R,N)||(s.track({type:2,doc:N}),P=!0,(p&&this.ya(N,p)>0||g&&this.ya(N,g)<0)&&(m=!0)):!R&&N?(s.track({type:0,doc:N}),P=!0):R&&!N&&(s.track({type:1,doc:R}),P=!0,(p||g)&&(m=!0)),P&&(N?(f=f.add(N),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,A)=>function(N,M){const $=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return $(N)-$(M)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new fo(this.query,t.wa,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new l0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new NT(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new OT(s))}),n}Oa(t){this.fa=t.gs,this.pa=Vt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return fo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Op="SyncEngine";class tD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class eD{constructor(t){this.key=t,this.Ba=!1}}class nD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new sa(m=>XE(m),Ph),this.qa=new Map,this.Qa=new Set,this.$a=new oe(_t.comparator),this.Ua=new Map,this.Ka=new vp,this.Wa={},this.Ga=new Map,this.za=ho.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function iD(r,t,n=!0){const s=LT(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await xT(s,t,n,!0),o}async function rD(r,t){const n=LT(r);await xT(n,t,!0,!1)}async function xT(r,t,n,s){const o=await TC(r.localStore,di(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await sD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&ST(r.remoteStore,o),m}async function sD(r,t,n,s,o){r.Ha=(A,R,N)=>async function($,P,q,F){let G=P.view.ba(q);G.ls&&(G=await n0($.localStore,P.query,!1).then(({documents:O})=>P.view.ba(O,G)));const et=F&&F.targetChanges.get(P.targetId),rt=F&&F.targetMismatches.get(P.targetId)!=null,ft=P.view.applyChanges(G,$.isPrimaryClient,et,rt);return f0($,P.targetId,ft.Ma),ft.snapshot}(r,A,R,N);const u=await n0(r.localStore,t,!0),f=new JC(t,u.gs),m=f.ba(u.documents),p=ru.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);f0(r,n,g.Ma);const E=new tD(t,n,f);return r.ka.set(t,E),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),g.snapshot}async function aD(r,t,n){const s=Rt(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Ph(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Um(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ap(s.remoteStore,o.targetId),Hm(s,o.targetId)}).catch(yo)):(Hm(s,o.targetId),await Um(s.localStore,o.targetId,!0))}async function oD(r,t){const n=Rt(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ap(n.remoteStore,s.targetId))}async function lD(r,t,n){const s=pD(r);try{const o=await function(f,m){const p=Rt(f),g=Ce.now(),E=m.reduce((N,M)=>N.add(M.key),Vt());let A,R;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let M=rr(),$=Vt();return p.ds.getEntries(N,E).next(P=>{M=P,M.forEach((q,F)=>{F.isValidDocument()||($=$.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,M)).next(P=>{A=P;const q=[];for(const F of m){const G=TI(F,A.get(F.key).overlayedDocument);G!=null&&q.push(new cs(F.key,G,jE(G.value.mapValue),$n.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,q,m)}).next(P=>{R=P;const q=P.applyToLocalDocumentSet(A,$);return p.documentOverlayCache.saveOverlays(N,P.batchId,q)})}).then(()=>({batchId:R.batchId,changes:JE(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new oe(Nt)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await au(s,o.changes),await qh(s.remoteStore)}catch(o){const u=Cp(o,"Failed to persist write");n.reject(u)}}async function kT(r,t){const n=Rt(r);try{const s=await _C(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$t(f.Ba):o.removedDocuments.size>0&&($t(f.Ba),f.Ba=!1))}),await au(n,s,t)}catch(s){await yo(s)}}function h0(r,t,n){const s=Rt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Rt(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const R of A.ta)R.sa(m)&&(g=!0)}),g&&Dp(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function uD(r,t,n){const s=Rt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ua.get(t),u=o&&o.key;if(u){let f=new oe(_t.comparator);f=f.insert(u,We.newNoDocument(u,At.min()));const m=Vt().add(u),p=new Bh(At.min(),new Map,new oe(Nt),f,m);await kT(s,p),s.$a=s.$a.remove(u),s.Ua.delete(t),Np(s)}else await Um(s.localStore,t,!1).then(()=>Hm(s,t,n)).catch(yo)}async function cD(r,t){const n=Rt(r),s=t.batch.batchId;try{const o=await yC(n.localStore,t);VT(n,s,null),MT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await au(n,o)}catch(o){await yo(o)}}async function hD(r,t,n){const s=Rt(r);try{const o=await function(f,m){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>($t(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);VT(s,t,n),MT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await au(s,o)}catch(o){await yo(o)}}function MT(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function VT(r,t,n){const s=Rt(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function Hm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||PT(r,s)})}function PT(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Ap(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),Np(r))}function f0(r,t,n){for(const s of n)s instanceof OT?(r.Ka.addReference(s.key,t),fD(r,s)):s instanceof NT?(ct(Op,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||PT(r,s.key)):Tt()}function fD(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ct(Op,"New document in limbo: "+n),r.Qa.add(s),Np(r))}function Np(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new _t(ee.fromString(t)),s=r.za.next();r.Ua.set(s,new eD(n)),r.$a=r.$a.insert(n,s),ST(r.remoteStore,new Xr(di(YE(n.path)),s,"TargetPurposeLimboResolution",xh.ae))}}async function au(r,t,n){const s=Rt(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Tp.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Rt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Z.forEach(g,R=>Z.forEach(R.Hi,N=>E.persistence.referenceDelegate.addReference(A,R.targetId,N)).next(()=>Z.forEach(R.Ji,N=>E.persistence.referenceDelegate.removeReference(A,R.targetId,N)))))}catch(A){if(!_o(A))throw A;ct(bp,"Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const N=E.Ts.get(R),M=N.snapshotVersion,$=N.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(R,$)}}}(s.localStore,u))}async function dD(r,t){const n=Rt(r);if(!n.currentUser.isEqual(t)){ct(Op,"User change. New user:",t.toKey());const s=await ET(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new yt(it.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await au(n,s.Rs)}}function mD(r,t){const n=Rt(r),s=n.Ua.get(t);if(s&&s.Ba)return Vt().add(s.key);{let o=Vt();const u=n.qa.get(t);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function LT(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=kT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uD.bind(null,t),t.La.p_=XC.bind(null,t.eventManager),t.La.Ja=WC.bind(null,t.eventManager),t}function pD(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hD.bind(null,t),t}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return gC(this.persistence,new dC,t.initialUser,this.serializer)}Xa(t){return new vT(Ep.ri,this.serializer)}Za(t){return new AC}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class gD extends yh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){$t(this.persistence.referenceDelegate instanceof ph);const s=this.persistence.referenceDelegate.garbageCollector;return new ZI(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new vT(s=>ph.ri(s,n),this.serializer)}}class jm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>h0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dD.bind(null,this.syncEngine),await GC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new KC}()}createDatastore(t){const n=Hh(t.databaseInfo.databaseId),s=function(u){return new CC(u)}(t.databaseInfo);return function(u,f,m,p){return new xC(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new MC(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>h0(this.syncEngine,n,0),function(){return s0.D()?new s0:new SC}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const A=new nD(o,u,f,m,p,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=Rt(o);ct(Ws,"RemoteStore shutting down."),u.W_.add(5),await su(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class _D{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=xE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ct(ls,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ct(ls,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Cp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function gm(r,t){r.asyncQueue.verifyOperationInProgress(),ct(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ET(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function d0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await vD(r);ct(ls,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>o0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>o0(t.remoteStore,o)),r._onlineComponents=t}async function vD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(ls,"Using user provided OfflineComponentProvider");try{await gm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await gm(r,new yh)}}else ct(ls,"Using default OfflineComponentProvider"),await gm(r,new gD(void 0));return r._offlineComponents}async function UT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(ls,"Using user provided OnlineComponentProvider"),await d0(r,r._uninitializedComponentsProvider._online)):(ct(ls,"Using default OnlineComponentProvider"),await d0(r,new jm))),r._onlineComponents}function ED(r){return UT(r).then(t=>t.syncEngine)}async function TD(r){const t=await UT(r),n=t.eventManager;return n.onListen=iD.bind(null,t.syncEngine),n.onUnlisten=aD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=rD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=oD.bind(null,t.syncEngine),n}function bD(r,t,n={}){const s=new ts;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new yD({next:R=>{E.su(),f.enqueueAndForget(()=>YC(u,A)),R.fromCache&&p.source==="server"?g.reject(new yt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new ZC(m,E,{includeMetadataChanges:!0,Ta:!0});return QC(u,A)}(await TD(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r,t,n){if(!n)throw new yt(it.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function AD(r,t,n,s){if(t===!0&&s===!0)throw new yt(it.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function p0(r){if(!_t.isDocumentKey(r))throw new yt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function g0(r){if(_t.isDocumentKey(r))throw new yt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt()}function Zs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new yt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xp(r);throw new yt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firestore.googleapis.com",y0=!0;class _0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new yt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HT,this.ssl=y0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:y0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XI)throw new yt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new yt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new yt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new yt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new R1;switch(s.type){case"firstParty":return new O1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=m0.get(n);s&&(ct("ComponentProvider","Removing Datastore"),m0.delete(n),s.terminate())}(this),Promise.resolve()}}function SD(r,t,n,s={}){var o;const u=(r=Zs(r,Fh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==HT&&u.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Qs(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Xe.MOCK_USER;else{g=_E(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new yt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xe(A)}r._authCredentials=new I1(new OE(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Gh(this.firestore,t,this._query)}}class Un{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Un(this.firestore,t,this._key)}}class es extends Gh{constructor(t,n,s){super(t,n,YE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Un(this.firestore,null,new _t(t))}withConverter(t){return new es(this.firestore,t,this._path)}}function v0(r,t,...n){if(r=Ue(r),BT("collection","path",t),r instanceof Fh){const s=ee.fromString(t,...n);return g0(s),new es(r,null,s)}{if(!(r instanceof Un||r instanceof es))throw new yt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return g0(s),new es(r.firestore,null,s)}}function qm(r,t,...n){if(r=Ue(r),arguments.length===1&&(t=xE.newId()),BT("doc","path",t),r instanceof Fh){const s=ee.fromString(t,...n);return p0(s),new Un(r,null,new _t(s))}{if(!(r instanceof Un||r instanceof es))throw new yt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(t,...n));return p0(s),new Un(r.firestore,r instanceof es?r.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="AsyncQueue";class T0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bT(this,"async_queue_retry"),this.Su=()=>{const s=pm();s&&ct(E0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ts;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!_o(t))throw t;ct(E0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ir("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=Ip.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Tt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class ou extends Fh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new T0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new T0(t),this._firestoreClient=void 0,await t}}}function wD(r,t){const n=typeof r=="object"?r:op(),s=typeof r=="string"?r:lh,o=Nh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=pE("firestore");u&&SD(o,...u)}return o}function jT(r){if(r._terminated)throw new yt(it.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RD(r),r._firestoreClient}function RD(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new G1(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,zT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new _D(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mo(Ge.fromBase64String(t))}catch(n){throw new yt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new mo(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new yt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new yt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=/^__.*__$/;class CD{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new cs(t,this.data,this.fieldMask,n,this.fieldTransforms):new iu(t,this.data,n,this.fieldTransforms)}}class qT{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new cs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function FT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class Pp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Pp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return _h(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(FT(this.Lu)&&ID.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class DD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Hh(t)}ju(t,n,s,o=!1){return new Pp({Lu:t,methodName:n,zu:s,path:Fe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GT(r){const t=r._freezeSettings(),n=Hh(r._databaseId);return new DD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function OD(r,t,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);Lp("Data must be an object, but it was:",f,s);const m=$T(s,f);let p,g;if(u.merge)p=new En(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=Fm(t,A,n);if(!f.contains(R))throw new yt(it.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);QT(E,R)||E.push(R)}p=new En(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new CD(new hn(m),p,g)}class Kh extends kp{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kh}}function ND(r,t,n,s){const o=r.ju(1,t,n);Lp("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();us(s,(p,g)=>{const E=Up(t,p,n);g=Ue(g);const A=o.Uu(E);if(g instanceof Kh)u.push(E);else{const R=Qh(g,A);R!=null&&(u.push(E),f.set(E,R))}});const m=new En(u);return new qT(f,m,o.fieldTransforms)}function xD(r,t,n,s,o,u){const f=r.ju(1,t,n),m=[Fm(t,s,n)],p=[o];if(u.length%2!=0)throw new yt(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Fm(t,u[R])),p.push(u[R+1]);const g=[],E=hn.empty();for(let R=m.length-1;R>=0;--R)if(!QT(g,m[R])){const N=m[R];let M=p[R];M=Ue(M);const $=f.Uu(N);if(M instanceof Kh)g.push(N);else{const P=Qh(M,$);P!=null&&(g.push(N),E.set(N,P))}}const A=new En(g);return new qT(E,A,f.fieldTransforms)}function Qh(r,t){if(KT(r=Ue(r)))return Lp("Unsupported field value:",t,r),$T(r,t);if(r instanceof kp)return function(s,o){if(!FT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Qh(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Ue(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ce.fromDate(s);return{timestampValue:mh(o.serializer,u)}}if(s instanceof Ce){const u=new Ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mh(o.serializer,u)}}if(s instanceof Mp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof mo)return{bytesValue:hT(o.serializer,s._byteString)};if(s instanceof Un){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vp)return function(f,m){return{mapValue:{fields:{[BE]:{stringValue:HE},[uh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return mp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${xp(s)}`)}(r,t)}function $T(r,t){const n={};return ME(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):us(r,(s,o)=>{const u=Qh(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function KT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ce||r instanceof Mp||r instanceof mo||r instanceof Un||r instanceof kp||r instanceof Vp)}function Lp(r,t,n){if(!KT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=xp(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function Fm(r,t,n){if((t=Ue(t))instanceof $h)return t._internalPath;if(typeof t=="string")return Up(r,t);throw _h("Field path arguments must be of type string or ",r,!1,void 0,n)}const kD=new RegExp("[~\\*/\\[\\]]");function Up(r,t,n){if(t.search(kD)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $h(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function _h(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new yt(it.INVALID_ARGUMENT,m+r+p)}function QT(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(XT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MD extends YT{data(){return super.data()}}function XT(r,t){return typeof t=="string"?Up(r,t):t instanceof $h?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new yt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PD{convertValue(t,n="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return us(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pe(f.doubleValue));return new Vp(u)}convertGeoPoint(t){return new Mp(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Mh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Fl(t));default:return null}}convertTimestamp(t){const n=rs(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);$t(yT(s));const o=new Gl(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(n)||ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class UD extends YT{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(XT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Jc extends UD{data(t={}){return super.data(t)}}class zD{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Jc(this._firestore,this._userDataWriter,s.key,s,new Hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new yt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Jc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:BD(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}class HD extends PD{constructor(t){super(),this.firestore=t}convertBytes(t){return new mo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function jD(r){r=Zs(r,Gh);const t=Zs(r.firestore,ou),n=jT(t),s=new HD(t);return VD(r._query),bD(n,r._query).then(o=>new zD(t,s,r,o))}function qD(r,t,n,...s){r=Zs(r,Un);const o=Zs(r.firestore,ou),u=GT(o);let f;return f=typeof(t=Ue(t))=="string"||t instanceof $h?xD(u,"updateDoc",r._key,t,n,s):ND(u,"updateDoc",r._key,t),zp(o,[f.toMutation(r._key,$n.exists(!0))])}function FD(r){return zp(Zs(r.firestore,ou),[new pp(r._key,$n.none())])}function GD(r,t){const n=Zs(r.firestore,ou),s=qm(r),o=LD(r.converter,t);return zp(n,[OD(GT(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then(()=>s)}function zp(r,t){return function(s,o){const u=new ts;return s.asyncQueue.enqueueAndForget(async()=>lD(await ED(s),o,u)),u.promise}(jT(r),t)}(function(t,n=!0){(function(o){go=o})(ra),Ys(new ns("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ou(new C1(s.getProvider("auth-internal")),new N1(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new yt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),fi(Rv,Iv,t),fi(Rv,Iv,"esm2017")})();var $D="firebase",KD="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi($D,KD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebasestorage.googleapis.com",QD="storageBucket",YD=2*60*1e3,XD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Ti{constructor(t,n,s=0){super(ym(t),`Firebase Storage: ${n} (${ym(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ym(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vi||(vi={}));function ym(r){return"storage/"+r}function WD(){const r="An unknown error occurred, please check the error payload for server response.";return new bi(vi.UNKNOWN,r)}function ZD(){return new bi(vi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function JD(){return new bi(vi.CANCELED,"User canceled the upload/download.")}function t2(r){return new bi(vi.INVALID_URL,"Invalid URL '"+r+"'.")}function e2(r){return new bi(vi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function b0(r){return new bi(vi.INVALID_ARGUMENT,r)}function ZT(){return new bi(vi.APP_DELETED,"The Firebase app was deleted.")}function n2(r){return new bi(vi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=Gn.makeFromUrl(t,n)}catch{return new Gn(t,"")}if(s.path==="")return s;throw e2(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(et){et.path.charAt(et.path.length-1)==="/"&&(et.path_=et.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function g(et){et.path_=decodeURIComponent(et.path)}const E="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",N=new RegExp(`^https?://${A}/${E}/b/${o}/o${R}`,"i"),M={bucket:1,path:3},$=n===WT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",q=new RegExp(`^https?://${$}/${o}/${P}`,"i"),G=[{regex:m,indices:p,postModify:u},{regex:N,indices:M,postModify:g},{regex:q,indices:{bucket:1,path:2},postModify:g}];for(let et=0;et<G.length;et++){const rt=G[et],ft=rt.regex.exec(t);if(ft){const O=ft[rt.indices.bucket];let w=ft[rt.indices.path];w||(w=""),s=new Gn(O,w),rt.postModify(s);break}}if(s==null)throw t2(t);return s}}class i2{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(r,t,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let g=!1;function E(...P){g||(g=!0,t.apply(null,P))}function A(P){o=setTimeout(()=>{o=null,r(N,p())},P)}function R(){u&&clearTimeout(u)}function N(P,...q){if(g){R();return}if(P){R(),E.call(null,P,...q);return}if(p()||f){R(),E.call(null,P,...q);return}s<64&&(s*=2);let G;m===1?(m=2,G=0):G=(s+Math.random())*1e3,A(G)}let M=!1;function $(P){M||(M=!0,R(),!g&&(o!==null?(P||(m=2),clearTimeout(o),A(0)):P||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,$(!0)},n),$}function s2(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(r){return r!==void 0}function A0(r,t,n,s){if(s<t)throw b0(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>n)throw b0(`Invalid value for '${r}'. Expected ${n} or less.`)}function o2(r){const t=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=t(s)+"="+t(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var vh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(vh||(vh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(r,t){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,n,s,o,u,f,m,p,g,E,A,R=!0){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=A,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,M)=>{this.resolve_=N,this.reject_=M,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new jc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===vh.NO_ERROR,p=u.getStatus();if(!m||l2(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===vh.ABORT;s(!1,new jc(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new jc(g,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());a2(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=WD();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?ZT():JD();f(p)}else{const p=ZD();f(p)}};this.canceled_?n(!1,new jc(!1,null,!0)):this.backoffId_=r2(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&s2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jc{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function c2(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function h2(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function f2(r,t){t&&(r["X-Firebase-GMPID"]=t)}function d2(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function m2(r,t,n,s,o,u,f=!0){const m=o2(r.urlParams),p=r.url+m,g=Object.assign({},r.headers);return f2(g,t),c2(g,n),h2(g,u),d2(g,s),new u2(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function g2(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n){this._service=t,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Eh(t,n)}get root(){const t=new Gn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return g2(this._location.path)}get storage(){return this._service}get parent(){const t=p2(this._location.path);if(t===null)return null;const n=new Gn(this._location.bucket,t);return new Eh(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw n2(t)}}function S0(r,t){const n=t==null?void 0:t[QD];return n==null?null:Gn.makeFromBucketSpec(n,r)}function y2(r,t,n,s={}){r.host=`${t}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:_E(o,r.app.options.projectId))}class _2{constructor(t,n,s,o,u){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=WT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YD,this._maxUploadRetryTime=XD,this._requests=new Set,o!=null?this._bucket=Gn.makeFromBucketSpec(o,this._host):this._bucket=S0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,t):this._bucket=S0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){A0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){A0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Eh(this,t)}_makeRequest(t,n,s,o,u=!0){if(this._deleted)return new i2(ZT());{const f=m2(t,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const w0="@firebase/storage",R0="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="storage";function v2(r=op(),t){r=Ue(r);const s=Nh(r,JT).getImmediate({identifier:t}),o=pE("storage");return o&&E2(s,...o),s}function E2(r,t,n,s={}){y2(r,t,n,s)}function T2(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new _2(n,s,o,t,ra)}function b2(){Ys(new ns(JT,T2,"PUBLIC").setMultipleInstances(!0)),fi(w0,R0,""),fi(w0,R0,"esm2017")}b2();function Bp(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A2=tb,eb=new eu("auth","Firebase",tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new sp("@firebase/auth");function S2(r,...t){Th.logLevel<=Mt.WARN&&Th.warn(`Auth (${ra}): ${r}`,...t)}function th(r,...t){Th.logLevel<=Mt.ERROR&&Th.error(`Auth (${ra}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...t){throw Hp(r,...t)}function pi(r,...t){return Hp(r,...t)}function nb(r,t,n){const s=Object.assign(Object.assign({},A2()),{[t]:n});return new eu("auth","Firebase",s).create(t,{appName:r.name})}function tr(r){return nb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return eb.create(r,...t)}function Et(r,t,...n){if(!r)throw Hp(t,...n)}function Xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw th(t),new Error(t)}function sr(r,t){r||Xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function w2(){return I0()==="http:"||I0()==="https:"}function I0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w2()||sR()||"connection"in navigator)?navigator.onLine:!0}function I2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t,n){this.shortDelay=t,this.longDelay=n,sr(n>t,"Short delay should be less than long delay!"),this.isMobile=nR()||aR()}get(){return R2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(r,t){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new lu(3e4,6e4);function hs(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function fs(r,t,n,s,o={}){return rb(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=nu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return rR()||(g.referrerPolicy="no-referrer"),ib.fetch()(sb(r,r.config.apiHost,n,m),g)})}async function rb(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},C2),t);try{const o=new N2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw qc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw qc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw qc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw nb(r,E,g);Qn(r,E)}}catch(o){if(o instanceof Ti)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function uu(r,t,n,s,o={}){const u=await fs(r,t,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function sb(r,t,n,s){const o=`${t}${n}?${s}`;return r.config.emulator?jp(r.config,o):`${r.config.apiScheme}://${o}`}function O2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),D2.get())})}}function qc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(r,t,s);return o.customData._tokenResponse=n,o}function C0(r){return r!==void 0&&r.enterprise!==void 0}class x2{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return O2(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k2(r,t){return fs(r,"GET","/v2/recaptchaConfig",hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(r,t){return fs(r,"POST","/v1/accounts:delete",t)}async function ab(r,t){return fs(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function V2(r,t=!1){const n=Ue(r),s=await n.getIdToken(t),o=qp(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Bl(_m(o.auth_time)),issuedAtTime:Bl(_m(o.iat)),expirationTime:Bl(_m(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function _m(r){return Number(r)*1e3}function qp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=dE(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function D0(r){const t=qp(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ti&&P2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function P2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Yl(r,ab(n,{idToken:s}));Et(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?ob(u.providerUserInfo):[],m=z2(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new $m(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function U2(r){const t=Ue(r);await bh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function z2(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function ob(r){return r.map(t=>{var{providerId:n}=t,s=Bp(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(r,t){const n=await rb(r,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=sb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",ib.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H2(r,t){return fs(r,"POST","/v2/accounts:revokeToken",hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):D0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=D0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await B2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ro;return s&&(Et(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wi{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Bp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new $m(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return V2(this,t)}reload(){return U2(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Wi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await Yl(this,M2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,F=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:et,isAnonymous:rt,providerData:ft,stsTokenManager:O}=n;Et(G&&O,t,"internal-error");const w=ro.fromJSON(this.name,O);Et(typeof G=="string",t,"internal-error"),Gr(A,t.name),Gr(R,t.name),Et(typeof et=="boolean",t,"internal-error"),Et(typeof rt=="boolean",t,"internal-error"),Gr(N,t.name),Gr(M,t.name),Gr($,t.name),Gr(P,t.name),Gr(q,t.name),Gr(F,t.name);const S=new Wi({uid:G,auth:t,email:R,emailVerified:et,displayName:A,isAnonymous:rt,photoURL:M,phoneNumber:N,tenantId:$,stsTokenManager:w,createdAt:q,lastLoginAt:F});return ft&&Array.isArray(ft)&&(S.providerData=ft.map(C=>Object.assign({},C))),P&&(S._redirectEventId=P),S}static async _fromIdTokenResponse(t,n,s=!1){const o=new ro;o.updateFromServerResponse(n);const u=new Wi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await bh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ob(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ro;m.updateFromIdToken(s);const p=new Wi({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new $m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;function Zi(r){sr(r instanceof Function,"Expected a class definition");let t=O0.get(r);return t?(sr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,O0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}lb.type="NONE";const N0=lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(r,t,n){return`firebase:${r}:${t}:${n}`}class so{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Wi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new so(Zi(N0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Zi(N0);const f=eh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){const A=Wi._fromJSON(t,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new so(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ub(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mb(t))return"Blackberry";if(pb(t))return"Webos";if(cb(t))return"Safari";if((t.includes("chrome/")||hb(t))&&!t.includes("edge/"))return"Chrome";if(db(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ub(r=Ze()){return/firefox\//i.test(r)}function cb(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hb(r=Ze()){return/crios\//i.test(r)}function fb(r=Ze()){return/iemobile/i.test(r)}function db(r=Ze()){return/android/i.test(r)}function mb(r=Ze()){return/blackberry/i.test(r)}function pb(r=Ze()){return/webos/i.test(r)}function Fp(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function j2(r=Ze()){var t;return Fp(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function q2(){return oR()&&document.documentMode===10}function gb(r=Ze()){return Fp(r)||db(r)||pb(r)||mb(r)||/windows phone/i.test(r)||fb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r,t=[]){let n;switch(r){case"Browser":n=x0(Ze());break;case"Worker":n=`${x0(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r,t={}){return fs(r,"GET","/v2/passwordPolicy",hs(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=6;class K2{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:$2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new k0(this),this.idTokenSubscription=new k0(this),this.beforeStateQueue=new F2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await so.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ab(this,{idToken:t}),s=await Wi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(vn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await bh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=I2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vn(this.app))return Promise.reject(tr(this));const n=t?Ue(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await G2(this),n=new K2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new eu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await H2(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zi(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&S2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oa(r){return Ue(r)}class k0{constructor(t){this.auth=t,this.observer=null,this.addObserver=pR(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y2(r){Yh=r}function _b(r){return Yh.loadJS(r)}function X2(){return Yh.recaptchaEnterpriseScript}function W2(){return Yh.gapiScript}function Z2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class J2{constructor(){this.enterprise=new tO}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class tO{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const eO="recaptcha-enterprise",vb="NO_RECAPTCHA";class nO{constructor(t){this.type=eO,this.auth=oa(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{k2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new x2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;C0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(vb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new J2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&C0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=X2();p.length!==0&&(p+=m),_b(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function M0(r,t,n,s=!1,o=!1){const u=new nO(r);let f;if(o)f=vb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Km(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await M0(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await M0(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(r,t){const n=Nh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qs(u,t??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:t})}function rO(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function sO(r,t,n){const s=oa(r);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Eb(t),{host:f,port:m}=aO(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Qs(g,s.config.emulator)&&Qs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,oO()}function Eb(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function aO(r){const t=Eb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:V0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:V0(f)}}}function V0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function oO(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,n){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function lO(r,t){return fs(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(r,t){return uu(r,"POST","/v1/accounts:signInWithPassword",hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(r,t){return uu(r,"POST","/v1/accounts:signInWithEmailLink",hs(r,t))}async function hO(r,t){return uu(r,"POST","/v1/accounts:signInWithEmailLink",hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends Gp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Xl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Xl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(t,n,"signInWithPassword",uO);case"emailLink":return cO(t,{email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(t,s,"signUpPassword",lO);case"emailLink":return hO(t,{idToken:n,email:this._email,oobCode:this._password});default:Qn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r,t){return uu(r,"POST","/v1/accounts:signInWithIdp",hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="http://localhost";class Js extends Gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Bp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return ao(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ao(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ao(t,n)}buildRequest(){const t={requestUri:fO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mO(r){const t=Nl(xl(r)).link,n=t?Nl(xl(t)).deep_link_id:null,s=Nl(xl(r)).deep_link_id;return(s?Nl(xl(s)).link:null)||s||n||t||r}class $p{constructor(t){var n,s,o,u,f,m;const p=Nl(xl(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=dO((o=p.mode)!==null&&o!==void 0?o:null);Et(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=mO(t);try{return new $p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.providerId=Eo.PROVIDER_ID}static credential(t,n){return Xl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=$p.parseLink(n);return Et(s,"argument-error"),Xl._fromEmailAndCode(t,s.code,s.tenantId)}}Eo.PROVIDER_ID="password";Eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Tb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends cu{constructor(){super("facebook.com")}static credential(t){return Js._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $r.credential(t.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Js._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.GOOGLE_SIGN_IN_METHOD="google.com";Kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends cu{constructor(){super("github.com")}static credential(t){return Js._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qr.credential(t.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends cu{constructor(){super("twitter.com")}static credential(t,n){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Yr.credentialFromTaggedObject(t)}static credentialFromError(t){return Yr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(r,t){return uu(r,"POST","/v1/accounts:signUp",hs(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Wi._fromIdTokenResponse(t,s,o),f=P0(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=P0(s);return new ta({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function P0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Ti{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ah(t,n,s,o)}}function bb(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,u,t,s):u})}async function gO(r,t,n=!1){const s=await Yl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ta._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(r,t,n=!1){const{auth:s}=r;if(vn(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await Yl(r,bb(s,o,t,r),n);Et(u.idToken,s,"internal-error");const f=qp(u.idToken);Et(f,s,"internal-error");const{sub:m}=f;return Et(r.uid===m,s,"user-mismatch"),ta._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(r,t,n=!1){if(vn(r.app))return Promise.reject(tr(r));const s="signIn",o=await bb(r,s,t),u=await ta._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function _O(r,t){return Ab(oa(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(r){const t=oa(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function vO(r,t,n){if(vn(r.app))return Promise.reject(tr(r));const s=oa(r),f=await Km(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Sb(r),p}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function EO(r,t,n){return vn(r.app)?Promise.reject(tr(r)):_O(Ue(r),Eo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Sb(r),s})}function TO(r,t,n,s){return Ue(r).onIdTokenChanged(t,n,s)}function bO(r,t,n){return Ue(r).beforeAuthStateChanged(t,n)}function AO(r,t,n,s){return Ue(r).onAuthStateChanged(t,n,s)}function SO(r){return Ue(r).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=1e3,RO=10;class Rb extends wb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);q2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,RO):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},wO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Rb.type="LOCAL";const IO=Rb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends wb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Ib.type="SESSION";const Cb=Ib;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Xh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await CO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Kp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function OO(r){gi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function NO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xO(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function kO(){return Db()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firebaseLocalStorageDb",MO=1,wh="firebaseLocalStorage",Nb="fbase_key";class hu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(r,t){return r.transaction([wh],t?"readwrite":"readonly").objectStore(wh)}function VO(){const r=indexedDB.deleteDatabase(Ob);return new hu(r).toPromise()}function Qm(){const r=indexedDB.open(Ob,MO);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(wh,{keyPath:Nb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(wh)?t(s):(s.close(),await VO(),t(await Qm()))})})}async function L0(r,t,n){const s=Wh(r,!0).put({[Nb]:t,value:n});return new hu(s).toPromise()}async function PO(r,t){const n=Wh(r,!1).get(t),s=await new hu(n).toPromise();return s===void 0?null:s.value}function U0(r,t){const n=Wh(r,!0).delete(t);return new hu(n).toPromise()}const LO=800,UO=3;class xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>UO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(kO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await NO(),!this.activeServiceWorker)return;this.sender=new DO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qm();return await L0(t,Sh,"1"),await U0(t,Sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>L0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>PO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>U0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new hu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xb.type="LOCAL";const zO=xb;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(r,t){return t?Zi(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Gp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ao(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ao(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ao(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function HO(r){return Ab(r.auth,new Qp(r),r.bypassAuthState)}function jO(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),yO(n,new Qp(r),r.bypassAuthState)}async function qO(r){const{auth:t,user:n}=r;return Et(n,t,"internal-error"),gO(n,new Qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HO;case"linkViaPopup":case"linkViaRedirect":return qO;case"reauthViaPopup":case"reauthViaRedirect":return jO;default:Qn(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=new lu(2e3,1e4);class no extends kb{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=Kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,FO.get())};t()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="pendingRedirect",nh=new Map;class $O extends kb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=nh.get(this.auth._key());if(!t){try{const s=await KO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}nh.set(this.auth._key(),t)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KO(r,t){const n=XO(t),s=YO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function QO(r,t){nh.set(r._key(),t)}function YO(r){return Zi(r._redirectPersistence)}function XO(r){return eh(GO,r.config.apiKey,r.name)}async function WO(r,t,n=!1){if(vn(r.app))return Promise.reject(tr(r));const s=oa(r),o=BO(s,t),f=await new $O(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=10*60*1e3;class JO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!tN(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!Mb(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ZO&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(t))}saveEventToCache(t){this.cachedEventUids.add(z0(t)),this.lastProcessedEventTime=Date.now()}}function z0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Mb({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function tN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,t={}){return fs(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iN=/^https?/;async function rN(r){if(r.config.emulator)return;const{authorizedDomains:t}=await eN(r);for(const n of t)try{if(sN(n))return}catch{}Qn(r,"unauthorized-domain")}function sN(r){const t=Gm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!iN.test(n))return!1;if(nN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new lu(3e4,6e4);function B0(){const r=gi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function oN(r){return new Promise((t,n)=>{var s,o,u;function f(){B0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(pi(r,"network-request-failed"))},timeout:aN.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)f();else{const m=Z2("iframefcb");return gi()[m]=()=>{gapi.load?f():n(pi(r,"network-request-failed"))},_b(`${W2()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw ih=null,t})}let ih=null;function lN(r){return ih=ih||oN(r),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=new lu(5e3,15e3),cN="__/auth/iframe",hN="emulator/auth/iframe",fN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mN(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?jp(t,hN):`https://${r.config.authDomain}/${cN}`,s={apiKey:t.apiKey,appName:r.name,v:ra},o=dN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function pN(r){const t=await lN(r),n=gi().gapi;return Et(n,r,"internal-error"),t.open({where:document.body,url:mN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=pi(r,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},uN.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yN=500,_N=600,vN="_blank",EN="http://localhost";class H0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TN(r,t,n,s=yN,o=_N){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},gN),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Ze().toLowerCase();n&&(m=hb(g)?vN:n),ub(g)&&(t=t||EN,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[N,M])=>`${R}${N}=${M},`,"");if(j2(g)&&m!=="_self")return bN(t||"",m),new H0(null);const A=window.open(t||"",m,E);Et(A,r,"popup-blocked");try{A.focus()}catch{}return new H0(A)}function bN(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="__/auth/handler",SN="emulator/auth/handler",wN=encodeURIComponent("fac");async function j0(r,t,n,s,o,u){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ra,eventId:o};if(t instanceof Tb){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",mR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof cu){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${wN}=${encodeURIComponent(p)}`:"";return`${RN(r)}?${nu(m).slice(1)}${g}`}function RN({config:r}){return r.emulator?jp(r,SN):`https://${r.authDomain}/${AN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cb,this._completeRedirectFn=WO,this._overrideRedirectResult=QO}async _openPopup(t,n,s,o){var u;sr((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await j0(t,n,s,Gm(),o);return TN(t,f,Kp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await j0(t,n,s,Gm(),o);return OO(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await pN(t),s=new JO(t);return n.register("authEvent",o=>(Et(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(vm,{type:vm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[vm];f!==void 0&&n(!!f),Qn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rN(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return gb()||cb()||Fp()}}const CN=IN;var q0="@firebase/auth",F0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NN(r){Ys(new ns("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Et(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yb(r)},g=new Q2(s,o,u,p);return rO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ys(new ns("auth-internal",t=>{const n=oa(t.getProvider("auth").getImmediate());return(s=>new DN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fi(q0,F0,ON(r)),fi(q0,F0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=5*60,kN=yE("authIdTokenMaxAge")||xN;let G0=null;const MN=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>kN)return;const o=n==null?void 0:n.token;G0!==o&&(G0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VN(r=op()){const t=Nh(r,"auth");if(t.isInitialized())return t.getImmediate();const n=iO(r,{popupRedirectResolver:CN,persistence:[zO,IO,Cb]}),s=yE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=MN(u.toString());bO(n,f,()=>f(n.currentUser)),TO(n,m=>f(m))}}const o=mE("auth");return o&&sO(n,`http://${o}`),n}function PN(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}Y2({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",PN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NN("Browser");const LN={apiKey:"AIzaSyCvjC3oc_x19RdgGuC5aQfOp-ZJvvgWAXQ",authDomain:"gerenciador-clientes-99bdb.firebaseapp.com",projectId:"gerenciador-clientes-99bdb",storageBucket:"gerenciador-clientes-99bdb.firebasestorage.app",messagingSenderId:"60322421635",appId:"1:60322421635:web:f01304386ec9d91211b4b6"},Yp=TE(LN),Fc=wD(Yp);v2(Yp);const Gc=VN(Yp),Vb=j.createContext(),UN=()=>j.useContext(Vb);function zN({children:r}){const[t,n]=j.useState([]),s=async m=>{try{const p={...m,timestamp:Date.now()};return(await GD(v0(Fc,"clientes"),p)).id?"Cliente creado exitosamente":"Error al crear el cliente"}catch(p){return console.error("Error específico:",p),"Error al crear el cliente"}},o=async m=>{try{const g=(await jD(v0(Fc,"clientes"))).docs.map(E=>({id:E.id,...E.data()})).filter(E=>E.userId===m).sort((E,A)=>(A.timestamp||0)-(E.timestamp||0));return n(g),g}catch{return"Error al obtener los clientes"}},u=async(m,p)=>{try{const g=qm(Fc,"clientes",m);return await qD(g,p),"Cliente actualizado exitosamente"}catch{return"Error al actualizar el cliente"}},f=async m=>{try{return await FD(qm(Fc,"clientes",m)),"Cliente eliminado exitosamente"}catch{return"Error al eliminar el cliente"}};return ot.jsx(Vb.Provider,{value:{clientes:t,handleCreateCliente:s,handleGetClientes:o,handleUpdateCliente:u,handleDeleteCliente:f},children:r})}const Pb=j.createContext();function BN({children:r}){const[t,n]=j.useState(null),[s,o]=j.useState(null);j.useEffect(()=>{const p=AO(Gc,g=>{n(g)});return()=>p()},[]);const u=async(p,g)=>{try{return await vO(Gc,p,g),!0}catch(E){return o(E.message),!1}},f=async(p,g)=>{try{return await EO(Gc,p,g),!0}catch(E){return o(E.message),!1}},m=async()=>{try{return await SO(Gc),!0}catch(p){return o(p.message),!1}};return ot.jsx(Pb.Provider,{value:{user:t,error:s,handleRegister:u,handleLogin:f,handleLogout:m},children:r})}const Xp=()=>j.useContext(Pb);function Lb(r){var t,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(n=Lb(r[t]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function Ks(){for(var r,t,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(t=Lb(r))&&(s&&(s+=" "),s+=t);return s}function HN(r){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}HN(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var fu=r=>typeof r=="number"&&!isNaN(r),ea=r=>typeof r=="string",ar=r=>typeof r=="function",jN=r=>ea(r)||fu(r),Ym=r=>ea(r)||ar(r)?r:null,qN=(r,t)=>r===!1||fu(r)&&r>0?r:t,Xm=r=>j.isValidElement(r)||ea(r)||ar(r)||fu(r);function FN(r,t,n=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}function GN({enter:r,exit:t,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:A}){let R=n?`${r}--${f}`:r,N=n?`${t}--${f}`:t,M=j.useRef(0);return j.useLayoutEffect(()=>{let $=g.current,P=R.split(" "),q=F=>{F.target===g.current&&(A(),$.removeEventListener("animationend",q),$.removeEventListener("animationcancel",q),M.current===0&&F.type!=="animationcancel"&&$.classList.remove(...P))};$.classList.add(...P),$.addEventListener("animationend",q),$.addEventListener("animationcancel",q)},[]),j.useEffect(()=>{let $=g.current,P=()=>{$.removeEventListener("animationend",P),s?FN($,p,o):p()};E||(m?P():(M.current=1,$.className+=` ${N}`,$.addEventListener("animationend",P)))},[E]),Jt.createElement(Jt.Fragment,null,u)}}function $0(r,t){return{content:Ub(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:t}}function Ub(r,t,n=!1){return j.isValidElement(r)&&!ea(r.type)?j.cloneElement(r,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):ar(r)?r({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):r}function $N({closeToast:r,theme:t,ariaLabel:n="close"}){return Jt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":n},Jt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Jt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function KN({delay:r,isRunning:t,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:f,progress:m,rtl:p,isIn:g,theme:E}){let A=o||f&&m===0,R={animationDuration:`${r}ms`,animationPlayState:t?"running":"paused"};f&&(R.transform=`scaleX(${m})`);let N=Ks("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),M=ar(u)?u({rtl:p,type:s,defaultClassName:N}):Ks(N,u),$={[f&&m>=1?"onTransitionEnd":"onAnimationEnd"]:f&&m<1?null:()=>{g&&n()}};return Jt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},Jt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),Jt.createElement("div",{role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:M,style:R,...$}))}var QN=1,zb=()=>`${QN++}`;function YN(r,t,n){let s=1,o=0,u=[],f=[],m=t,p=new Map,g=new Set,E=F=>(g.add(F),()=>g.delete(F)),A=()=>{f=Array.from(p.values()),g.forEach(F=>F())},R=({containerId:F,toastId:G,updateId:et})=>{let rt=F?F!==r:r!==1,ft=p.has(G)&&et==null;return rt||ft},N=(F,G)=>{p.forEach(et=>{var rt;(G==null||G===et.props.toastId)&&((rt=et.toggle)==null||rt.call(et,F))})},M=F=>{var G,et;(et=(G=F.props)==null?void 0:G.onClose)==null||et.call(G,F.removalReason),F.isActive=!1},$=F=>{if(F==null)p.forEach(M);else{let G=p.get(F);G&&M(G)}A()},P=()=>{o-=u.length,u=[]},q=F=>{var G,et;let{toastId:rt,updateId:ft}=F.props,O=ft==null;F.staleId&&p.delete(F.staleId),F.isActive=!0,p.set(rt,F),A(),n($0(F,O?"added":"updated")),O&&((et=(G=F.props).onOpen)==null||et.call(G))};return{id:r,props:m,observe:E,toggle:N,removeToast:$,toasts:p,clearQueue:P,buildToast:(F,G)=>{if(R(G))return;let{toastId:et,updateId:rt,data:ft,staleId:O,delay:w}=G,S=rt==null;S&&o++;let C={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(G).filter(([U,D])=>D!=null)),toastId:et,updateId:rt,data:ft,isIn:!1,className:Ym(G.className||m.toastClassName),progressClassName:Ym(G.progressClassName||m.progressClassName),autoClose:G.isLoading?!1:qN(G.autoClose,m.autoClose),closeToast(U){p.get(et).removalReason=U,$(et)},deleteToast(){let U=p.get(et);if(U!=null){if(n($0(U,"removed")),p.delete(et),o--,o<0&&(o=0),u.length>0){q(u.shift());return}A()}}};C.closeButton=m.closeButton,G.closeButton===!1||Xm(G.closeButton)?C.closeButton=G.closeButton:G.closeButton===!0&&(C.closeButton=Xm(m.closeButton)?m.closeButton:!0);let k={content:F,props:C,staleId:O};m.limit&&m.limit>0&&o>m.limit&&S?u.push(k):fu(w)?setTimeout(()=>{q(k)},w):q(k)},setProps(F){m=F},setToggle:(F,G)=>{let et=p.get(F);et&&(et.toggle=G)},isToastActive:F=>{var G;return(G=p.get(F))==null?void 0:G.isActive},getSnapshot:()=>f}}var an=new Map,Wl=[],Wm=new Set,XN=r=>Wm.forEach(t=>t(r)),Bb=()=>an.size>0;function WN(){Wl.forEach(r=>jb(r.content,r.options)),Wl=[]}var ZN=(r,{containerId:t})=>{var n;return(n=an.get(t||1))==null?void 0:n.toasts.get(r)};function Hb(r,t){var n;if(t)return!!((n=an.get(t))!=null&&n.isToastActive(r));let s=!1;return an.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function JN(r){if(!Bb()){Wl=Wl.filter(t=>r!=null&&t.options.toastId!==r);return}if(r==null||jN(r))an.forEach(t=>{t.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let t=an.get(r.containerId);t?t.removeToast(r.id):an.forEach(n=>{n.removeToast(r.id)})}}var tx=(r={})=>{an.forEach(t=>{t.props.limit&&(!r.containerId||t.id===r.containerId)&&t.clearQueue()})};function jb(r,t){Xm(r)&&(Bb()||Wl.push({content:r,options:t}),an.forEach(n=>{n.buildToast(r,t)}))}function ex(r){var t;(t=an.get(r.containerId||1))==null||t.setToggle(r.id,r.fn)}function qb(r,t){an.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(r,t==null?void 0:t.id)})}function nx(r){let t=r.containerId||1;return{subscribe(n){let s=YN(t,r,XN);an.set(t,s);let o=s.observe(n);return WN(),()=>{o(),an.delete(t)}},setProps(n){var s;(s=an.get(t))==null||s.setProps(n)},getSnapshot(){var n;return(n=an.get(t))==null?void 0:n.getSnapshot()}}}function ix(r){return Wm.add(r),()=>{Wm.delete(r)}}function rx(r){return r&&(ea(r.toastId)||fu(r.toastId))?r.toastId:zb()}function du(r,t){return jb(r,t),t.toastId}function Zh(r,t){return{...t,type:t&&t.type||r,toastId:rx(t)}}function Jh(r){return(t,n)=>du(t,Zh(r,n))}function St(r,t){return du(r,Zh("default",t))}St.loading=(r,t)=>du(r,Zh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function sx(r,{pending:t,error:n,success:s},o){let u;t&&(u=ea(t)?St.loading(t,o):St.loading(t.render,{...o,...t}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,A)=>{if(E==null){St.dismiss(u);return}let R={type:g,...f,...o,data:A},N=ea(E)?{render:E}:E;return u?St.update(u,{...R,...N}):St(N.render,{...R,...N}),A},p=ar(r)?r():r;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}St.promise=sx;St.success=Jh("success");St.info=Jh("info");St.error=Jh("error");St.warning=Jh("warning");St.warn=St.warning;St.dark=(r,t)=>du(r,Zh("default",{theme:"dark",...t}));function ax(r){JN(r)}St.dismiss=ax;St.clearWaitingQueue=tx;St.isActive=Hb;St.update=(r,t={})=>{let n=ZN(r,t);if(n){let{props:s,content:o}=n,u={delay:100,...s,...t,toastId:t.toastId||r,updateId:zb()};u.toastId!==r&&(u.staleId=r);let f=u.render||o;delete u.render,du(f,u)}};St.done=r=>{St.update(r,{progress:1})};St.onChange=ix;St.play=r=>qb(!0,r);St.pause=r=>qb(!1,r);function ox(r){var t;let{subscribe:n,getSnapshot:s,setProps:o}=j.useRef(nx(r)).current;o(r);let u=(t=j.useSyncExternalStore(n,s,s))==null?void 0:t.slice();function f(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:f,isToastActive:Hb,count:u==null?void 0:u.length}}function lx(r){let[t,n]=j.useState(!1),[s,o]=j.useState(!1),u=j.useRef(null),f=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:A}=r;ex({id:r.toastId,containerId:r.containerId,fn:n}),j.useEffect(()=>{if(r.pauseOnFocusLoss)return R(),()=>{N()}},[r.pauseOnFocusLoss]);function R(){document.hasFocus()||q(),window.addEventListener("focus",P),window.addEventListener("blur",q)}function N(){window.removeEventListener("focus",P),window.removeEventListener("blur",q)}function M(O){if(r.draggable===!0||r.draggable===O.pointerType){F();let w=u.current;f.canCloseOnClick=!0,f.canDrag=!0,w.style.transition="none",r.draggableDirection==="x"?(f.start=O.clientX,f.removalDistance=w.offsetWidth*(r.draggablePercent/100)):(f.start=O.clientY,f.removalDistance=w.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function $(O){let{top:w,bottom:S,left:C,right:k}=u.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&r.pauseOnHover&&O.clientX>=C&&O.clientX<=k&&O.clientY>=w&&O.clientY<=S?q():P()}function P(){n(!0)}function q(){n(!1)}function F(){f.didMove=!1,document.addEventListener("pointermove",et),document.addEventListener("pointerup",rt)}function G(){document.removeEventListener("pointermove",et),document.removeEventListener("pointerup",rt)}function et(O){let w=u.current;if(f.canDrag&&w){f.didMove=!0,t&&q(),r.draggableDirection==="x"?f.delta=O.clientX-f.start:f.delta=O.clientY-f.start,f.start!==O.clientX&&(f.canCloseOnClick=!1);let S=r.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;w.style.transform=`translate3d(${S},0)`,w.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function rt(){G();let O=u.current;if(f.canDrag&&f.didMove&&O){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let ft={onPointerDown:M,onPointerUp:$};return m&&p&&(ft.onMouseEnter=q,r.stacked||(ft.onMouseLeave=P)),A&&(ft.onClick=O=>{E&&E(O),f.canCloseOnClick&&g(!0)}),{playToast:P,pauseToast:q,isRunning:t,preventExitTransition:s,toastRef:u,eventHandlers:ft}}var ux=typeof window<"u"?j.useLayoutEffect:j.useEffect,tf=({theme:r,type:t,isLoading:n,...s})=>Jt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function cx(r){return Jt.createElement(tf,{...r},Jt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function hx(r){return Jt.createElement(tf,{...r},Jt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function fx(r){return Jt.createElement(tf,{...r},Jt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function dx(r){return Jt.createElement(tf,{...r},Jt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function mx(){return Jt.createElement("div",{className:"Toastify__spinner"})}var Zm={info:hx,warning:cx,success:fx,error:dx,spinner:mx},px=r=>r in Zm;function gx({theme:r,type:t,isLoading:n,icon:s}){let o=null,u={theme:r,type:t};return s===!1||(ar(s)?o=s({...u,isLoading:n}):j.isValidElement(s)?o=j.cloneElement(s,u):n?o=Zm.spinner():px(t)&&(o=Zm[t](u))),o}var yx=r=>{let{isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=lx(r),{closeButton:f,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:A,closeToast:R,transition:N,position:M,className:$,style:P,progressClassName:q,updateId:F,role:G,progress:et,rtl:rt,toastId:ft,deleteToast:O,isIn:w,isLoading:S,closeOnClick:C,theme:k,ariaLabel:U}=r,D=Ks("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":rt},{"Toastify__toast--close-on-click":C}),ne=ar($)?$({rtl:rt,position:M,type:E,defaultClassName:D}):Ks(D,$),te=gx(r),st=!!et||!p,gt={closeToast:R,type:E,theme:k},J=null;return f===!1||(ar(f)?J=f(gt):j.isValidElement(f)?J=j.cloneElement(f,gt):J=$N(gt)),Jt.createElement(N,{isIn:w,done:O,position:M,preventExitTransition:n,nodeRef:s,playToast:u},Jt.createElement("div",{id:ft,tabIndex:0,onClick:g,"data-in":w,className:ne,...o,style:P,ref:s,...w&&{role:G,"aria-label":U}},te!=null&&Jt.createElement("div",{className:Ks("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},te),Ub(m,r,!t),J,!r.customProgressBar&&Jt.createElement(KN,{...F&&!st?{key:`p-${F}`}:{},rtl:rt,theme:k,delay:p,isRunning:t,isIn:w,closeToast:R,hide:A,type:E,className:q,controlledProgress:st,progress:et||0})))},_x=(r,t=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:t}),vx=GN(_x("bounce",!0)),Ex={position:"top-right",transition:vx,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function Wp(r){let t={...Ex,...r},n=r.stacked,[s,o]=j.useState(!0),u=j.useRef(null),{getToastToRender:f,isToastActive:m,count:p}=ox(t),{className:g,style:E,rtl:A,containerId:R,hotKeys:N}=t;function M(P){let q=Ks("Toastify__toast-container",`Toastify__toast-container--${P}`,{"Toastify__toast-container--rtl":A});return ar(g)?g({position:P,rtl:A,defaultClassName:q}):Ks(q,Ym(g))}function $(){n&&(o(!0),St.play())}return ux(()=>{var P;if(n){let q=u.current.querySelectorAll('[data-in="true"]'),F=12,G=(P=t.position)==null?void 0:P.includes("top"),et=0,rt=0;Array.from(q).reverse().forEach((ft,O)=>{let w=ft;w.classList.add("Toastify__toast--stacked"),O>0&&(w.dataset.collapsed=`${s}`),w.dataset.pos||(w.dataset.pos=G?"top":"bot");let S=et*(s?.2:1)+(s?0:F*O);w.style.setProperty("--y",`${G?S:S*-1}px`),w.style.setProperty("--g",`${F}`),w.style.setProperty("--s",`${1-(s?rt:0)}`),et+=w.offsetHeight,rt+=.025})}},[s,p,n]),j.useEffect(()=>{function P(q){var F;let G=u.current;N(q)&&((F=G.querySelector('[tabIndex="0"]'))==null||F.focus(),o(!1),St.pause()),q.key==="Escape"&&(document.activeElement===G||G!=null&&G.contains(document.activeElement))&&(o(!0),St.play())}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[N]),Jt.createElement("section",{ref:u,className:"Toastify",id:R,onMouseEnter:()=>{n&&(o(!1),St.pause())},onMouseLeave:$,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},f((P,q)=>{let F=q.length?{...E}:{...E,pointerEvents:"none"};return Jt.createElement("div",{tabIndex:-1,className:M(P),"data-stacked":n,style:F,key:`c-${P}`},q.map(({content:G,props:et})=>Jt.createElement(yx,{...et,stacked:n,collapseAll:$,isIn:m(et.toastId,et.containerId),key:`t-${et.key}`},G)))}))}const K0=()=>{const[r,t]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(!1),{handleLogin:f}=Xp(),m=Ih();j.useEffect(()=>{localStorage.getItem("darkMode")==="true"&&document.body.classList.add("dark-mode")},[]);const p=async g=>{if(g.preventDefault(),!r||!n){St.error("Por favor complete todos los campos");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){St.error("Por favor ingrese un email válido");return}u(!0);try{await f(r,n)===!0?(St.success("Iniciando sesión"),setTimeout(()=>{m("/dashboard")},2e3)):St.error("Error al intentar iniciar sesión")}catch(A){St.error(`Error al intentar iniciar sesión: ${A.message}`)}finally{u(!1)}};return ot.jsxs("div",{className:"login-container",children:[ot.jsx(Wp,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),ot.jsxs("div",{className:"login-card",children:[ot.jsx("h1",{children:"Login"}),ot.jsxs("form",{onSubmit:p,children:[ot.jsx("div",{className:"form-group",children:ot.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:g=>t(g.target.value),disabled:o})}),ot.jsx("div",{className:"form-group",children:ot.jsx("input",{type:"password",placeholder:"Contraseña",value:n,onChange:g=>s(g.target.value),disabled:o})}),ot.jsx("button",{type:"submit",className:"button-login",disabled:o,children:o?"Iniciando...":"Iniciar Sesión"})]}),ot.jsxs("p",{className:"link-text",children:["¿No tienes cuenta? ",ot.jsx(Dh,{to:"/register",children:"Registrarse"})]})]})]})},Tx=()=>{const[r,t]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(!1),{handleRegister:f}=Xp(),m=Ih();j.useEffect(()=>{localStorage.getItem("darkMode")==="true"&&document.body.classList.add("dark-mode")},[]);const p=async g=>{if(g.preventDefault(),!r||!n){St.error("Por favor complete todos los campos");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){St.error("Por favor ingrese un email válido");return}if(n.length<6){St.error("La contraseña debe tener al menos 6 caracteres");return}u(!0);try{await f(r,n)===!0?(St.success("Usuario registrado exitosamente"),setTimeout(()=>{m("/login")},2e3)):St.error("Error al intentar registrarse")}catch(A){St.error(`Error al intentar registrarse: ${A.message}`)}finally{u(!1)}};return ot.jsxs("div",{className:"login-container",children:[ot.jsx(Wp,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),ot.jsxs("div",{className:"login-card",children:[ot.jsx("h1",{children:"Registro de Usuario"}),ot.jsxs("form",{onSubmit:p,children:[ot.jsx("div",{className:"form-group",children:ot.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:g=>t(g.target.value),disabled:o})}),ot.jsx("div",{className:"form-group",children:ot.jsx("input",{type:"password",placeholder:"Contraseña",value:n,onChange:g=>s(g.target.value),disabled:o})}),ot.jsx("button",{type:"submit",className:"button-login",disabled:o,children:o?"Registrando...":"Registrarse"})]}),ot.jsxs("p",{className:"link-text",children:["¿Ya tienes cuenta? ",ot.jsx(Dh,{to:"/login",children:"Inicia Sesión"})]})]})]})},bx=()=>{const[r,t]=j.useState(()=>{const J=localStorage.getItem("darkMode");return J?JSON.parse(J):!1});j.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(r)),r?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")},[r]);const[n,s]=j.useState(""),[o,u]=j.useState(""),[f,m]=j.useState(""),[p,g]=j.useState(""),[E,A]=j.useState(""),[R,N]=j.useState(null),[M,$]=j.useState(""),[P,q]=j.useState(!1),{user:F,handleLogout:G}=Xp(),{handleCreateCliente:et,handleGetClientes:rt,handleUpdateCliente:ft,handleDeleteCliente:O,clientes:w}=UN(),S=Ih(),C=async()=>{await G(),S("/login")},k=async J=>{if(J.preventDefault(),!n||!o||!f||!p||!E){St.error("Por favor complete todos los campos");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)){St.error("Por favor ingrese un email válido");return}if(!/^\+?[\d-]{10,}$/.test(f)){St.error("Por favor ingrese un teléfono válido");return}const nt={userId:F.uid,nombre:n,apellido:o,telefono:f,email:p,direccion:E};let ht;R?ht=await ft(R,nt):ht=await et(nt),ht.includes("exitosamente")?(St.success(ht),await rt(F.uid),s(""),u(""),m(""),g(""),A(""),N(null)):St.error("Error en la operación")},U=j.useRef(null),D=J=>{var bt;N(J.id),s(J.nombre),u(J.apellido),m(J.telefono),g(J.email),A(J.direccion),(bt=U.current)==null||bt.scrollIntoView({behavior:"smooth"})},ne=()=>{N(null),s(""),u(""),m(""),g(""),A("")},te=async J=>{if(window.confirm("¿Está seguro de eliminar este cliente?")){const bt=await O(J);bt.includes("exitosamente")?(St.success(bt),await rt(F.uid)):St.error("Error al eliminar el cliente")}};j.useEffect(()=>{(async()=>{F&&(q(!0),await rt(F.uid),q(!1))})()},[F]);const st=J=>J.toLowerCase().trim(),gt=w.filter(J=>{const bt=st(M),x=st(`${J.nombre} ${J.apellido}`),nt=st(`${J.apellido} ${J.nombre}`),ht=st(J.email);return x.includes(bt)||nt.includes(bt)||ht.includes(bt)||st(J.nombre).includes(bt)||st(J.apellido).includes(bt)});return ot.jsxs("div",{className:`dashboard-container ${r?"dark-mode":""}`,children:[ot.jsx(Wp,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:r?"dark":"light"}),P?ot.jsxs("div",{className:"loading-container",children:[ot.jsx("div",{className:"loading-spinner"}),ot.jsx("p",{children:"Cargando clientes..."})]}):F&&ot.jsxs("div",{className:"dashboard-card",children:[ot.jsxs("nav",{className:"dashboard-nav",children:[ot.jsx("h2",{children:"Panel de Control"}),ot.jsxs("div",{className:"user-info",children:[ot.jsx("span",{children:F.email}),ot.jsx("button",{className:"theme-toggle",onClick:()=>t(!r),children:r?"☀️":"🌙"}),ot.jsx("button",{onClick:C,children:"Cerrar Sesión"})]})]}),ot.jsxs("main",{className:"dashboard-main",children:[ot.jsx("h1",{children:"Bienvenido al Sistema"}),ot.jsxs("form",{ref:U,onSubmit:k,children:[ot.jsx("input",{type:"text",value:n,placeholder:"nombre",onChange:J=>s(J.target.value)}),ot.jsx("input",{type:"text",value:o,placeholder:"apellido",onChange:J=>u(J.target.value)}),ot.jsx("input",{type:"text",value:f,placeholder:"telefono",onChange:J=>m(J.target.value)}),ot.jsx("input",{type:"text",value:p,placeholder:"email",onChange:J=>g(J.target.value)}),ot.jsx("input",{type:"text",value:E,placeholder:"direccion",onChange:J=>A(J.target.value)}),ot.jsxs("div",{className:"form-buttons",children:[ot.jsx("button",{type:"submit",children:R?"Actualizar cliente":"Añadir cliente"}),R&&ot.jsx("button",{type:"button",onClick:ne,children:"Cancelar"})]})]}),ot.jsx("h2",{children:"Clientes"}),ot.jsx("div",{className:"search-container",children:ot.jsx("input",{type:"text",placeholder:"Buscar por nombre, apellido o email...",value:M,onChange:J=>$(J.target.value),className:"search-input"})}),gt.length>0?ot.jsx("div",{className:"cliente-list",children:gt.map((J,bt)=>ot.jsxs("div",{className:"cliente-card",children:[ot.jsxs("h3",{children:[J.nombre," ",J.apellido]}),ot.jsxs("p",{children:[ot.jsx("strong",{children:"Teléfono:"})," ",J.telefono]}),ot.jsxs("p",{children:[ot.jsx("strong",{children:"Email:"})," ",J.email]}),ot.jsxs("p",{children:[ot.jsx("strong",{children:"Dirección:"})," ",J.direccion]}),ot.jsxs("div",{className:"cliente-buttons",children:[ot.jsx("button",{onClick:()=>D(J),children:"Editar"}),ot.jsx("button",{onClick:()=>te(J.id),children:"Eliminar"})]})]},J.id||bt))}):ot.jsx("div",{className:"no-clientes",children:ot.jsx("p",{children:"No se encontraron clientes"})})]})]})]})};function Ax(){return ot.jsx(zN,{children:ot.jsx(Lw,{children:ot.jsxs(mw,{children:[ot.jsx(Ol,{path:"/",element:ot.jsx(K0,{})}),ot.jsx(Ol,{path:"/login",element:ot.jsx(K0,{})}),ot.jsx(Ol,{path:"/register",element:ot.jsx(Tx,{})}),ot.jsx(Ol,{path:"/dashboard",element:ot.jsx(bx,{})})]})})})}SS.createRoot(document.getElementById("root")).render(ot.jsx(Jt.StrictMode,{children:ot.jsx(BN,{children:ot.jsx(Ax,{})})}));
